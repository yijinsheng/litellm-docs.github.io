"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[42242],{28453(e,n,r){r.d(n,{R:()=>t,x:()=>l});var i=r(96540);const s={},o=i.createContext(s);function t(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(o.Provider,{value:n},e.children)}},36172(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>a,frontMatter:()=>t,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"proxy/arize_phoenix_prompts","title":"Arize Phoenix \u63d0\u793a\u7ba1\u7406","description":"\u4f7f\u7528\u6765\u81ea Arize Phoenix \u7684\u63d0\u793a\u7248\u672c\u4e0e LiteLLM SDK \u548c Proxy\u3002","source":"@site/docs/proxy/arize_phoenix_prompts.md","sourceDirName":"proxy","slug":"/proxy/arize_phoenix_prompts","permalink":"/docs/proxy/arize_phoenix_prompts","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"integrationsSidebar","previous":{"title":"Prompt Management","permalink":"/docs/proxy/prompt_management"},"next":{"title":"Claude Code","permalink":"/docs/tutorials/claude_responses_api"}}');var s=r(74848),o=r(28453);const t={},l="Arize Phoenix \u63d0\u793a\u7ba1\u7406",d={},p=[{value:"\u5feb\u901f\u5f00\u59cb",id:"\u5feb\u901f\u5f00\u59cb",level:2},{value:"SDK",id:"sdk",level:3},{value:"Proxy",id:"proxy",level:3},{value:"\u914d\u7f6e",id:"\u914d\u7f6e",level:2},{value:"\u83b7\u53d6 Arize Phoenix \u51ed\u636e",id:"\u83b7\u53d6-arize-phoenix-\u51ed\u636e",level:3},{value:"SDK + PROXY \u9009\u9879",id:"sdk--proxy-\u9009\u9879",level:3},{value:"\u4ec5 Proxy \u9009\u9879",id:"\u4ec5-proxy-\u9009\u9879",level:3},{value:"\u53d8\u91cf\u6a21\u677f",id:"\u53d8\u91cf\u6a21\u677f",level:2},{value:"\u7ed3\u5408\u989d\u5916\u6d88\u606f",id:"\u7ed3\u5408\u989d\u5916\u6d88\u606f",level:2},{value:"\u9519\u8bef\u5904\u7406",id:"\u9519\u8bef\u5904\u7406",level:2},{value:"\u652f\u6301",id:"\u652f\u6301",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"arize-phoenix-\u63d0\u793a\u7ba1\u7406",children:"Arize Phoenix \u63d0\u793a\u7ba1\u7406"})}),"\n",(0,s.jsxs)(n.p,{children:["\u4f7f\u7528\u6765\u81ea ",(0,s.jsx)(n.a,{href:"https://phoenix.arize.com/",children:"Arize Phoenix"})," \u7684\u63d0\u793a\u7248\u672c\u4e0e LiteLLM SDK \u548c Proxy\u3002"]}),"\n",(0,s.jsx)(n.h2,{id:"\u5feb\u901f\u5f00\u59cb",children:"\u5feb\u901f\u5f00\u59cb"}),"\n",(0,s.jsx)(n.h3,{id:"sdk",children:"SDK"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import litellm\n\nresponse = litellm.completion(\n    model="gpt-4o",\n    prompt_id="UHJvbXB0VmVyc2lvbjox",\n    prompt_integration="arize_phoenix",\n    api_key="your-arize-phoenix-token",\n    api_base="https://app.phoenix.arize.com/s/your-workspace",\n    prompt_variables={"question": "What is AI?"},\n)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"proxy",children:"Proxy"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"1. \u6dfb\u52a0\u63d0\u793a\u5230\u914d\u7f6e"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'prompts:\n  - prompt_id: "simple_prompt"\n    litellm_params:\n      prompt_id: "UHJvbXB0VmVyc2lvbjox"\n      prompt_integration: "arize_phoenix"\n      api_base: https://app.phoenix.arize.com/s/your-workspace\n      api_key: os.environ/PHOENIX_API_KEY\n      ignore_prompt_manager_model: true # \u53ef\u9009\uff1a\u4f7f\u7528\u914d\u7f6e\u4e2d\u7684\u6a21\u578b\u800c\u4e0d\u662f\u63d0\u793a\u7684\u6a21\u578b\n      ignore_prompt_manager_optional_params: true # \u53ef\u9009\uff1a\u5ffd\u7565\u63d0\u793a\u4e2d\u7684 temp \u548c max_tokens \u53c2\u6570\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"2. \u53d1\u9001\u8bf7\u6c42"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST \'http://0.0.0.0:4000/chat/completions\' \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer sk-1234\' \\\n  -d \'{\n    "model": "gpt-3.5-turbo",\n    "prompt_id": "simple_prompt",\n    "prompt_variables": {\n      "question": "Explain quantum computing"\n    }\n  }\'\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u914d\u7f6e",children:"\u914d\u7f6e"}),"\n",(0,s.jsx)(n.h3,{id:"\u83b7\u53d6-arize-phoenix-\u51ed\u636e",children:"\u83b7\u53d6 Arize Phoenix \u51ed\u636e"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API Token"}),": \u5728 ",(0,s.jsx)(n.a,{href:"https://app.phoenix.arize.com/",children:"Arize Phoenix \u8bbe\u7f6e"})," \u4e2d\u83b7\u53d6"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5de5\u4f5c\u533a URL"}),": ",(0,s.jsx)(n.code,{children:"https://app.phoenix.arize.com/s/{your-workspace}"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u63d0\u793a ID"}),": \u5728\u63d0\u793a\u7248\u672c\u7684 URL \u4e2d\u627e\u5230"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf"}),"\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'export PHOENIX_API_KEY="your-token"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"sdk--proxy-\u9009\u9879",children:"SDK + PROXY \u9009\u9879"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u53c2\u6570"}),(0,s.jsx)(n.th,{children:"\u5fc5\u586b"}),(0,s.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"prompt_id"})}),(0,s.jsx)(n.td,{children:"\u662f"}),(0,s.jsx)(n.td,{children:"Arize Phoenix \u63d0\u793a\u7248\u672c ID"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"prompt_integration"})}),(0,s.jsx)(n.td,{children:"\u662f"}),(0,s.jsxs)(n.td,{children:["\u8bbe\u7f6e\u4e3a ",(0,s.jsx)(n.code,{children:'"arize_phoenix"'})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"api_base"})}),(0,s.jsx)(n.td,{children:"\u662f"}),(0,s.jsx)(n.td,{children:"\u5de5\u4f5c\u533a URL"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"api_key"})}),(0,s.jsx)(n.td,{children:"\u662f"}),(0,s.jsx)(n.td,{children:"\u8bbf\u95ee\u4ee4\u724c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"prompt_variables"})}),(0,s.jsx)(n.td,{children:"\u5426"}),(0,s.jsx)(n.td,{children:"\u6a21\u677f\u4e2d\u7684\u53d8\u91cf"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"\u4ec5-proxy-\u9009\u9879",children:"\u4ec5 Proxy \u9009\u9879"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u53c2\u6570"}),(0,s.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ignore_prompt_manager_model"})}),(0,s.jsx)(n.td,{children:"\u4f7f\u7528\u914d\u7f6e\u4e2d\u7684\u6a21\u578b\u800c\u4e0d\u662f\u63d0\u793a\u7684\u6a21\u578b"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ignore_prompt_manager_optional_params"})}),(0,s.jsx)(n.td,{children:"\u5ffd\u7565\u63d0\u793a\u4e2d\u7684\u6e29\u5ea6\u548c\u6700\u5927\u4ee4\u724c\u6570\u53c2\u6570"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"\u53d8\u91cf\u6a21\u677f",children:"\u53d8\u91cf\u6a21\u677f"}),"\n",(0,s.jsx)(n.p,{children:"Arize Phoenix \u4f7f\u7528 Mustache/Handlebars \u8bed\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# \u6a21\u677f: "Hello {{name}}, question: {{question}}"\nprompt_variables = {\n    "name": "Alice",\n    "question": "What is ML?"\n}\n# \u7ed3\u679c: "Hello Alice, question: What is ML?"\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u7ed3\u5408\u989d\u5916\u6d88\u606f",children:"\u7ed3\u5408\u989d\u5916\u6d88\u606f"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'response = litellm.completion(\n    model="gpt-4o",\n    prompt_id="UHJvbXB0VmVyc2lvbjox",\n    prompt_integration="arize_phoenix",\n    api_base="https://app.phoenix.arize.com/s/your-workspace",\n    prompt_variables={"question": "Explain AI"},\n    messages=[\n        {"role": "user", "content": "Keep it under 50 words"}\n    ]\n)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u9519\u8bef\u5904\u7406",children:"\u9519\u8bef\u5904\u7406"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'try:\n    response = litellm.completion(\n        model="gpt-4o",\n        prompt_id="invalid-id",\n        prompt_integration="arize_phoenix",\n        api_base="https://app.phoenix.arize.com/s/workspace"\n    )\nexcept Exception as e:\n    print(f"Error: {e}")\n    # 404: \u63d0\u793a\u672a\u627e\u5230\n    # 401: \u65e0\u6548\u51ed\u636e\n    # 403: \u8bbf\u95ee\u88ab\u62d2\u7edd\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u652f\u6301",children:"\u652f\u6301"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/issues",children:"LiteLLM GitHub Issues"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.arize.com/phoenix",children:"Arize Phoenix \u6587\u6863"})}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);