"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[3549],{28453(e,n,r){r.d(n,{R:()=>t,x:()=>c});var i=r(96540);const s={},l=i.createContext(s);function t(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(l.Provider,{value:n},e.children)}},60462(e,n,r){r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"migration","title":"\u8fc1\u79fb\u6307\u5357 - LiteLLM v1.0.0+","description":"\u5f53\u6211\u4eec\u5728\u6709\u7834\u574f\u6027\u66f4\u6539\u65f6\uff08\u4f8b\u5982\uff0c\u4ece 1.x.x \u5230 2.x.x\uff09\uff0c\u6211\u4eec\u5c06\u5728\u672c\u8282\u4e2d\u8bb0\u5f55\u8fd9\u4e9b\u66f4\u6539\u3002","source":"@site/docs/migration.md","sourceDirName":".","slug":"/migration","permalink":"/docs/migration","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u81ea\u5b9a\u4e49\u5b9a\u4ef7 - SageMaker, Azure \u7b49","permalink":"/docs/sdk_custom_pricing"},"next":{"title":"\u6570\u636e\u9690\u79c1\u4e0e\u5b89\u5168","permalink":"/docs/data_security"}}');var s=r(74848),l=r(28453);const t={},c="\u8fc1\u79fb\u6307\u5357 - LiteLLM v1.0.0+",o={},d=[{value:"<code>1.0.0</code>",id:"100",level:2}];function a(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\u8fc1\u79fb\u6307\u5357---litellm-v100",children:"\u8fc1\u79fb\u6307\u5357 - LiteLLM v1.0.0+"})}),"\n",(0,s.jsx)(n.p,{children:"\u5f53\u6211\u4eec\u5728\u6709\u7834\u574f\u6027\u66f4\u6539\u65f6\uff08\u4f8b\u5982\uff0c\u4ece 1.x.x \u5230 2.x.x\uff09\uff0c\u6211\u4eec\u5c06\u5728\u672c\u8282\u4e2d\u8bb0\u5f55\u8fd9\u4e9b\u66f4\u6539\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"100",children:(0,s.jsx)(n.code,{children:"1.0.0"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u6700\u540e\u4e00\u6b21\u975e\u7834\u574f\u6027\u53d8\u66f4\u7684\u7248\u672c"}),": 0.14.0"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u53d1\u751f\u4e86\u4ec0\u4e48\u53d8\u5316?"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u8981\u6c42 ",(0,s.jsx)(n.code,{children:"openai>=1.0.0"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"openai.InvalidRequestError"})," \u2192 ",(0,s.jsx)(n.code,{children:"openai.BadRequestError"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"openai.ServiceUnavailableError"})," \u2192 ",(0,s.jsx)(n.code,{children:"openai.APIStatusError"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"\u65b0\u589e"})," litellm \u5ba2\u6237\u7aef\uff0c\u5141\u8bb8\u7528\u6237\u4f20\u9012 api_key","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:'litellm.Litellm(api_key="sk-123")'})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u54cd\u5e94\u5bf9\u8c61\u73b0\u5728\u7ee7\u627f\u81ea ",(0,s.jsx)(n.code,{children:"BaseModel"}),"\uff08\u4e4b\u524d\u4e3a ",(0,s.jsx)(n.code,{children:"OpenAIObject"}),"\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"\u65b0\u589e"})," \u9ed8\u8ba4\u5f02\u5e38 - ",(0,s.jsx)(n.code,{children:"APIConnectionError"}),"\uff08\u4e4b\u524d\u4e3a ",(0,s.jsx)(n.code,{children:"APIError"}),"\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"litellm.get_max_tokens()"})," \u73b0\u5728\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u800c\u4e0d\u662f\u5b57\u5178","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'max_tokens = litellm.get_max_tokens("gpt-3.5-turbo") # \u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u800c\u975e\u5b57\u5178 \nassert max_tokens==4097\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u6d41\u5f0f\u4f20\u8f93 - OpenAI \u5757\u73b0\u5728\u8fd4\u56de ",(0,s.jsx)(n.code,{children:"None"})," \u7528\u4e8e\u7a7a\u7684\u6d41\u5f0f\u4f20\u8f93\u5757\u3002\u8fd9\u662f\u5982\u4f55\u5904\u7406\u5e26\u6709\u5185\u5bb9\u7684\u6d41\u5f0f\u4f20\u8f93\u5757\u7684\u65b9\u6cd5","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'response = litellm.completion(model="gpt-3.5-turbo", messages=messages, stream=True)\nfor part in response:\n    print(part.choices[0].delta.content or "")\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u6211\u4eec\u5982\u4f55\u66f4\u597d\u5730\u4f20\u8fbe\u8fd9\u4e9b\u53d8\u5316?"}),"\n\u544a\u8bc9\u6211\u4eec"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://discord.com/invite/wuPM9dRgDw",children:"Discord"})}),"\n",(0,s.jsxs)(n.li,{children:["\u90ae\u4ef6 (",(0,s.jsx)(n.a,{href:"mailto:krrish@berri.ai",children:"krrish@berri.ai"}),"/ishaan@berri.ai)"]}),"\n",(0,s.jsx)(n.li,{children:"\u7535\u8bdd (+17708783106)"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);