"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[88842],{28453(e,l,n){n.d(l,{R:()=>d,x:()=>r});var i=n(96540);const s={},o=i.createContext(s);function d(e){const l=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(l):{...l,...e}},[l,e])}function r(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(o.Provider,{value:l},e.children)}},32371(e,l,n){n.r(l),n.d(l,{assets:()=>t,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"set_keys","title":"\u8bbe\u7f6e API \u5bc6\u94a5\u3001\u57fa\u7840 URL \u548c\u7248\u672c","description":"LiteLLM \u5141\u8bb8\u60a8\u6307\u5b9a\u4ee5\u4e0b\u5185\u5bb9\uff1a","source":"@site/docs/set_keys.md","sourceDirName":".","slug":"/set_keys","permalink":"/docs/set_keys","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"speech()","permalink":"/docs/text_to_speech"},"next":{"title":"\u7f13\u5b58 - \u5185\u5b58\u3001Redis\u3001s3\u3001gcs\u3001Redis\u8bed\u4e49\u7f13\u5b58\u3001\u78c1\u76d8","permalink":"/docs/caching/all_caches"}}');var s=n(74848),o=n(28453);const d={},r="\u8bbe\u7f6e API \u5bc6\u94a5\u3001\u57fa\u7840 URL \u548c\u7248\u672c",t={},c=[{value:"\u73af\u5883\u53d8\u91cf",id:"\u73af\u5883\u53d8\u91cf",level:2},{value:"\u8bbe\u7f6e API \u5bc6\u94a5",id:"\u8bbe\u7f6e-api-\u5bc6\u94a5",level:3},{value:"\u8bbe\u7f6e\u57fa\u7840 URL\u3001\u7248\u672c\u548c\u7c7b\u578b",id:"\u8bbe\u7f6e\u57fa\u7840-url\u7248\u672c\u548c\u7c7b\u578b",level:3},{value:"\u8bbe\u7f6e\u9879\u76ee\u3001\u5730\u533a\u548c Token",id:"\u8bbe\u7f6e\u9879\u76ee\u5730\u533a\u548c-token",level:3},{value:"litellm \u53d8\u91cf",id:"litellm-\u53d8\u91cf",level:2},{value:"litellm.api_key",id:"litellmapi_key",level:3},{value:"litellm.provider_key\uff08\u4f8b\u5982 litellm.openai_key\uff09",id:"litellmprovider_key\u4f8b\u5982-litellmopenai_key",level:3},{value:"litellm.api_base",id:"litellmapi_base",level:3},{value:"litellm.api_version",id:"litellmapi_version",level:3},{value:"litellm.organization",id:"litellmorganization",level:3},{value:"\u4f20\u9012\u53c2\u6570\u7ed9 <code>completion()</code>\uff08\u6216\u4efb\u4f55 litellm \u7aef\u70b9 - <code>transcription</code>\u3001<code>embedding</code>\u3001<code>text_completion</code> \u7b49\uff09",id:"\u4f20\u9012\u53c2\u6570\u7ed9-completion\u6216\u4efb\u4f55-litellm-\u7aef\u70b9---transcriptionembeddingtext_completion-\u7b49",level:2},{value:"api_key",id:"api_key",level:3},{value:"api_base",id:"api_base",level:3},{value:"api_version",id:"api_version",level:3},{value:"\u8f85\u52a9\u51fd\u6570",id:"\u8f85\u52a9\u51fd\u6570",level:2},{value:"<code>check_valid_key()</code>",id:"check_valid_key",level:3},{value:"<code>get_valid_models()</code>",id:"get_valid_models",level:3},{value:"<code>get_valid_models(check_provider_endpoint: True)</code>",id:"get_valid_modelscheck_provider_endpoint-true",level:3},{value:"<code>validate_environment(model: str)</code>",id:"validate_environmentmodel-str",level:3}];function a(e){const l={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.header,{children:(0,s.jsx)(l.h1,{id:"\u8bbe\u7f6e-api-\u5bc6\u94a5\u57fa\u7840-url-\u548c\u7248\u672c",children:"\u8bbe\u7f6e API \u5bc6\u94a5\u3001\u57fa\u7840 URL \u548c\u7248\u672c"})}),"\n",(0,s.jsx)(l.p,{children:"LiteLLM \u5141\u8bb8\u60a8\u6307\u5b9a\u4ee5\u4e0b\u5185\u5bb9\uff1a"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsx)(l.li,{children:"API \u5bc6\u94a5"}),"\n",(0,s.jsx)(l.li,{children:"\u57fa\u7840 URL"}),"\n",(0,s.jsx)(l.li,{children:"\u7248\u672c"}),"\n",(0,s.jsx)(l.li,{children:"\u7c7b\u578b"}),"\n",(0,s.jsx)(l.li,{children:"\u9879\u76ee"}),"\n",(0,s.jsx)(l.li,{children:"\u5730\u533a"}),"\n",(0,s.jsx)(l.li,{children:"Token"}),"\n"]}),"\n",(0,s.jsx)(l.p,{children:"\u6709\u7528\u7684\u8f85\u52a9\u51fd\u6570\uff1a"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsx)(l.li,{children:(0,s.jsx)(l.a,{href:"#check_valid_key",children:(0,s.jsx)(l.code,{children:"check_valid_key()"})})}),"\n",(0,s.jsx)(l.li,{children:(0,s.jsx)(l.a,{href:"#get_valid_models",children:(0,s.jsx)(l.code,{children:"get_valid_models()"})})}),"\n"]}),"\n",(0,s.jsx)(l.p,{children:"\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u65b9\u5f0f\u8bbe\u7f6e API \u914d\u7f6e\uff1a"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsx)(l.li,{children:"\u73af\u5883\u53d8\u91cf"}),"\n",(0,s.jsxs)(l.li,{children:["litellm \u53d8\u91cf ",(0,s.jsx)(l.code,{children:"litellm.api_key"})]}),"\n",(0,s.jsxs)(l.li,{children:["\u4f20\u9012\u53c2\u6570\u7ed9 ",(0,s.jsx)(l.code,{children:"completion()"})]}),"\n"]}),"\n",(0,s.jsx)(l.h2,{id:"\u73af\u5883\u53d8\u91cf",children:"\u73af\u5883\u53d8\u91cf"}),"\n",(0,s.jsx)(l.h3,{id:"\u8bbe\u7f6e-api-\u5bc6\u94a5",children:"\u8bbe\u7f6e API \u5bc6\u94a5"}),"\n",(0,s.jsx)(l.p,{children:"\u8bbe\u7f6e liteLLM API \u5bc6\u94a5\u6216\u7279\u5b9a\u63d0\u4f9b\u8005\u5bc6\u94a5\uff1a"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:'import os \n\n# \u8bbe\u7f6e OpenAI API \u5bc6\u94a5\nos.environ["OPENAI_API_KEY"] = "Your API Key"\nos.environ["ANTHROPIC_API_KEY"] = "Your API Key"\nos.environ["XAI_API_KEY"] = "Your API Key"\nos.environ["REPLICATE_API_KEY"] = "Your API Key"\nos.environ["TOGETHERAI_API_KEY"] = "Your API Key"\n'})}),"\n",(0,s.jsx)(l.h3,{id:"\u8bbe\u7f6e\u57fa\u7840-url\u7248\u672c\u548c\u7c7b\u578b",children:"\u8bbe\u7f6e\u57fa\u7840 URL\u3001\u7248\u672c\u548c\u7c7b\u578b"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"# \u5bf9\u4e8e Azure OpenAI\nos.environ['AZURE_API_BASE'] = \"https://openai-gpt-4-test2-v-12.openai.azure.com/\"\nos.environ['AZURE_API_VERSION'] = \"2023-05-15\" # [\u53ef\u9009]\nos.environ['AZURE_API_TYPE'] = \"azure\" # [\u53ef\u9009]\n\n# \u5bf9\u4e8e OpenAI\nos.environ['OPENAI_BASE_URL'] = \"https://your_host/v1\"\n"})}),"\n",(0,s.jsx)(l.h3,{id:"\u8bbe\u7f6e\u9879\u76ee\u5730\u533a\u548c-token",children:"\u8bbe\u7f6e\u9879\u76ee\u3001\u5730\u533a\u548c Token"}),"\n",(0,s.jsx)(l.p,{children:"\u5bf9\u4e8e\u4e91\u63d0\u4f9b\u5546\uff1a"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsx)(l.li,{children:"Azure"}),"\n",(0,s.jsx)(l.li,{children:"Bedrock"}),"\n",(0,s.jsx)(l.li,{children:"GCP"}),"\n",(0,s.jsx)(l.li,{children:"Watson AI"}),"\n"]}),"\n",(0,s.jsx)(l.p,{children:"\u60a8\u53ef\u80fd\u9700\u8981\u8bbe\u7f6e\u5176\u4ed6\u53c2\u6570\u3002LiteLLM \u63d0\u4f9b\u4e86\u4e00\u7ec4\u901a\u7528\u7684\u53c2\u6570\uff0c\u6211\u4eec\u5c06\u5176\u6620\u5c04\u5230\u6240\u6709\u63d0\u4f9b\u5546\u3002"}),"\n",(0,s.jsxs)(l.table,{children:[(0,s.jsx)(l.thead,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.th,{}),(0,s.jsx)(l.th,{children:"LiteLLM \u53c2\u6570"}),(0,s.jsx)(l.th,{children:"Watson"}),(0,s.jsx)(l.th,{children:"Vertex AI"}),(0,s.jsx)(l.th,{children:"Azure"}),(0,s.jsx)(l.th,{children:"Bedrock"})]})}),(0,s.jsxs)(l.tbody,{children:[(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{children:"\u9879\u76ee"}),(0,s.jsx)(l.td,{children:"project"}),(0,s.jsx)(l.td,{children:"watsonx_project"}),(0,s.jsx)(l.td,{children:"vertex_project"}),(0,s.jsx)(l.td,{children:"-"}),(0,s.jsx)(l.td,{children:"-"})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{children:"\u5730\u533a"}),(0,s.jsx)(l.td,{children:"region_name"}),(0,s.jsx)(l.td,{children:"watsonx_region_name"}),(0,s.jsx)(l.td,{children:"vertex_location"}),(0,s.jsx)(l.td,{children:"-"}),(0,s.jsx)(l.td,{children:"aws_region_name"})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{children:"Token"}),(0,s.jsx)(l.td,{children:"token"}),(0,s.jsx)(l.td,{children:"watsonx_token \u6216 token"}),(0,s.jsx)(l.td,{children:"-"}),(0,s.jsx)(l.td,{children:"azure_ad_token"}),(0,s.jsx)(l.td,{children:"-"})]})]})]}),"\n",(0,s.jsx)(l.p,{children:"\u5982\u679c\u60a8\u613f\u610f\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u63d0\u4f9b\u5546\u7279\u5b9a\u7684\u53c2\u6570\u6765\u8c03\u7528\u5b83\u4eec\u3002"}),"\n",(0,s.jsx)(l.h2,{id:"litellm-\u53d8\u91cf",children:"litellm \u53d8\u91cf"}),"\n",(0,s.jsx)(l.h3,{id:"litellmapi_key",children:"litellm.api_key"}),"\n",(0,s.jsx)(l.p,{children:"\u6b64\u53d8\u91cf\u7528\u4e8e\u6240\u6709\u63d0\u4f9b\u5546"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:'import litellm\n# OpenAI \u8c03\u7528\nlitellm.api_key = "sk-OpenAIKey"\nresponse = litellm.completion(messages=messages, model="gpt-3.5-turbo")\n\n# Anthropic \u8c03\u7528\nlitellm.api_key = "sk-AnthropicKey"\nresponse = litellm.completion(messages=messages, model="claude-2")\n'})}),"\n",(0,s.jsx)(l.h3,{id:"litellmprovider_key\u4f8b\u5982-litellmopenai_key",children:"litellm.provider_key\uff08\u4f8b\u5982 litellm.openai_key\uff09"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:'litellm.openai_key = "sk-OpenAIKey"\nresponse = litellm.completion(messages=messages, model="gpt-3.5-turbo")\n\n# Anthropic \u8c03\u7528\nlitellm.anthropic_key = "sk-AnthropicKey"\nresponse = litellm.completion(messages=messages, model="claude-2")\n'})}),"\n",(0,s.jsx)(l.h3,{id:"litellmapi_base",children:"litellm.api_base"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:'import litellm\nlitellm.api_base = "https://hosted-llm-api.co"\nresponse = litellm.completion(messages=messages, model="gpt-3.5-turbo")\n'})}),"\n",(0,s.jsx)(l.h3,{id:"litellmapi_version",children:"litellm.api_version"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:'import litellm\nlitellm.api_version = "2023-05-15"\nresponse = litellm.completion(messages=messages, model="gpt-3.5-turbo")\n'})}),"\n",(0,s.jsx)(l.h3,{id:"litellmorganization",children:"litellm.organization"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:'import litellm\nlitellm.organization = "LiteLlmOrg"\nresponse = litellm.completion(messages=messages, model="gpt-3.5-turbo")\n'})}),"\n",(0,s.jsxs)(l.h2,{id:"\u4f20\u9012\u53c2\u6570\u7ed9-completion\u6216\u4efb\u4f55-litellm-\u7aef\u70b9---transcriptionembeddingtext_completion-\u7b49",children:["\u4f20\u9012\u53c2\u6570\u7ed9 ",(0,s.jsx)(l.code,{children:"completion()"}),"\uff08\u6216\u4efb\u4f55 litellm \u7aef\u70b9 - ",(0,s.jsx)(l.code,{children:"transcription"}),"\u3001",(0,s.jsx)(l.code,{children:"embedding"}),"\u3001",(0,s.jsx)(l.code,{children:"text_completion"})," \u7b49\uff09"]}),"\n",(0,s.jsxs)(l.p,{children:["\u60a8\u53ef\u4ee5\u5728 ",(0,s.jsx)(l.code,{children:"completion()"})," \u8c03\u7528\u4e2d\u4f20\u9012 API \u5bc6\u94a5\uff1a"]}),"\n",(0,s.jsx)(l.h3,{id:"api_key",children:"api_key"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:'from litellm import completion\n\nmessages = [{ "content": "Hello, how are you?","role": "user"}]\n\nresponse = completion("command-nightly", messages, api_key="Your-Api-Key")\n'})}),"\n",(0,s.jsx)(l.h3,{id:"api_base",children:"api_base"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:'from litellm import completion\n\nmessages = [{ "content": "Hello, how are you?","role": "user"}]\n\nresponse = completion("command-nightly", messages, api_base="https://hosted-llm-api.co")\n'})}),"\n",(0,s.jsx)(l.h3,{id:"api_version",children:"api_version"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:'from litellm import completion\n\nmessages = [{ "content": "Hello, how are you?","role": "user"}]\n\nresponse = completion("command-nightly", messages, api_version="2023-02-15")\n'})}),"\n",(0,s.jsx)(l.h2,{id:"\u8f85\u52a9\u51fd\u6570",children:"\u8f85\u52a9\u51fd\u6570"}),"\n",(0,s.jsx)(l.h3,{id:"check_valid_key",children:(0,s.jsx)(l.code,{children:"check_valid_key()"})}),"\n",(0,s.jsx)(l.p,{children:"\u68c0\u67e5\u7528\u6237\u63d0\u4ea4\u7684 API \u5bc6\u94a5\u662f\u5426\u6709\u6548\u3002"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:'key = "bad-key"\nresponse = check_valid_key(model="gpt-3.5-turbo", api_key=key)\nassert(response == False)\n'})}),"\n",(0,s.jsx)(l.h3,{id:"get_valid_models",children:(0,s.jsx)(l.code,{children:"get_valid_models()"})}),"\n",(0,s.jsx)(l.p,{children:"\u6b64\u8f85\u52a9\u51fd\u6570\u8bfb\u53d6 .env \u5e76\u8fd4\u56de\u652f\u6301\u7684 llm \u5217\u8868\u4f9b\u7528\u6237\u4f7f\u7528\u3002"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"old_environ = os.environ\nos.environ = {'OPENAI_API_KEY': 'temp'} # \u4ec5\u5728\u73af\u5883\u53d8\u91cf\u4e2d\u8bbe\u7f6e OpenAI \u5bc6\u94a5\n\nvalid_models = get_valid_models()\nprint(valid_models)\n\n# \u5305\u542b litellm \u652f\u6301\u7684 OpenAI llms \u7684\u5217\u8868\nexpected_models = litellm.open_ai_chat_completion_models + litellm.open_ai_text_completion_models\n\nassert(valid_models == expected_models)\n\n# \u91cd\u7f6e replicate \u73af\u5883\u5bc6\u94a5\nos.environ = old_environ\n"})}),"\n",(0,s.jsx)(l.h3,{id:"get_valid_modelscheck_provider_endpoint-true",children:(0,s.jsx)(l.code,{children:"get_valid_models(check_provider_endpoint: True)"})}),"\n",(0,s.jsx)(l.p,{children:"\u6b64\u8f85\u52a9\u51fd\u6570\u4f1a\u68c0\u67e5\u63d0\u4f9b\u5546\u7684\u7aef\u70b9\u4ee5\u83b7\u53d6\u6709\u6548\u7684\u6a21\u578b\u3002"}),"\n",(0,s.jsx)(l.p,{children:"\u76ee\u524d\u5b9e\u73b0\uff1a"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsx)(l.li,{children:"OpenAI\uff08\u5982\u679c\u8bbe\u7f6e\u4e86 OPENAI_API_KEY\uff09"}),"\n",(0,s.jsx)(l.li,{children:"Fireworks AI\uff08\u5982\u679c\u8bbe\u7f6e\u4e86 FIREWORKS_AI_API_KEY\uff09"}),"\n",(0,s.jsx)(l.li,{children:"LiteLLM \u4ee3\u7406\uff08\u5982\u679c\u8bbe\u7f6e\u4e86 LITELLM_PROXY_API_KEY\uff09"}),"\n",(0,s.jsx)(l.li,{children:"Gemini\uff08\u5982\u679c\u8bbe\u7f6e\u4e86 GEMINI_API_KEY\uff09"}),"\n",(0,s.jsx)(l.li,{children:"XAI\uff08\u5982\u679c\u8bbe\u7f6e\u4e86 XAI_API_KEY\uff09"}),"\n",(0,s.jsx)(l.li,{children:"Anthropic\uff08\u5982\u679c\u8bbe\u7f6e\u4e86 ANTHROPIC_API_KEY\uff09"}),"\n"]}),"\n",(0,s.jsx)(l.p,{children:"\u60a8\u4e5f\u53ef\u4ee5\u6307\u5b9a\u8981\u68c0\u67e5\u7684\u81ea\u5b9a\u4e49\u63d0\u4f9b\u5546\uff1a"}),"\n",(0,s.jsxs)(l.p,{children:[(0,s.jsx)(l.strong,{children:"\u6240\u6709\u63d0\u4f9b\u5546"}),"\uff1a"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"from litellm import get_valid_models\n\nvalid_models = get_valid_models(check_provider_endpoint=True)\nprint(valid_models)\n"})}),"\n",(0,s.jsxs)(l.p,{children:[(0,s.jsx)(l.strong,{children:"\u7279\u5b9a\u63d0\u4f9b\u5546"}),"\uff1a"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:'from litellm import get_valid_models\n\nvalid_models = get_valid_models(check_provider_endpoint=True, custom_llm_provider="openai")\nprint(valid_models)\n'})}),"\n",(0,s.jsx)(l.h3,{id:"validate_environmentmodel-str",children:(0,s.jsx)(l.code,{children:"validate_environment(model: str)"})}),"\n",(0,s.jsx)(l.p,{children:"\u6b64\u8f85\u52a9\u51fd\u6570\u544a\u8bc9\u60a8\u662f\u5426\u4e3a\u67d0\u4e2a\u6a21\u578b\u51c6\u5907\u4e86\u6240\u6709\u5fc5\u9700\u7684\u73af\u5883\u53d8\u91cf\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u5219\u7f3a\u5c11\u54ea\u4e9b\u53c2\u6570\u3002"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:'from litellm import validate_environment\n\nprint(validate_environment("openai/gpt-3.5-turbo"))\n'})})]})}function h(e={}){const{wrapper:l}={...(0,o.R)(),...e.components};return l?(0,s.jsx)(l,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);