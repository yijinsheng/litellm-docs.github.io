"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[70644],{4764(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>o,frontMatter:()=>d,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"providers/runwayml/images","title":"RunwayML - \u56fe\u50cf\u751f\u6210","description":"\u6982\u89c8","source":"@site/docs/providers/runwayml/images.md","sourceDirName":"providers/runwayml","slug":"/providers/runwayml/images","permalink":"/docs/providers/runwayml/images","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Replicate","permalink":"/docs/providers/replicate"},"next":{"title":"RunwayML - \u89c6\u9891\u751f\u6210","permalink":"/docs/providers/runwayml/videos"}}');var r=i(74848),l=i(28453);const d={},t="RunwayML - \u56fe\u50cf\u751f\u6210",c={},h=[{value:"\u6982\u89c8",id:"\u6982\u89c8",level:2},{value:"\u5feb\u901f\u5f00\u59cb",id:"\u5feb\u901f\u5f00\u59cb",level:2},{value:"\u8ba4\u8bc1",id:"\u8ba4\u8bc1",level:2},{value:"\u652f\u6301\u7684\u53c2\u6570",id:"\u652f\u6301\u7684\u53c2\u6570",level:2},{value:"\u652f\u6301\u7684\u5c3a\u5bf8",id:"\u652f\u6301\u7684\u5c3a\u5bf8",level:3},{value:"\u5f02\u6b65\u4f7f\u7528",id:"\u5f02\u6b65\u4f7f\u7528",level:2},{value:"LiteLLM \u4ee3\u7406\u4f7f\u7528",id:"litellm-\u4ee3\u7406\u4f7f\u7528",level:2},{value:"\u652f\u6301\u7684\u6a21\u578b",id:"\u652f\u6301\u7684\u6a21\u578b",level:2},{value:"\u6210\u672c\u8ddf\u8e2a",id:"\u6210\u672c\u8ddf\u8e2a",level:2},{value:"\u652f\u6301\u7684\u529f\u80fd",id:"\u652f\u6301\u7684\u529f\u80fd",level:2},{value:"\u5de5\u4f5c\u539f\u7406",id:"\u5de5\u4f5c\u539f\u7406",level:2},{value:"\u5b8c\u6574\u6d41\u7a0b\u56fe",id:"\u5b8c\u6574\u6d41\u7a0b\u56fe",level:3},{value:"LiteLLM \u4e3a\u60a8\u505a\u4e86\u4ec0\u4e48",id:"litellm-\u4e3a\u60a8\u505a\u4e86\u4ec0\u4e48",level:3}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"runwayml---\u56fe\u50cf\u751f\u6210",children:"RunwayML - \u56fe\u50cf\u751f\u6210"})}),"\n",(0,r.jsx)(n.h2,{id:"\u6982\u89c8",children:"\u6982\u89c8"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5c5e\u6027"}),(0,r.jsx)(n.th,{children:"\u8be6\u60c5"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u63cf\u8ff0"}),(0,r.jsx)(n.td,{children:"RunwayML \u63d0\u4f9b\u5148\u8fdb\u7684\u57fa\u4e8e AI \u7684\u56fe\u50cf\u751f\u6210\u6280\u672f\uff0c\u7ed3\u679c\u8d28\u91cf\u9ad8"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"LiteLLM \u63d0\u4f9b\u5546\u8def\u5f84"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"runwayml/"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u652f\u6301\u7684\u64cd\u4f5c"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"#%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B",children:(0,r.jsx)(n.code,{children:"/images/generations"})})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u63d0\u4f9b\u5546\u6587\u6863\u94fe\u63a5"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://docs.dev.runwayml.com/",children:"RunwayML API \u2197"})})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"LiteLLM \u652f\u6301 RunwayML \u7684 Gen-4 \u56fe\u50cf\u751f\u6210 API\uff0c\u5141\u8bb8\u60a8\u4ece\u6587\u672c\u63d0\u793a\u751f\u6210\u9ad8\u8d28\u91cf\u7684\u56fe\u50cf\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u5feb\u901f\u5f00\u59cb",children:"\u5feb\u901f\u5f00\u59cb"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="\u57fa\u672c\u56fe\u50cf\u751f\u6210"',children:'from litellm import image_generation\nimport os\n\nos.environ["RUNWAYML_API_KEY"] = "your-api-key"\n\nresponse = image_generation(\n    model="runwayml/gen4_image",\n    prompt="\u65e5\u843d\u65f6\u5206\u5b81\u9759\u7684\u5c71\u666f",\n    size="1920x1080"\n)\n\nprint(response.data[0].url)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u8ba4\u8bc1",children:"\u8ba4\u8bc1"}),"\n",(0,r.jsx)(n.p,{children:"\u8bbe\u7f6e RunwayML API \u5bc6\u94a5\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="\u8bbe\u7f6e API \u5bc6\u94a5"',children:'import os\n\nos.environ["RUNWAYML_API_KEY"] = "your-api-key"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u652f\u6301\u7684\u53c2\u6570",children:"\u652f\u6301\u7684\u53c2\u6570"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u53c2\u6570"}),(0,r.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,r.jsx)(n.th,{children:"\u5fc5\u586b"}),(0,r.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"model"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"\u662f"}),(0,r.jsxs)(n.td,{children:["\u4f7f\u7528\u7684\u6a21\u578b\uff08\u4f8b\u5982\uff0c",(0,r.jsx)(n.code,{children:"runwayml/gen4_image"}),"\uff09"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"prompt"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"\u662f"}),(0,r.jsx)(n.td,{children:"\u56fe\u50cf\u7684\u6587\u5b57\u63cf\u8ff0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"size"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"\u5426"}),(0,r.jsxs)(n.td,{children:["\u56fe\u50cf\u5c3a\u5bf8\uff08\u9ed8\u8ba4\uff1a",(0,r.jsx)(n.code,{children:"1920x1080"}),"\uff09"]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u652f\u6301\u7684\u5c3a\u5bf8",children:"\u652f\u6301\u7684\u5c3a\u5bf8"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"1024x1024"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"1792x1024"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"1024x1792"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"1920x1080"}),"\uff08\u9ed8\u8ba4\uff09"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"1080x1920"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u5f02\u6b65\u4f7f\u7528",children:"\u5f02\u6b65\u4f7f\u7528"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="\u5f02\u6b65\u56fe\u50cf\u751f\u6210"',children:'from litellm import aimage_generation\nimport os\nimport asyncio\n\nos.environ["RUNWAYML_API_KEY"] = "your-api-key"\n\nasync def generate_image():\n    response = await aimage_generation(\n        model="runwayml/gen4_image",\n        prompt="\u672a\u6765\u57ce\u5e02\u7684\u591c\u666f",\n        size="1920x1080"\n    )\n    \n    print(response.data[0].url)\n\nasyncio.run(generate_image())\n'})}),"\n",(0,r.jsx)(n.h2,{id:"litellm-\u4ee3\u7406\u4f7f\u7528",children:"LiteLLM \u4ee3\u7406\u4f7f\u7528"}),"\n",(0,r.jsx)(n.p,{children:"\u5c06 RunwayML \u6dfb\u52a0\u5230\u60a8\u7684\u4ee3\u7406\u914d\u7f6e\u4e2d\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'showLineNumbers title="config.yaml"',children:"model_list:\n  - model_name: gen4-image\n    litellm_params:\n      model: runwayml/gen4_image\n      api_key: os.environ/RUNWAYML_API_KEY\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u542f\u52a8\u4ee3\u7406\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"litellm --config /path/to/config.yaml\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u901a\u8fc7\u4ee3\u7406\u751f\u6210\u56fe\u50cf\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'showLineNumbers title="\u4ee3\u7406\u8bf7\u6c42"',children:'curl --location \'http://localhost:4000/v1/images/generations\' \\\n--header \'Content-Type: application/json\' \\\n--header \'x-litellm-api-key: sk-1234\' \\\n--data \'{\n    "model": "runwayml/gen4_image",\n    "prompt": "\u65e5\u843d\u65f6\u5206\u5b81\u9759\u7684\u5c71\u666f",\n    "size": "1920x1080"\n}\'\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u652f\u6301\u7684\u6a21\u578b",children:"\u652f\u6301\u7684\u6a21\u578b"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u6a21\u578b"}),(0,r.jsx)(n.th,{children:"\u8bf4\u660e"}),(0,r.jsx)(n.th,{children:"\u9ed8\u8ba4\u5c3a\u5bf8"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"runwayml/gen4_image"})}),(0,r.jsx)(n.td,{children:"\u9ad8\u8d28\u91cf\u56fe\u50cf\u751f\u6210"}),(0,r.jsx)(n.td,{children:"1920x1080"})]})})]}),"\n",(0,r.jsx)(n.h2,{id:"\u6210\u672c\u8ddf\u8e2a",children:"\u6210\u672c\u8ddf\u8e2a"}),"\n",(0,r.jsx)(n.p,{children:"LiteLLM \u81ea\u52a8\u8ddf\u8e2a RunwayML \u56fe\u50cf\u751f\u6210\u6210\u672c\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="\u6210\u672c\u8ddf\u8e2a"',children:'from litellm import image_generation, completion_cost\n\nresponse = image_generation(\n    model="runwayml/gen4_image",\n    prompt="\u65e5\u843d\u65f6\u5206\u5b81\u9759\u7684\u5c71\u666f",\n    size="1920x1080"\n)\n\ncost = completion_cost(completion_response=response)\nprint(f"\u56fe\u50cf\u751f\u6210\u6210\u672c: ${cost}")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u652f\u6301\u7684\u529f\u80fd",children:"\u652f\u6301\u7684\u529f\u80fd"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u529f\u80fd"}),(0,r.jsx)(n.th,{children:"\u652f\u6301"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u56fe\u50cf\u751f\u6210"}),(0,r.jsx)(n.td,{children:"\u2705"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u6210\u672c\u8ddf\u8e2a"}),(0,r.jsx)(n.td,{children:"\u2705"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u65e5\u5fd7\u8bb0\u5f55"}),(0,r.jsx)(n.td,{children:"\u2705"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u964d\u7ea7\u5904\u7406"}),(0,r.jsx)(n.td,{children:"\u2705"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u8d1f\u8f7d\u5747\u8861"}),(0,r.jsx)(n.td,{children:"\u2705"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"\u5de5\u4f5c\u539f\u7406",children:"\u5de5\u4f5c\u539f\u7406"}),"\n",(0,r.jsx)(n.p,{children:"RunwayML \u4f7f\u7528\u57fa\u4e8e\u5f02\u6b65\u4efb\u52a1\u7684 API \u6a21\u5f0f\u3002LiteLLM \u81ea\u52a8\u5904\u7406\u8bf7\u6c42\u8f6e\u8be2\u548c\u54cd\u5e94\u8f6c\u6362\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"\u5b8c\u6574\u6d41\u7a0b\u56fe",children:"\u5b8c\u6574\u6d41\u7a0b\u56fe"}),"\n",(0,r.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant \u5ba2\u6237\u7aef\n    box rgb(200, 220, 255) LiteLLM AI \u7f51\u5173\n        participant LiteLLM\n    end\n    participant RunwayML as RunwayML API\n\n    Client->>LiteLLM: POST /images/generations (OpenAI \u683c\u5f0f)\n    Note over LiteLLM: \u8f6c\u6362\u4e3a RunwayML \u683c\u5f0f\n    \n    LiteLLM->>RunwayML: POST v1/text_to_image\n    RunwayML--\x3e>LiteLLM: 200 OK + \u4efb\u52a1 ID\n    \n    Note over LiteLLM: \u81ea\u52a8\u8f6e\u8be2\n    loop \u6bcf 2 \u79d2\n        LiteLLM->>RunwayML: GET v1/tasks/{task_id}\n        RunwayML--\x3e>LiteLLM: \u72b6\u6001\uff1aRUNNING\n    end\n    \n    LiteLLM->>RunwayML: GET v1/tasks/{task_id}\n    RunwayML--\x3e>LiteLLM: \u72b6\u6001\uff1aSUCCEEDED + \u56fe\u50cf URL\n    \n    Note over LiteLLM: \u8f6c\u6362\u4e3a OpenAI \u683c\u5f0f\n    LiteLLM--\x3e>\u5ba2\u6237\u7aef: \u56fe\u50cf\u54cd\u5e94 (OpenAI \u683c\u5f0f)"}),"\n",(0,r.jsx)(n.h3,{id:"litellm-\u4e3a\u60a8\u505a\u4e86\u4ec0\u4e48",children:"LiteLLM \u4e3a\u60a8\u505a\u4e86\u4ec0\u4e48"}),"\n",(0,r.jsxs)(n.p,{children:["\u5f53\u60a8\u8c03\u7528 ",(0,r.jsx)(n.code,{children:"litellm.image_generation()"})," \u6216 ",(0,r.jsx)(n.code,{children:"/v1/images/generations"}),"\uff1a"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u8bf7\u6c42\u8f6c\u6362"}),"\uff1a\u5c06 OpenAI \u56fe\u50cf\u751f\u6210\u683c\u5f0f \u2192 RunwayML \u683c\u5f0f"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u63d0\u4ea4\u4efb\u52a1"}),"\uff1a\u53d1\u9001\u8f6c\u6362\u540e\u7684\u8bf7\u6c42\u5230 RunwayML API"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u63a5\u6536\u4efb\u52a1 ID"}),"\uff1a\u4ece\u521d\u59cb\u54cd\u5e94\u4e2d\u6355\u83b7\u4efb\u52a1 ID"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u81ea\u52a8\u8f6e\u8be2"}),"\uff1a","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u6bcf 2 \u79d2\u8f6e\u8be2\u4efb\u52a1\u72b6\u6001\u7aef\u70b9"}),"\n",(0,r.jsxs)(n.li,{children:["\u76f4\u81f3\u72b6\u6001\u4e3a ",(0,r.jsx)(n.code,{children:"SUCCEEDED"})," \u6216 ",(0,r.jsx)(n.code,{children:"FAILED"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u9ed8\u8ba4\u8d85\u65f6\u65f6\u95f4\uff1a10 \u5206\u949f\uff08\u53ef\u901a\u8fc7 ",(0,r.jsx)(n.code,{children:"RUNWAYML_POLLING_TIMEOUT"})," \u73af\u5883\u53d8\u91cf\u914d\u7f6e\uff09"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u54cd\u5e94\u8f6c\u6362"}),"\uff1a\u5c06 RunwayML \u683c\u5f0f \u2192 OpenAI \u683c\u5f0f"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u8fd4\u56de\u7ed3\u679c"}),"\uff1a\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u7edf\u4e00\u7684 OpenAI \u683c\u5f0f\u54cd\u5e94"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u8f6e\u8be2\u914d\u7f6e:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u9ed8\u8ba4\u8d85\u65f6\u65f6\u95f4\uff1a600 \u79d2\uff0810 \u5206\u949f\uff09"}),"\n",(0,r.jsxs)(n.li,{children:["\u901a\u8fc7 ",(0,r.jsx)(n.code,{children:"RUNWAYML_POLLING_TIMEOUT"})," \u73af\u5883\u53d8\u91cf\u914d\u7f6e"]}),"\n",(0,r.jsxs)(n.li,{children:["\u57fa\u4e8e\u8c03\u7528\u7c7b\u578b\u4f7f\u7528\u540c\u6b65 (",(0,r.jsx)(n.code,{children:"time.sleep()"}),") \u6216\u5f02\u6b65 (",(0,r.jsx)(n.code,{children:"await asyncio.sleep()"}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5178\u578b\u5904\u7406\u65f6\u95f4"}),": 10-30 \u79d2\uff0c\u53d6\u51b3\u4e8e\u56fe\u50cf\u5927\u5c0f\u548c\u590d\u6742\u5ea6"]})})]})}function o(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453(e,n,i){i.d(n,{R:()=>d,x:()=>t});var s=i(96540);const r={},l=s.createContext(r);function d(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);