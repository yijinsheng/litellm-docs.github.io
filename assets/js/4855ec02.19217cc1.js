"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[63835],{7227(e,n,s){s.d(n,{A:()=>l});s(96540);var r=s(18215);const i="tabItem_Ymn6";var t=s(74848);function l({children:e,hidden:n,className:s}){return(0,t.jsx)("div",{role:"tabpanel",className:(0,r.A)(i,s),hidden:n,children:e})}},28453(e,n,s){s.d(n,{R:()=>l,x:()=>o});var r=s(96540);const i={},t=r.createContext(i);function l(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(t.Provider,{value:n},e.children)}},44349(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>p});const r=JSON.parse('{"id":"response_api","title":"/responses","description":"LiteLLM \u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b26\u5408 OpenAI /responses API \u89c4\u8303\u7684\u7aef\u70b9","source":"@site/docs/response_api.md","sourceDirName":".","slug":"/response_api","permalink":"/docs/response_api","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"embedding()","permalink":"/docs/embedding/supported_embedding"},"next":{"title":"text_completion()","permalink":"/docs/text_completion"}}');var i=s(74848),t=s(28453),l=s(49489),o=s(7227);const a={},d="/responses",c={},p=[{value:"\u4f7f\u7528\u65b9\u6cd5",id:"\u4f7f\u7528\u65b9\u6cd5",level:2},{value:"LiteLLM Python SDK",id:"litellm-python-sdk",level:3},{value:"\u975e\u6d41\u5f0f",id:"\u975e\u6d41\u5f0f",level:4},{value:"\u54cd\u5e94\u683c\u5f0f\uff08OpenAI Responses API \u683c\u5f0f\uff09",id:"\u54cd\u5e94\u683c\u5f0fopenai-responses-api-\u683c\u5f0f",level:4},{value:"\u6d41\u5f0f",id:"\u6d41\u5f0f",level:4},{value:"\u5e26\u6d41\u5f0f\u4f20\u8f93\u7684\u56fe\u50cf\u751f\u6210",id:"\u5e26\u6d41\u5f0f\u4f20\u8f93\u7684\u56fe\u50cf\u751f\u6210",level:4},{value:"\u56fe\u50cf\u751f\u6210\uff08\u975e\u6d41\u5f0f\uff09",id:"\u56fe\u50cf\u751f\u6210\u975e\u6d41\u5f0f",level:4},{value:"\u83b7\u53d6\u54cd\u5e94",id:"\u83b7\u53d6\u54cd\u5e94",level:4},{value:"\u53d6\u6d88\u54cd\u5e94",id:"\u53d6\u6d88\u54cd\u5e94",level:4},{value:"\u5220\u9664\u54cd\u5e94",id:"\u5220\u9664\u54cd\u5e94",level:4},{value:"\u975e\u6d41\u5f0f",id:"\u975e\u6d41\u5f0f-1",level:4},{value:"\u6d41\u5f0f",id:"\u6d41\u5f0f-1",level:4},{value:"\u975e\u6d41\u5f0f",id:"\u975e\u6d41\u5f0f-2",level:4},{value:"\u6d41\u5f0f",id:"\u6d41\u5f0f-2",level:4},{value:"\u975e\u6d41\u5f0f",id:"\u975e\u6d41\u5f0f-3",level:4},{value:"\u6d41\u5f0f",id:"\u6d41\u5f0f-3",level:4},{value:"\u975e\u6d41\u5f0f",id:"\u975e\u6d41\u5f0f-4",level:4},{value:"\u6d41\u5f0f",id:"\u6d41\u5f0f-4",level:4},{value:"\u4f7f\u7528 OpenAI SDK \u7684 LiteLLM \u4ee3\u7406",id:"\u4f7f\u7528-openai-sdk-\u7684-litellm-\u4ee3\u7406",level:3},{value:"\u975e\u6d41\u5f0f",id:"\u975e\u6d41\u5f0f-5",level:4},{value:"\u6d41\u5f0f",id:"\u6d41\u5f0f-5",level:4},{value:"\u5e26\u6d41\u5f0f\u4f20\u8f93\u7684\u56fe\u50cf\u751f\u6210",id:"\u5e26\u6d41\u5f0f\u4f20\u8f93\u7684\u56fe\u50cf\u751f\u6210-1",level:4},{value:"\u83b7\u53d6\u54cd\u5e94",id:"\u83b7\u53d6\u54cd\u5e94-1",level:4},{value:"\u5220\u9664\u54cd\u5e94",id:"\u5220\u9664\u54cd\u5e94-1",level:4},{value:"\u975e\u6d41\u5f0f",id:"\u975e\u6d41\u5f0f-6",level:4},{value:"\u6d41\u5f0f",id:"\u6d41\u5f0f-6",level:4},{value:"\u975e\u6d41\u5f0f",id:"\u975e\u6d41\u5f0f-7",level:4},{value:"\u6d41\u5f0f",id:"\u6d41\u5f0f-7",level:4},{value:"\u975e\u6d41\u5f0f",id:"\u975e\u6d41\u5f0f-8",level:4},{value:"\u6d41\u5f0f",id:"\u6d41\u5f0f-8",level:4},{value:"\u975e\u6d41\u5f0f",id:"\u975e\u6d41\u5f0f-9",level:4},{value:"\u6d41\u5f0f",id:"\u6d41\u5f0f-9",level:4},{value:"\u54cd\u5e94 ID \u5b89\u5168\u6027",id:"\u54cd\u5e94-id-\u5b89\u5168\u6027",level:2},{value:"\u652f\u6301\u7684 Responses API \u53c2\u6570",id:"\u652f\u6301\u7684-responses-api-\u53c2\u6570",level:2},{value:"\u4f1a\u8bdd\u8fde\u7eed\u6027\u7684\u8d1f\u8f7d\u5747\u8861",id:"\u4f1a\u8bdd\u8fde\u7eed\u6027\u7684\u8d1f\u8f7d\u5747\u8861",level:2},{value:"\u4f7f\u7528\u793a\u4f8b",id:"\u4f7f\u7528\u793a\u4f8b",level:4},{value:"1. \u5728\u4ee3\u7406 config.yaml \u4e0a\u8bbe\u7f6e\u4f1a\u8bdd\u8fde\u7eed\u6027",id:"1-\u5728\u4ee3\u7406-configyaml-\u4e0a\u8bbe\u7f6e\u4f1a\u8bdd\u8fde\u7eed\u6027",level:4},{value:"2. \u4f7f\u7528 OpenAI Python SDK \u5411 LiteLLM \u4ee3\u7406\u53d1\u51fa\u8bf7\u6c42",id:"2-\u4f7f\u7528-openai-python-sdk-\u5411-litellm-\u4ee3\u7406\u53d1\u51fa\u8bf7\u6c42",level:4},{value:"\u8c03\u7528\u975e Responses API \u7aef\u70b9\uff08<code>/responses</code> \u5230 <code>/chat/completions</code> \u6865\u63a5\uff09",id:"\u8c03\u7528\u975e-responses-api-\u7aef\u70b9responses-\u5230-chatcompletions-\u6865\u63a5",level:2},{value:"Python SDK \u7528\u6cd5",id:"python-sdk-\u7528\u6cd5",level:4},{value:"LiteLLM \u4ee3\u7406\u7528\u6cd5",id:"litellm-\u4ee3\u7406\u7528\u6cd5",level:4},{value:"\u4f1a\u8bdd\u7ba1\u7406",id:"\u4f1a\u8bdd\u7ba1\u7406",level:2},{value:"\u7528\u6cd5",id:"\u7528\u6cd5",level:4}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"responses",children:"/responses"})}),"\n",(0,i.jsxs)(n.p,{children:["LiteLLM \u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b26\u5408 ",(0,i.jsxs)(n.a,{href:"https://platform.openai.com/docs/api-reference/responses",children:["OpenAI ",(0,i.jsx)(n.code,{children:"/responses"})," API"]})," \u89c4\u8303\u7684\u7aef\u70b9"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5f53\u63d0\u4f9b\u5546\u4e0d\u652f\u6301 ",(0,i.jsx)(n.code,{children:"/chat/completions"})," \u7aef\u70b9\u65f6\uff0c\u5bf9\u8be5\u7aef\u70b9\u7684\u8bf7\u6c42\u53ef\u80fd\u4f1a\u81ea\u52a8\u6865\u63a5\u5230\u8fd9\u91cc\u3002\u6a21\u578b\u7684\u9ed8\u8ba4 ",(0,i.jsx)(n.code,{children:"mode"})," \u51b3\u5b9a\u4e86\u6865\u63a5\u7684\u5de5\u4f5c\u65b9\u5f0f\uff08\u53c2\u89c1 ",(0,i.jsx)(n.code,{children:"model_prices_and_context_window"}),"\uff09"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u529f\u80fd"}),(0,i.jsx)(n.th,{children:"\u652f\u6301\u60c5\u51b5"}),(0,i.jsx)(n.th,{children:"\u5907\u6ce8"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u6210\u672c\u8ffd\u8e2a"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u9002\u7528\u4e8e\u6240\u6709\u652f\u6301\u7684\u6a21\u578b"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u65e5\u5fd7\u8bb0\u5f55"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u9002\u7528\u4e8e\u6240\u6709\u96c6\u6210"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u6700\u7ec8\u7528\u6237\u8ffd\u8e2a"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u6d41\u5f0f\u4f20\u8f93"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u56fe\u50cf\u751f\u6210\u6d41\u5f0f\u4f20\u8f93"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u652f\u6301\u6e10\u8fdb\u5f0f\u56fe\u50cf\u751f\u6210\u548c\u90e8\u5206\u56fe\u50cf\uff081-3\uff09"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u56de\u9000"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u5728\u652f\u6301\u7684\u6a21\u578b\u4e4b\u95f4\u5de5\u4f5c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u8d1f\u8f7d\u5747\u8861"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u5728\u652f\u6301\u7684\u6a21\u578b\u4e4b\u95f4\u5de5\u4f5c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u9632\u62a4\u63aa\u65bd"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u5e94\u7528\u4e8e\u8f93\u5165\u548c\u8f93\u51fa\u6587\u672c\uff08\u4ec5\u975e\u6d41\u5f0f\uff09"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u652f\u6301\u7684\u64cd\u4f5c"}),(0,i.jsx)(n.td,{children:"\u521b\u5efa\u54cd\u5e94\u3001\u83b7\u53d6\u54cd\u5e94\u3001\u5220\u9664\u54cd\u5e94"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u652f\u6301\u7684 LiteLLM \u7248\u672c"}),(0,i.jsx)(n.td,{children:"1.63.8+"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u652f\u6301\u7684 LLM \u63d0\u4f9b\u5546"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"\u6240\u6709 LiteLLM \u652f\u6301\u7684\u63d0\u4f9b\u5546"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"openai"}),"\u3001",(0,i.jsx)(n.code,{children:"anthropic"}),"\u3001",(0,i.jsx)(n.code,{children:"bedrock"}),"\u3001",(0,i.jsx)(n.code,{children:"vertex_ai"}),"\u3001",(0,i.jsx)(n.code,{children:"gemini"}),"\u3001",(0,i.jsx)(n.code,{children:"azure"}),"\u3001",(0,i.jsx)(n.code,{children:"azure_ai"})," \u7b49"]})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"\u4f7f\u7528\u65b9\u6cd5",children:"\u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,i.jsx)(n.h3,{id:"litellm-python-sdk",children:"LiteLLM Python SDK"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsxs)(o.A,{value:"openai",label:"OpenAI",children:[(0,i.jsx)(n.h4,{id:"\u975e\u6d41\u5f0f",children:"\u975e\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="OpenAI \u975e\u6d41\u5f0f\u54cd\u5e94"',children:'import litellm\n\n# \u975e\u6d41\u5f0f\u54cd\u5e94\nresponse = litellm.responses(\n    model="openai/o1-pro",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    max_output_tokens=100\n)\n\nprint(response)\n'})}),(0,i.jsx)(n.h4,{id:"\u54cd\u5e94\u683c\u5f0fopenai-responses-api-\u683c\u5f0f",children:"\u54cd\u5e94\u683c\u5f0f\uff08OpenAI Responses API \u683c\u5f0f\uff09"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n    "id": "resp_abc123",\n    "object": "response",\n    "created_at": 1734366691,\n    "status": "completed",\n    "model": "o1-pro-2025-01-30",\n    "output": [\n        {\n            "type": "message",\n            "id": "msg_abc123",\n            "status": "completed",\n            "role": "assistant",\n            "content": [\n                {\n                    "type": "output_text",\n                    "text": "Once upon a time, a little unicorn named Stardust lived in a magical meadow where flowers sang lullabies. One night, she discovered that her horn could paint dreams across the sky, and she spent the evening creating the most beautiful aurora for all the forest creatures to enjoy. As the animals drifted off to sleep beneath her shimmering lights, Stardust curled up on a cloud of moonbeams, happy to have shared her magic with her friends.",\n                    "annotations": []\n                }\n            ]\n        }\n    ],\n    "usage": {\n        "input_tokens": 18,\n        "output_tokens": 98,\n        "total_tokens": 116\n    }\n}\n'})}),(0,i.jsx)(n.h4,{id:"\u6d41\u5f0f",children:"\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="OpenAI \u6d41\u5f0f\u54cd\u5e94"',children:'import litellm\n\n# \u6d41\u5f0f\u54cd\u5e94\nresponse = litellm.responses(\n    model="openai/o1-pro",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    stream=True\n)\n\nfor event in response:\n    print(event)\n'})}),(0,i.jsx)(n.h4,{id:"\u5e26\u6d41\u5f0f\u4f20\u8f93\u7684\u56fe\u50cf\u751f\u6210",children:"\u5e26\u6d41\u5f0f\u4f20\u8f93\u7684\u56fe\u50cf\u751f\u6210"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="OpenAI \u6d41\u5f0f\u56fe\u50cf\u751f\u6210"',children:'import litellm\nimport base64\n\n# \u5e26\u90e8\u5206\u56fe\u50cf\u7684\u6d41\u5f0f\u56fe\u50cf\u751f\u6210\nstream = litellm.responses(\n    model="gpt-4.1",  # \u4f7f\u7528\u5b9e\u9645\u7684\u56fe\u50cf\u751f\u6210\u6a21\u578b\n    input="Generate a gorgeous image of a river made of white owl feathers",\n    stream=True,\n    tools=[{"type": "image_generation", "partial_images": 2}],\n\n)\n\nfor event in stream:\n    if event.type == "response.image_generation_call.partial_image":\n        idx = event.partial_image_index\n        image_base64 = event.partial_image_b64\n        image_bytes = base64.b64decode(image_base64)\n        with open(f"river{idx}.png", "wb") as f:\n            f.write(image_bytes)\n'})}),(0,i.jsx)(n.h4,{id:"\u56fe\u50cf\u751f\u6210\u975e\u6d41\u5f0f",children:"\u56fe\u50cf\u751f\u6210\uff08\u975e\u6d41\u5f0f\uff09"}),(0,i.jsxs)(n.p,{children:["\u56fe\u50cf\u751f\u6210\u652f\u6301\u53ef\u751f\u6210\u56fe\u50cf\u7684\u6a21\u578b\u3002\u751f\u6210\u7684\u56fe\u50cf\u5728 ",(0,i.jsx)(n.code,{children:"output"})," \u6570\u7ec4\u4e2d\u8fd4\u56de\uff0c\u7c7b\u578b\u4e3a ",(0,i.jsx)(n.code,{children:'type: "image_generation_call"'}),"\u3002"]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Gemini (Google AI Studio):"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="Gemini \u56fe\u50cf\u751f\u6210"',children:'import litellm\nimport base64\n\n# Gemini \u56fe\u50cf\u751f\u6210\u6a21\u578b\u4e0d\u9700\u8981 tools \u53c2\u6570\nresponse = litellm.responses(\n    model="gemini/gemini-2.5-flash-image",\n    input="Generate a cute cat playing with yarn"\n)\n\n# \u4ece output \u4e2d\u8bbf\u95ee\u751f\u6210\u7684\u56fe\u50cf\nfor item in response.output:\n    if item.type == "image_generation_call":\n        # item.result \u5305\u542b\u7eaf base64\uff08\u6ca1\u6709 data: \u524d\u7f00\uff09\n        image_bytes = base64.b64decode(item.result)\n\n        # \u4fdd\u5b58\u56fe\u50cf\n        with open(f"generated_{item.id}.png", "wb") as f:\n            f.write(image_bytes)\n\nprint(f"Image saved: generated_{response.output[0].id}.png")\n'})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"OpenAI:"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="OpenAI \u56fe\u50cf\u751f\u6210"',children:'import litellm\nimport base64\n\n# OpenAI \u6a21\u578b\u9700\u8981 tools \u53c2\u6570\u6765\u751f\u6210\u56fe\u50cf\nresponse = litellm.responses(\n    model="openai/gpt-4o",\n    input="Generate a futuristic city at sunset",\n    tools=[{"type": "image_generation"}]\n)\n\n# \u4ece output \u4e2d\u8bbf\u95ee\u751f\u6210\u7684\u56fe\u50cf\nfor item in response.output:\n    if item.type == "image_generation_call":\n        image_bytes = base64.b64decode(item.result)\n        with open(f"generated_{item.id}.png", "wb") as f:\n            f.write(image_bytes)\n'})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u54cd\u5e94\u683c\u5f0f\uff1a"})}),(0,i.jsx)(n.p,{children:"\u5f53\u56fe\u50cf\u751f\u6210\u6210\u529f\u65f6\uff0c\u54cd\u5e94\u5305\u542b\uff1a"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "id": "resp_abc123",\n  "status": "completed",\n  "output": [\n    {\n      "type": "image_generation_call",\n      "id": "resp_abc123_img_0",\n      "status": "completed",\n      "result": "iVBORw0KGgo..."  // \u7eaf base64 \u5b57\u7b26\u4e32\uff08\u6ca1\u6709 data: \u524d\u7f00\uff09\n    }\n  ]\n}\n'})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u652f\u6301\u7684\u6a21\u578b\uff1a"})}),(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u63d0\u4f9b\u5546"}),(0,i.jsx)(n.th,{children:"\u6a21\u578b"}),(0,i.jsxs)(n.th,{children:["\u9700\u8981 ",(0,i.jsx)(n.code,{children:"tools"})," \u53c2\u6570"]})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Google AI Studio"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"gemini/gemini-2.5-flash-image"})}),(0,i.jsx)(n.td,{children:"\u274c \u4e0d\u9700\u8981"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Vertex AI"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"vertex_ai/gemini-2.5-flash-image-preview"})}),(0,i.jsx)(n.td,{children:"\u274c \u4e0d\u9700\u8981"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"OpenAI"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"gpt-4o"}),"\u3001",(0,i.jsx)(n.code,{children:"gpt-4o-mini"}),"\u3001",(0,i.jsx)(n.code,{children:"gpt-4.1"}),"\u3001",(0,i.jsx)(n.code,{children:"gpt-4.1-mini"}),"\u3001",(0,i.jsx)(n.code,{children:"gpt-4.1-nano"}),"\u3001",(0,i.jsx)(n.code,{children:"o3"})]}),(0,i.jsx)(n.td,{children:"\u2705 \u9700\u8981"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"AWS Bedrock"}),(0,i.jsx)(n.td,{children:"Stability AI\u3001Amazon Nova Canvas \u6a21\u578b"}),(0,i.jsx)(n.td,{children:"\u53d6\u51b3\u4e8e\u6a21\u578b"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Fal AI"}),(0,i.jsx)(n.td,{children:"\u5404\u79cd\u56fe\u50cf\u751f\u6210\u6a21\u578b"}),(0,i.jsx)(n.td,{children:"\u8bf7\u67e5\u770b\u6a21\u578b\u6587\u6863"})]})]})]}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u6ce8\u610f\uff1a"})," ",(0,i.jsx)(n.code,{children:"result"})," \u5b57\u6bb5\u5305\u542b\u7eaf base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\uff0c\u6ca1\u6709 ",(0,i.jsx)(n.code,{children:"data:image/png;base64,"})," \u524d\u7f00\u3002\u5728\u4fdd\u5b58\u4e4b\u524d\u5fc5\u987b\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"base64.b64decode()"})," \u5bf9\u5176\u8fdb\u884c\u89e3\u7801\u3002"]}),(0,i.jsx)(n.h4,{id:"\u83b7\u53d6\u54cd\u5e94",children:"\u83b7\u53d6\u54cd\u5e94"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="\u901a\u8fc7 ID \u83b7\u53d6\u54cd\u5e94"',children:'import litellm\n\n# \u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u54cd\u5e94\nresponse = litellm.responses(\n    model="openai/o1-pro",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    max_output_tokens=100\n)\n\n# \u83b7\u53d6\u54cd\u5e94 ID\nresponse_id = response.id\n\n# \u901a\u8fc7 ID \u68c0\u7d22\u54cd\u5e94\nretrieved_response = litellm.get_responses(\n    response_id=response_id\n)\n\nprint(retrieved_response)\n\n# \u5bf9\u4e8e\u5f02\u6b65\u7528\u6cd5\n# retrieved_response = await litellm.aget_responses(response_id=response_id)\n'})}),(0,i.jsx)(n.h4,{id:"\u53d6\u6d88\u54cd\u5e94",children:"\u53d6\u6d88\u54cd\u5e94"}),(0,i.jsx)(n.p,{children:"\u60a8\u53ef\u4ee5\u53d6\u6d88\u6b63\u5728\u8fdb\u884c\u7684\u54cd\u5e94\uff08\u5982\u679c\u63d0\u4f9b\u5546\u652f\u6301\uff09\uff1a"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="\u901a\u8fc7 ID \u53d6\u6d88\u54cd\u5e94"',children:'import litellm\n\n# \u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u54cd\u5e94\nresponse = litellm.responses(\n    model="openai/o1-pro",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    max_output_tokens=100\n)\n\n# \u83b7\u53d6\u54cd\u5e94 ID\nresponse_id = response.id\n\n# \u901a\u8fc7 ID \u53d6\u6d88\u54cd\u5e94\ncancel_response = litellm.cancel_responses(\n    response_id=response_id\n)\n\nprint(cancel_response)\n\n# \u5bf9\u4e8e\u5f02\u6b65\u7528\u6cd5\n# cancel_response = await litellm.acancel_responses(response_id=response_id)\n'})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"REST API:"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:4000/v1/responses/response_id/cancel \\\n    -H "Authorization: Bearer sk-1234"\n'})}),(0,i.jsxs)(n.p,{children:["\u8fd9\u5c06\u5c1d\u8bd5\u53d6\u6d88\u5177\u6709\u7ed9\u5b9a ID \u7684\u6b63\u5728\u8fdb\u884c\u7684\u54cd\u5e94\u3002\n",(0,i.jsx)(n.strong,{children:"\u6ce8\u610f\uff1a"})," \u5e76\u975e\u6240\u6709\u63d0\u4f9b\u5546\u90fd\u652f\u6301\u54cd\u5e94\u53d6\u6d88\u3002\u5982\u679c\u4e0d\u652f\u6301\uff0c\u5c06\u5f15\u53d1\u9519\u8bef\u3002"]}),(0,i.jsx)(n.h4,{id:"\u5220\u9664\u54cd\u5e94",children:"\u5220\u9664\u54cd\u5e94"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="\u901a\u8fc7 ID \u5220\u9664\u54cd\u5e94"',children:'import litellm\n\n# \u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u54cd\u5e94\nresponse = litellm.responses(\n    model="openai/o1-pro",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    max_output_tokens=100\n)\n\n# \u83b7\u53d6\u54cd\u5e94 ID\nresponse_id = response.id\n\n# \u901a\u8fc7 ID \u5220\u9664\u54cd\u5e94\ndelete_response = litellm.delete_responses(\n    response_id=response_id\n)\n\nprint(delete_response)\n\n# \u5bf9\u4e8e\u5f02\u6b65\u7528\u6cd5\n# delete_response = await litellm.adelete_responses(response_id=response_id)\n'})})]}),(0,i.jsxs)(o.A,{value:"anthropic",label:"Anthropic",children:[(0,i.jsx)(n.h4,{id:"\u975e\u6d41\u5f0f-1",children:"\u975e\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="Anthropic \u975e\u6d41\u5f0f\u54cd\u5e94"',children:'import litellm\nimport os\n\n# \u8bbe\u7f6e API \u5bc6\u94a5\nos.environ["ANTHROPIC_API_KEY"] = "your-anthropic-api-key"\n\n# \u975e\u6d41\u5f0f\u54cd\u5e94\nresponse = litellm.responses(\n    model="anthropic/claude-3-5-sonnet-20240620",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    max_output_tokens=100\n)\n\nprint(response)\n'})}),(0,i.jsx)(n.h4,{id:"\u6d41\u5f0f-1",children:"\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="Anthropic \u6d41\u5f0f\u54cd\u5e94"',children:'import litellm\nimport os\n\n# \u8bbe\u7f6e API \u5bc6\u94a5\nos.environ["ANTHROPIC_API_KEY"] = "your-anthropic-api-key"\n\n# \u6d41\u5f0f\u54cd\u5e94\nresponse = litellm.responses(\n    model="anthropic/claude-3-5-sonnet-20240620",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    stream=True\n)\n\nfor event in response:\n    print(event)\n'})})]}),(0,i.jsxs)(o.A,{value:"vertex",label:"Vertex AI",children:[(0,i.jsx)(n.h4,{id:"\u975e\u6d41\u5f0f-2",children:"\u975e\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="Vertex AI \u975e\u6d41\u5f0f\u54cd\u5e94"',children:'import litellm\nimport os\n\n# \u8bbe\u7f6e\u51ed\u636e - Vertex AI \u4f7f\u7528\u5e94\u7528\u7a0b\u5e8f\u9ed8\u8ba4\u51ed\u636e\n# \u8fd0\u884c \'gcloud auth application-default login\' \u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\nos.environ["VERTEXAI_PROJECT"] = "your-gcp-project-id"\nos.environ["VERTEXAI_LOCATION"] = "us-central1"\n\n# \u975e\u6d41\u5f0f\u54cd\u5e94\nresponse = litellm.responses(\n    model="vertex_ai/gemini-1.5-pro",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    max_output_tokens=100\n)\n\nprint(response)\n'})}),(0,i.jsx)(n.h4,{id:"\u6d41\u5f0f-2",children:"\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="Vertex AI \u6d41\u5f0f\u54cd\u5e94"',children:'import litellm\nimport os\n\n# \u8bbe\u7f6e\u51ed\u636e - Vertex AI \u4f7f\u7528\u5e94\u7528\u7a0b\u5e8f\u9ed8\u8ba4\u51ed\u636e\n# \u8fd0\u884c \'gcloud auth application-default login\' \u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\nos.environ["VERTEXAI_PROJECT"] = "your-gcp-project-id"\nos.environ["VERTEXAI_LOCATION"] = "us-central1"\n\n# \u6d41\u5f0f\u54cd\u5e94\nresponse = litellm.responses(\n    model="vertex_ai/gemini-1.5-pro",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    stream=True\n)\n\nfor event in response:\n    print(event)\n'})})]}),(0,i.jsxs)(o.A,{value:"bedrock",label:"AWS Bedrock",children:[(0,i.jsx)(n.h4,{id:"\u975e\u6d41\u5f0f-3",children:"\u975e\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="AWS Bedrock \u975e\u6d41\u5f0f\u54cd\u5e94"',children:'import litellm\nimport os\n\n# \u8bbe\u7f6e AWS \u51ed\u636e\nos.environ["AWS_ACCESS_KEY_ID"] = "your-access-key-id"\nos.environ["AWS_SECRET_ACCESS_KEY"] = "your-secret-access-key"\nos.environ["AWS_REGION_NAME"] = "us-west-2"  # \u6216\u60a8\u7684 AWS \u533a\u57df\n\n# \u975e\u6d41\u5f0f\u54cd\u5e94\nresponse = litellm.responses(\n    model="bedrock/anthropic.claude-3-sonnet-20240229-v1:0",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    max_output_tokens=100\n)\n\nprint(response)\n'})}),(0,i.jsx)(n.h4,{id:"\u6d41\u5f0f-3",children:"\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="AWS Bedrock \u6d41\u5f0f\u54cd\u5e94"',children:'import litellm\nimport os\n\n# \u8bbe\u7f6e AWS \u51ed\u636e\nos.environ["AWS_ACCESS_KEY_ID"] = "your-access-key-id"\nos.environ["AWS_SECRET_ACCESS_KEY"] = "your-secret-access-key"\nos.environ["AWS_REGION_NAME"] = "us-west-2"  # \u6216\u60a8\u7684 AWS \u533a\u57df\n\n# \u6d41\u5f0f\u54cd\u5e94\nresponse = litellm.responses(\n    model="bedrock/anthropic.claude-3-sonnet-20240229-v1:0",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    stream=True\n)\n\nfor event in response:\n    print(event)\n'})})]}),(0,i.jsxs)(o.A,{value:"gemini",label:"Google AI Studio",children:[(0,i.jsx)(n.h4,{id:"\u975e\u6d41\u5f0f-4",children:"\u975e\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="Google AI Studio \u975e\u6d41\u5f0f\u54cd\u5e94"',children:'import litellm\nimport os\n\n# \u4e3a Google AI Studio \u8bbe\u7f6e API \u5bc6\u94a5\nos.environ["GEMINI_API_KEY"] = "your-gemini-api-key"\n\n# \u975e\u6d41\u5f0f\u54cd\u5e94\nresponse = litellm.responses(\n    model="gemini/gemini-1.5-flash",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    max_output_tokens=100\n)\n\nprint(response)\n'})}),(0,i.jsx)(n.h4,{id:"\u6d41\u5f0f-4",children:"\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="Google AI Studio \u6d41\u5f0f\u54cd\u5e94"',children:'import litellm\nimport os\n\n# \u4e3a Google AI Studio \u8bbe\u7f6e API \u5bc6\u94a5\nos.environ["GEMINI_API_KEY"] = "your-gemini-api-key"\n\n# \u6d41\u5f0f\u54cd\u5e94\nresponse = litellm.responses(\n    model="gemini/gemini-1.5-flash",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    stream=True\n)\n\nfor event in response:\n    print(event)\n'})})]})]}),"\n",(0,i.jsx)(n.h3,{id:"\u4f7f\u7528-openai-sdk-\u7684-litellm-\u4ee3\u7406",children:"\u4f7f\u7528 OpenAI SDK \u7684 LiteLLM \u4ee3\u7406"}),"\n",(0,i.jsx)(n.p,{children:"\u9996\u5148\uff0c\u8bbe\u7f6e\u5e76\u542f\u52a8\u60a8\u7684 LiteLLM \u4ee3\u7406\u670d\u52a1\u5668\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:'title="\u542f\u52a8 LiteLLM \u4ee3\u7406\u670d\u52a1\u5668"',children:"litellm --config /path/to/config.yaml\n\n# \u8fd0\u884c\u5728 http://0.0.0.0:4000\n"})}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsxs)(o.A,{value:"openai",label:"OpenAI",children:[(0,i.jsx)(n.p,{children:"\u9996\u5148\uff0c\u5c06\u6b64\u6dfb\u52a0\u5230\u60a8\u7684 litellm \u4ee3\u7406 config.yaml \u4e2d\uff1a"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'showLineNumbers title="OpenAI \u4ee3\u7406\u914d\u7f6e"',children:"model_list:\n  - model_name: openai/o1-pro\n    litellm_params:\n      model: openai/o1-pro\n      api_key: os.environ/OPENAI_API_KEY\n"})}),(0,i.jsx)(n.h4,{id:"\u975e\u6d41\u5f0f-5",children:"\u975e\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="OpenAI \u4ee3\u7406\u975e\u6d41\u5f0f\u54cd\u5e94"',children:'from openai import OpenAI\n\n# \u4f7f\u7528\u60a8\u7684\u4ee3\u7406 URL \u521d\u59cb\u5316\u5ba2\u6237\u7aef\nclient = OpenAI(\n    base_url="http://localhost:4000",  # \u60a8\u7684\u4ee3\u7406 URL\n    api_key="your-api-key"             # \u60a8\u7684\u4ee3\u7406 API \u5bc6\u94a5\n)\n\n# \u975e\u6d41\u5f0f\u54cd\u5e94\nresponse = client.responses.create(\n    model="openai/o1-pro",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002"\n)\n\nprint(response)\n'})}),(0,i.jsx)(n.h4,{id:"\u6d41\u5f0f-5",children:"\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="OpenAI \u4ee3\u7406\u6d41\u5f0f\u54cd\u5e94"',children:'from openai import OpenAI\n\n# \u4f7f\u7528\u60a8\u7684\u4ee3\u7406 URL \u521d\u59cb\u5316\u5ba2\u6237\u7aef\nclient = OpenAI(\n    base_url="http://localhost:4000",  # \u60a8\u7684\u4ee3\u7406 URL\n    api_key="your-api-key"             # \u60a8\u7684\u4ee3\u7406 API \u5bc6\u94a5\n)\n\n# \u6d41\u5f0f\u54cd\u5e94\nresponse = client.responses.create(\n    model="openai/o1-pro",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    stream=True\n)\n\nfor event in response:\n    print(event)\n'})}),(0,i.jsx)(n.h4,{id:"\u5e26\u6d41\u5f0f\u4f20\u8f93\u7684\u56fe\u50cf\u751f\u6210-1",children:"\u5e26\u6d41\u5f0f\u4f20\u8f93\u7684\u56fe\u50cf\u751f\u6210"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="OpenAI \u4ee3\u7406\u6d41\u5f0f\u56fe\u50cf\u751f\u6210"',children:'from openai import OpenAI\nimport base64\n\nclient = OpenAI(api_key="sk-1234", base_url="http://localhost:4000")\n\nstream = client.responses.create(\n    model="gpt-4.1",\n    input="Draw a gorgeous image of a river made of white owl feathers, snaking its way through a serene winter landscape",\n    stream=True,\n    tools=[{"type": "image_generation", "partial_images": 2}],\n)\n\n\nfor event in stream:\n    print(f"event: {event}")\n    if event.type == "response.image_generation_call.partial_image":\n        idx = event.partial_image_index\n        image_base64 = event.partial_image_b64\n        image_bytes = base64.b64decode(image_base64)\n        with open(f"river{idx}.png", "wb") as f:\n            f.write(image_bytes)\n\n'})}),(0,i.jsx)(n.h4,{id:"\u83b7\u53d6\u54cd\u5e94-1",children:"\u83b7\u53d6\u54cd\u5e94"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="\u4f7f\u7528 OpenAI SDK \u901a\u8fc7 ID \u83b7\u53d6\u54cd\u5e94"',children:'from openai import OpenAI\n\n# \u4f7f\u7528\u60a8\u7684\u4ee3\u7406 URL \u521d\u59cb\u5316\u5ba2\u6237\u7aef\nclient = OpenAI(\n    base_url="http://localhost:4000",  # \u60a8\u7684\u4ee3\u7406 URL\n    api_key="your-api-key"             # \u60a8\u7684\u4ee3\u7406 API \u5bc6\u94a5\n)\n\n# \u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u54cd\u5e94\nresponse = client.responses.create(\n    model="openai/o1-pro",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002"\n)\n\n# \u83b7\u53d6\u54cd\u5e94 ID\nresponse_id = response.id\n\n# \u901a\u8fc7 ID \u68c0\u7d22\u54cd\u5e94\nretrieved_response = client.responses.retrieve(response_id)\n\nprint(retrieved_response)\n'})}),(0,i.jsx)(n.h4,{id:"\u5220\u9664\u54cd\u5e94-1",children:"\u5220\u9664\u54cd\u5e94"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="\u4f7f\u7528 OpenAI SDK \u901a\u8fc7 ID \u5220\u9664\u54cd\u5e94"',children:'from openai import OpenAI\n\n# \u4f7f\u7528\u60a8\u7684\u4ee3\u7406 URL \u521d\u59cb\u5316\u5ba2\u6237\u7aef\nclient = OpenAI(\n    base_url="http://localhost:4000",  # \u60a8\u7684\u4ee3\u7406 URL\n    api_key="your-api-key"             # \u60a8\u7684\u4ee3\u7406 API \u5bc6\u94a5\n)\n\n# \u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u54cd\u5e94\nresponse = client.responses.create(\n    model="openai/o1-pro",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002"\n)\n\n# \u83b7\u53d6\u54cd\u5e94 ID\nresponse_id = response.id\n\n# \u901a\u8fc7 ID \u5220\u9664\u54cd\u5e94\ndelete_response = client.responses.delete(response_id)\n\nprint(delete_response)\n'})})]}),(0,i.jsxs)(o.A,{value:"anthropic",label:"Anthropic",children:[(0,i.jsx)(n.p,{children:"\u9996\u5148\uff0c\u5c06\u6b64\u6dfb\u52a0\u5230\u60a8\u7684 litellm \u4ee3\u7406 config.yaml \u4e2d\uff1a"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'showLineNumbers title="Anthropic \u4ee3\u7406\u914d\u7f6e"',children:"model_list:\n  - model_name: anthropic/claude-3-5-sonnet-20240620\n    litellm_params:\n      model: anthropic/claude-3-5-sonnet-20240620\n      api_key: os.environ/ANTHROPIC_API_KEY\n"})}),(0,i.jsx)(n.h4,{id:"\u975e\u6d41\u5f0f-6",children:"\u975e\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="Anthropic \u4ee3\u7406\u975e\u6d41\u5f0f\u54cd\u5e94"',children:'from openai import OpenAI\n\n# \u4f7f\u7528\u60a8\u7684\u4ee3\u7406 URL \u521d\u59cb\u5316\u5ba2\u6237\u7aef\nclient = OpenAI(\n    base_url="http://localhost:4000",  # \u60a8\u7684\u4ee3\u7406 URL\n    api_key="your-api-key"             # \u60a8\u7684\u4ee3\u7406 API \u5bc6\u94a5\n)\n\n# \u975e\u6d41\u5f0f\u54cd\u5e94\nresponse = client.responses.create(\n    model="anthropic/claude-3-5-sonnet-20240620",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002"\n)\n\nprint(response)\n'})}),(0,i.jsx)(n.h4,{id:"\u6d41\u5f0f-6",children:"\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="Anthropic \u4ee3\u7406\u6d41\u5f0f\u54cd\u5e94"',children:'from openai import OpenAI\n\n# \u4f7f\u7528\u60a8\u7684\u4ee3\u7406 URL \u521d\u59cb\u5316\u5ba2\u6237\u7aef\nclient = OpenAI(\n    base_url="http://localhost:4000",  # \u60a8\u7684\u4ee3\u7406 URL\n    api_key="your-api-key"             # \u60a8\u7684\u4ee3\u7406 API \u5bc6\u94a5\n)\n\n# \u6d41\u5f0f\u54cd\u5e94\nresponse = client.responses.create(\n    model="anthropic/claude-3-5-sonnet-20240620",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    stream=True\n)\n\nfor event in response:\n    print(event)\n'})})]}),(0,i.jsxs)(o.A,{value:"vertex",label:"Vertex AI",children:[(0,i.jsx)(n.p,{children:"\u9996\u5148\uff0c\u5c06\u6b64\u6dfb\u52a0\u5230\u60a8\u7684 litellm \u4ee3\u7406 config.yaml \u4e2d\uff1a"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'showLineNumbers title="Vertex AI \u4ee3\u7406\u914d\u7f6e"',children:"model_list:\n  - model_name: vertex_ai/gemini-1.5-pro\n    litellm_params:\n      model: vertex_ai/gemini-1.5-pro\n      vertex_project: your-gcp-project-id\n      vertex_location: us-central1\n"})}),(0,i.jsx)(n.h4,{id:"\u975e\u6d41\u5f0f-7",children:"\u975e\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="Vertex AI \u4ee3\u7406\u975e\u6d41\u5f0f\u54cd\u5e94"',children:'from openai import OpenAI\n\n# \u4f7f\u7528\u60a8\u7684\u4ee3\u7406 URL \u521d\u59cb\u5316\u5ba2\u6237\u7aef\nclient = OpenAI(\n    base_url="http://localhost:4000",  # \u60a8\u7684\u4ee3\u7406 URL\n    api_key="your-api-key"             # \u60a8\u7684\u4ee3\u7406 API \u5bc6\u94a5\n)\n\n# \u975e\u6d41\u5f0f\u54cd\u5e94\nresponse = client.responses.create(\n    model="vertex_ai/gemini-1.5-pro",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002"\n)\n\nprint(response)\n'})}),(0,i.jsx)(n.h4,{id:"\u6d41\u5f0f-7",children:"\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="Vertex AI \u4ee3\u7406\u6d41\u5f0f\u54cd\u5e94"',children:'from openai import OpenAI\n\n# \u4f7f\u7528\u60a8\u7684\u4ee3\u7406 URL \u521d\u59cb\u5316\u5ba2\u6237\u7aef\nclient = OpenAI(\n    base_url="http://localhost:4000",  # \u60a8\u7684\u4ee3\u7406 URL\n    api_key="your-api-key"             # \u60a8\u7684\u4ee3\u7406 API \u5bc6\u94a5\n)\n\n# \u6d41\u5f0f\u54cd\u5e94\nresponse = client.responses.create(\n    model="vertex_ai/gemini-1.5-pro",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    stream=True\n)\n\nfor event in response:\n    print(event)\n'})})]}),(0,i.jsxs)(o.A,{value:"bedrock",label:"AWS Bedrock",children:[(0,i.jsx)(n.p,{children:"\u9996\u5148\uff0c\u5c06\u6b64\u6dfb\u52a0\u5230\u60a8\u7684 litellm \u4ee3\u7406 config.yaml \u4e2d\uff1a"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'showLineNumbers title="AWS Bedrock \u4ee3\u7406\u914d\u7f6e"',children:"model_list:\n  - model_name: bedrock/anthropic.claude-3-sonnet-20240229-v1:0\n    litellm_params:\n      model: bedrock/anthropic.claude-3-sonnet-20240229-v1:0\n      aws_access_key_id: os.environ/AWS_ACCESS_KEY_ID\n      aws_secret_access_key: os.environ/AWS_SECRET_ACCESS_KEY\n      aws_region_name: us-west-2\n"})}),(0,i.jsx)(n.h4,{id:"\u975e\u6d41\u5f0f-8",children:"\u975e\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="AWS Bedrock \u4ee3\u7406\u975e\u6d41\u5f0f\u54cd\u5e94"',children:'from openai import OpenAI\n\n# \u4f7f\u7528\u60a8\u7684\u4ee3\u7406 URL \u521d\u59cb\u5316\u5ba2\u6237\u7aef\nclient = OpenAI(\n    base_url="http://localhost:4000",  # \u60a8\u7684\u4ee3\u7406 URL\n    api_key="your-api-key"             # \u60a8\u7684\u4ee3\u7406 API \u5bc6\u94a5\n)\n\n# \u975e\u6d41\u5f0f\u54cd\u5e94\nresponse = client.responses.create(\n    model="bedrock/anthropic.claude-3-sonnet-20240229-v1:0",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002"\n)\n\nprint(response)\n'})}),(0,i.jsx)(n.h4,{id:"\u6d41\u5f0f-8",children:"\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="AWS Bedrock \u4ee3\u7406\u6d41\u5f0f\u54cd\u5e94"',children:'from openai import OpenAI\n\n# \u4f7f\u7528\u60a8\u7684\u4ee3\u7406 URL \u521d\u59cb\u5316\u5ba2\u6237\u7aef\nclient = OpenAI(\n    base_url="http://localhost:4000",  # \u60a8\u7684\u4ee3\u7406 URL\n    api_key="your-api-key"             # \u60a8\u7684\u4ee3\u7406 API \u5bc6\u94a5\n)\n\n# \u6d41\u5f0f\u54cd\u5e94\nresponse = client.responses.create(\n    model="bedrock/anthropic.claude-3-sonnet-20240229-v1:0",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    stream=True\n)\n\nfor event in response:\n    print(event)\n'})})]}),(0,i.jsxs)(o.A,{value:"gemini",label:"Google AI Studio",children:[(0,i.jsx)(n.p,{children:"\u9996\u5148\uff0c\u5c06\u6b64\u6dfb\u52a0\u5230\u60a8\u7684 litellm \u4ee3\u7406 config.yaml \u4e2d\uff1a"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'showLineNumbers title="Google AI Studio \u4ee3\u7406\u914d\u7f6e"',children:"model_list:\n  - model_name: gemini/gemini-1.5-flash\n    litellm_params:\n      model: gemini/gemini-1.5-flash\n      api_key: os.environ/GEMINI_API_KEY\n"})}),(0,i.jsx)(n.h4,{id:"\u975e\u6d41\u5f0f-9",children:"\u975e\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="Google AI Studio \u4ee3\u7406\u975e\u6d41\u5f0f\u54cd\u5e94"',children:'from openai import OpenAI\n\n# \u4f7f\u7528\u60a8\u7684\u4ee3\u7406 URL \u521d\u59cb\u5316\u5ba2\u6237\u7aef\nclient = OpenAI(\n    base_url="http://localhost:4000",  # \u60a8\u7684\u4ee3\u7406 URL\n    api_key="your-api-key"             # \u60a8\u7684\u4ee3\u7406 API \u5bc6\u94a5\n)\n\n# \u975e\u6d41\u5f0f\u54cd\u5e94\nresponse = client.responses.create(\n    model="gemini/gemini-1.5-flash",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002"\n)\n\nprint(response)\n'})}),(0,i.jsx)(n.h4,{id:"\u6d41\u5f0f-9",children:"\u6d41\u5f0f"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="Google AI Studio \u4ee3\u7406\u6d41\u5f0f\u54cd\u5e94"',children:'from openai import OpenAI\n\n# \u4f7f\u7528\u60a8\u7684\u4ee3\u7406 URL \u521d\u59cb\u5316\u5ba2\u6237\u7aef\nclient = OpenAI(\n    base_url="http://localhost:4000",  # \u60a8\u7684\u4ee3\u7406 URL\n    api_key="your-api-key"             # \u60a8\u7684\u4ee3\u7406 API \u5bc6\u94a5\n)\n\n# \u6d41\u5f0f\u54cd\u5e94\nresponse = client.responses.create(\n    model="gemini/gemini-1.5-flash",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    stream=True\n)\n\nfor event in response:\n    print(event)\n'})})]})]}),"\n",(0,i.jsx)(n.h2,{id:"\u54cd\u5e94-id-\u5b89\u5168\u6027",children:"\u54cd\u5e94 ID \u5b89\u5168\u6027"}),"\n",(0,i.jsx)(n.p,{children:"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cLiteLLM \u4ee3\u7406\u4f1a\u963b\u6b62\u7528\u6237\u8bbf\u95ee\u5176\u4ed6\u7528\u6237\u7684\u54cd\u5e94 ID\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u8fd9\u662f\u901a\u8fc7\u4f7f\u7528\u7528\u6237 ID \u52a0\u5bc6\u54cd\u5e94 ID \u6765\u5b9e\u73b0\u7684\uff0c\u4f7f\u7528\u6237\u53ea\u80fd\u8bbf\u95ee\u81ea\u5df1\u7684\u54cd\u5e94 ID\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5c1d\u8bd5\u8bbf\u95ee\u5176\u4ed6\u4eba\u7684\u54cd\u5e94 ID \u5c06\u8fd4\u56de 403\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "error": {\n    "message": "Forbidden. The response id is not associated with the user, who this key belongs to.",\n    "code": 403\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u8981\u7981\u7528\u6b64\u529f\u80fd\uff0c\u8bf7\u8bbe\u7f6e ",(0,i.jsx)(n.code,{children:"disable_responses_id_security: true"}),"\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"general_settings:\n  disable_responses_id_security: true\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8fd9\u5c06\u5141\u8bb8\u4efb\u4f55\u7528\u6237\u8bbf\u95ee\u4efb\u4f55\u54cd\u5e94 ID\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u652f\u6301\u7684-responses-api-\u53c2\u6570",children:"\u652f\u6301\u7684 Responses API \u53c2\u6570"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u63d0\u4f9b\u5546"}),(0,i.jsx)(n.th,{children:"\u652f\u6301\u7684\u53c2\u6570"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"openai"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/blob/7c3df984da8e4dff9201e4c5353fdc7a2b441831/litellm/llms/openai/responses/transformation.py#L23",children:"\u652f\u6301\u6240\u6709 Responses API \u53c2\u6570"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"azure"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/blob/7c3df984da8e4dff9201e4c5353fdc7a2b441831/litellm/llms/openai/responses/transformation.py#L23",children:"\u652f\u6301\u6240\u6709 Responses API \u53c2\u6570"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"anthropic"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/blob/f39d9178868662746f159d5ef642c7f34f9bfe5f/litellm/responses/litellm_completion_transformation/transformation.py#L57",children:"\u8bf7\u53c2\u9605\u6b64\u5904\u652f\u6301\u7684\u53c2\u6570"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bedrock"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/blob/f39d9178868662746f159d5ef642c7f34f9bfe5f/litellm/responses/litellm_completion_transformation/transformation.py#L57",children:"\u8bf7\u53c2\u9605\u6b64\u5904\u652f\u6301\u7684\u53c2\u6570"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"gemini"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/blob/f39d9178868662746f159d5ef642c7f34f9bfe5f/litellm/responses/litellm_completion_transformation/transformation.py#L57",children:"\u8bf7\u53c2\u9605\u6b64\u5904\u652f\u6301\u7684\u53c2\u6570"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"vertex_ai"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/blob/f39d9178868662746f159d5ef642c7f34f9bfe5f/litellm/responses/litellm_completion_transformation/transformation.py#L57",children:"\u8bf7\u53c2\u9605\u6b64\u5904\u652f\u6301\u7684\u53c2\u6570"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"azure_ai"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/blob/f39d9178868662746f159d5ef642c7f34f9bfe5f/litellm/responses/litellm_completion_transformation/transformation.py#L57",children:"\u8bf7\u53c2\u9605\u6b64\u5904\u652f\u6301\u7684\u53c2\u6570"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u6240\u6709\u5176\u4ed6 llm api \u63d0\u4f9b\u5546"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/blob/f39d9178868662746f159d5ef642c7f34f9bfe5f/litellm/responses/litellm_completion_transformation/transformation.py#L57",children:"\u8bf7\u53c2\u9605\u6b64\u5904\u652f\u6301\u7684\u53c2\u6570"})})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"\u4f1a\u8bdd\u8fde\u7eed\u6027\u7684\u8d1f\u8f7d\u5747\u8861",children:"\u4f1a\u8bdd\u8fde\u7eed\u6027\u7684\u8d1f\u8f7d\u5747\u8861"}),"\n",(0,i.jsxs)(n.p,{children:["\u5f53 Responses API \u4f7f\u7528\u540c\u4e00\u6a21\u578b\u7684\u591a\u4e2a\u90e8\u7f72\u65f6\uff08\u4f8b\u5982\uff0c\u591a\u4e2a Azure OpenAI \u7aef\u70b9\uff09\uff0cLiteLLM \u63d0\u4f9b\u4f1a\u8bdd\u8fde\u7eed\u6027\u3002\u8fd9\u786e\u4fdd\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"previous_response_id"})," \u7684\u540e\u7eed\u8bf7\u6c42\u88ab\u8def\u7531\u5230\u751f\u6210\u539f\u59cb\u54cd\u5e94\u7684\u540c\u4e00\u90e8\u7f72\u3002"]}),"\n",(0,i.jsx)(n.h4,{id:"\u4f7f\u7528\u793a\u4f8b",children:"\u4f7f\u7528\u793a\u4f8b"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(o.A,{value:"python-sdk",label:"Python SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="\u5177\u6709\u4f1a\u8bdd\u8fde\u7eed\u6027\u7684 Python SDK"',children:'import litellm\n\n# \u8bbe\u7f6e\u540c\u4e00\u6a21\u578b\u7684\u591a\u4e2a\u90e8\u7f72\u7684\u8def\u7531\u5668\nrouter = litellm.Router(\n    model_list=[\n        {\n            "model_name": "azure-gpt4-turbo",\n            "litellm_params": {\n                "model": "azure/gpt-4-turbo",\n                "api_key": "your-api-key-1",\n                "api_version": "2024-06-01",\n                "api_base": "https://endpoint1.openai.azure.com",\n            },\n        },\n        {\n            "model_name": "azure-gpt4-turbo",\n            "litellm_params": {\n                "model": "azure/gpt-4-turbo",\n                "api_key": "your-api-key-2",\n                "api_version": "2024-06-01",\n                "api_base": "https://endpoint2.openai.azure.com",\n            },\n        },\n    ],\n    optional_pre_call_checks=["responses_api_deployment_check"],\n)\n\n# \u521d\u59cb\u8bf7\u6c42\nresponse = await router.aresponses(\n    model="azure-gpt4-turbo",\n    input="Hello, who are you?",\n    truncation="auto",\n)\n\n# \u4fdd\u5b58\u54cd\u5e94 ID\nresponse_id = response.id\n\n# \u540e\u7eed\u8bf7\u6c42 - \u5c06\u81ea\u52a8\u8def\u7531\u5230\u540c\u4e00\u90e8\u7f72\nfollow_up = await router.aresponses(\n    model="azure-gpt4-turbo",\n    input="Tell me more about yourself",\n    truncation="auto",\n    previous_response_id=response_id  # \u8fd9\u786e\u4fdd\u8def\u7531\u5230\u540c\u4e00\u90e8\u7f72\n)\n'})})}),(0,i.jsxs)(o.A,{value:"proxy-server",label:"\u4ee3\u7406\u670d\u52a1\u5668",children:[(0,i.jsx)(n.h4,{id:"1-\u5728\u4ee3\u7406-configyaml-\u4e0a\u8bbe\u7f6e\u4f1a\u8bdd\u8fde\u7eed\u6027",children:"1. \u5728\u4ee3\u7406 config.yaml \u4e0a\u8bbe\u7f6e\u4f1a\u8bdd\u8fde\u7eed\u6027"}),(0,i.jsxs)(n.p,{children:["\u8981\u5728 LiteLLM \u4ee3\u7406\u4e2d\u4e3a Responses API \u542f\u7528\u4f1a\u8bdd\u8fde\u7eed\u6027\uff0c\u8bf7\u5728\u4ee3\u7406 config.yaml \u4e2d\u8bbe\u7f6e ",(0,i.jsx)(n.code,{children:'optional_pre_call_checks: ["responses_api_deployment_check"]'}),"\u3002"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'showLineNumbers title="\u5177\u6709\u4f1a\u8bdd\u8fde\u7eed\u6027\u7684 config.yaml"',children:'model_list:\n  - model_name: azure-gpt4-turbo\n    litellm_params:\n      model: azure/gpt-4-turbo\n      api_key: your-api-key-1\n      api_version: 2024-06-01\n      api_base: https://endpoint1.openai.azure.com\n  - model_name: azure-gpt4-turbo\n    litellm_params:\n      model: azure/gpt-4-turbo\n      api_key: your-api-key-2\n      api_version: 2024-06-01\n      api_base: https://endpoint2.openai.azure.com\n\nrouter_settings:\n  optional_pre_call_checks: ["responses_api_deployment_check"]\n'})}),(0,i.jsx)(n.h4,{id:"2-\u4f7f\u7528-openai-python-sdk-\u5411-litellm-\u4ee3\u7406\u53d1\u51fa\u8bf7\u6c42",children:"2. \u4f7f\u7528 OpenAI Python SDK \u5411 LiteLLM \u4ee3\u7406\u53d1\u51fa\u8bf7\u6c42"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="\u5e26\u6709\u4ee3\u7406\u670d\u52a1\u5668\u7684 OpenAI \u5ba2\u6237\u7aef"',children:'from openai import OpenAI\n\nclient = OpenAI(\n    base_url="http://localhost:4000",\n    api_key="your-api-key"\n)\n\n# \u521d\u59cb\u8bf7\u6c42\nresponse = client.responses.create(\n    model="azure-gpt4-turbo",\n    input="Hello, who are you?"\n)\n\nresponse_id = response.id\n\n# \u540e\u7eed\u8bf7\u6c42 - \u5c06\u81ea\u52a8\u8def\u7531\u5230\u540c\u4e00\u90e8\u7f72\nfollow_up = client.responses.create(\n    model="azure-gpt4-turbo",\n    input="Tell me more about yourself",\n    previous_response_id=response_id  # \u8fd9\u786e\u4fdd\u8def\u7531\u5230\u540c\u4e00\u90e8\u7f72\n)\n'})})]})]}),"\n",(0,i.jsxs)(n.h2,{id:"\u8c03\u7528\u975e-responses-api-\u7aef\u70b9responses-\u5230-chatcompletions-\u6865\u63a5",children:["\u8c03\u7528\u975e Responses API \u7aef\u70b9\uff08",(0,i.jsx)(n.code,{children:"/responses"})," \u5230 ",(0,i.jsx)(n.code,{children:"/chat/completions"})," \u6865\u63a5\uff09"]}),"\n",(0,i.jsxs)(n.p,{children:["LiteLLM \u5141\u8bb8\u60a8\u901a\u8fc7\u6865\u63a5\u5230 LiteLLM \u7684 ",(0,i.jsx)(n.code,{children:"/chat/completions"})," \u7aef\u70b9\u6765\u8c03\u7528\u975e Responses API \u6a21\u578b\u3002\u8fd9\u5bf9\u4e8e\u8c03\u7528 Anthropic\u3001Gemini \u751a\u81f3\u975e Responses API \u7684 OpenAI \u6a21\u578b\u975e\u5e38\u6709\u7528\u3002"]}),"\n",(0,i.jsx)(n.h4,{id:"python-sdk-\u7528\u6cd5",children:"Python SDK \u7528\u6cd5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="SDK \u7528\u6cd5"',children:'import litellm\nimport os\n\n# \u8bbe\u7f6e API \u5bc6\u94a5\nos.environ["ANTHROPIC_API_KEY"] = "your-anthropic-api-key"\n\n# \u975e\u6d41\u5f0f\u54cd\u5e94\nresponse = litellm.responses(\n    model="anthropic/claude-3-5-sonnet-20240620",\n    input="\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u4e09\u53e5\u7761\u524d\u6545\u4e8b\u3002",\n    max_output_tokens=100\n)\n\nprint(response)\n'})}),"\n",(0,i.jsx)(n.h4,{id:"litellm-\u4ee3\u7406\u7528\u6cd5",children:"LiteLLM \u4ee3\u7406\u7528\u6cd5"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u8bbe\u7f6e\u914d\u7f6e\uff1a"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'showLineNumbers title="\u793a\u4f8b\u914d\u7f6e"',children:"model_list:\n- model_name: anthropic-model\n  litellm_params:\n    model: anthropic/claude-3-5-sonnet-20240620\n    api_key: os.environ/ANTHROPIC_API_KEY\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u542f\u52a8\u4ee3\u7406\uff1a"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:'showLineNumbers title="\u542f\u52a8 LiteLLM \u4ee3\u7406"',children:"litellm --config /path/to/config.yaml\n\n# \u8fd0\u884c\u5728 http://0.0.0.0:4000\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u53d1\u51fa\u8bf7\u6c42\uff1a"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:'showLineNumbers title="\u975e Responses API \u6a21\u578b\u8bf7\u6c42"',children:'curl http://localhost:4000/v1/responses \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer sk-1234" \\\n  -d \'{\n    "model": "anthropic-model",\n    "input": "who is Michael Jordan"\n  }\'\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u4f1a\u8bdd\u7ba1\u7406",children:"\u4f1a\u8bdd\u7ba1\u7406"}),"\n",(0,i.jsx)(n.p,{children:"LiteLLM \u4ee3\u7406\u4e3a\u6240\u6709\u652f\u6301\u7684\u6a21\u578b\u63d0\u4f9b\u4f1a\u8bdd\u7ba1\u7406\u652f\u6301\u3002\u8fd9\u5141\u8bb8\u60a8\u5728 LiteLLM \u4ee3\u7406\u4e2d\u5b58\u50a8\u548c\u83b7\u53d6\u5bf9\u8bdd\u5386\u53f2\uff08\u72b6\u6001\uff09\u3002"}),"\n",(0,i.jsx)(n.h4,{id:"\u7528\u6cd5",children:"\u7528\u6cd5"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u5728\u6570\u636e\u5e93\u4e2d\u542f\u7528\u5b58\u50a8\u8bf7\u6c42/\u54cd\u5e94\u5185\u5bb9"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5728\u4ee3\u7406 config.yaml \u4e2d\u8bbe\u7f6e ",(0,i.jsx)(n.code,{children:"store_prompts_in_cold_storage: true"}),"\u3002\u542f\u7528\u540e\uff0cLiteLLM \u4f1a\u5c06\u8bf7\u6c42\u548c\u54cd\u5e94\u5185\u5bb9\u5b58\u50a8\u5728\u60a8\u6307\u5b9a\u7684 s3 \u5b58\u50a8\u6876\u4e2d\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'showLineNumbers title="\u5177\u6709\u4f1a\u8bdd\u8fde\u7eed\u6027\u7684 config.yaml"',children:'litellm_settings:\n  callbacks: ["s3_v2"]\n  cold_storage_custom_logger: s3_v2\n  s3_callback_params: # \u4e86\u89e3\u66f4\u591a https://docs.litellm.ai/docs/proxy/logging#s3-buckets\n    s3_bucket_name: litellm-logs   # AWS S3 \u5b58\u50a8\u6876\u540d\u79f0\n    s3_region_name: us-west-2\n\ngeneral_settings:\n  store_prompts_in_cold_storage: true\n  store_prompts_in_spend_logs: true\n'})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:["\u5728\u6ca1\u6709 ",(0,i.jsx)(n.code,{children:"previous_response_id"})," \u7684\u60c5\u51b5\u4e0b\u53d1\u51fa\u8bf7\u6c42 1\uff08\u65b0\u4f1a\u8bdd\uff09"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u901a\u8fc7\u5728\u672a\u6307\u5b9a\u5148\u524d\u54cd\u5e94 ID \u7684\u60c5\u51b5\u4e0b\u53d1\u51fa\u8bf7\u6c42\u6765\u5f00\u59cb\u65b0\u5bf9\u8bdd\u3002"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(o.A,{value:"curl",label:"Curl",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-curl",children:'curl http://localhost:4000/v1/responses \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer sk-1234" \\\n  -d \'{\n    "model": "anthropic/claude-3-5-sonnet-latest",\n    "input": "who is Michael Jordan"\n  }\'\n'})})}),(0,i.jsx)(o.A,{value:"openai-sdk",label:"OpenAI Python SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from openai import OpenAI\n\n# \u4f7f\u7528\u60a8\u7684 LiteLLM \u4ee3\u7406 URL \u521d\u59cb\u5316\u5ba2\u6237\u7aef\nclient = OpenAI(\n    base_url="http://localhost:4000",\n    api_key="sk-1234"\n)\n\n# \u53d1\u51fa\u521d\u59cb\u8bf7\u6c42\u4ee5\u5f00\u59cb\u65b0\u5bf9\u8bdd\nresponse = client.responses.create(\n    model="anthropic/claude-3-5-sonnet-latest",\n    input="who is Michael Jordan"\n)\n\nprint(response.id)  # \u4fdd\u5b58\u6b64 ID \u4ee5\u5728\u540c\u4e00\u4f1a\u8bdd\u4e2d\u7528\u4e8e\u5c06\u6765\u7684\u8bf7\u6c42\nprint(response.output[0].content[0].text)\n'})})})]}),"\n",(0,i.jsx)(n.p,{children:"\u54cd\u5e94\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "id":"resp_123abc",\n  "model":"claude-3-5-sonnet-20241022",\n  "output":[{\n    "type":"message",\n    "content":[{\n      "type":"output_text",\n      "text":"Michael Jordan is widely considered one of the greatest basketball players of all time. He played for the Chicago Bulls (1984-1993, 1995-1998) and Washington Wizards (2001-2003), winning 6 NBA Championships with the Bulls."\n    }]\n  }]\n}\n'})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"previous_response_id"})," \u53d1\u51fa\u8bf7\u6c42 2\uff08\u540c\u4e00\u4f1a\u8bdd\uff09"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u901a\u8fc7\u5f15\u7528\u5148\u524d\u7684\u54cd\u5e94 ID \u6765\u7ee7\u7eed\u5bf9\u8bdd\uff0c\u4ee5\u7ef4\u62a4\u5bf9\u8bdd\u4e0a\u4e0b\u6587\u3002"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(o.A,{value:"curl",label:"Curl",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-curl",children:'curl http://localhost:4000/v1/responses \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer sk-1234" \\\n  -d \'{\n    "model": "anthropic/claude-3-5-sonnet-latest",\n    "input": "can you tell me more about him",\n    "previous_response_id": "resp_123abc"\n  }\'\n'})})}),(0,i.jsx)(o.A,{value:"openai-sdk",label:"OpenAI Python SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from openai import OpenAI\n\n# \u4f7f\u7528\u60a8\u7684 LiteLLM \u4ee3\u7406 URL \u521d\u59cb\u5316\u5ba2\u6237\u7aef\nclient = OpenAI(\n    base_url="http://localhost:4000",\n    api_key="sk-1234"\n)\n\n# \u5728\u540c\u4e00\u5bf9\u8bdd\u4f1a\u8bdd\u4e2d\u53d1\u51fa\u540e\u7eed\u8bf7\u6c42\nfollow_up_response = client.responses.create(\n    model="anthropic/claude-3-5-sonnet-latest",\n    input="can you tell me more about him",\n    previous_response_id="resp_123abc"  # \u6765\u81ea\u5148\u524d\u54cd\u5e94\u7684 ID\n)\n\nprint(follow_up_response.output[0].content[0].text)\n'})})})]}),"\n",(0,i.jsx)(n.p,{children:"\u54cd\u5e94\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "id":"resp_456def",\n  "model":"claude-3-5-sonnet-20241022",\n  "output":[{\n    "type":"message",\n    "content":[{\n      "type":"output_text",\n      "text":"Michael Jordan was born February 17, 1963. He attended University of North Carolina before being drafted 3rd overall by the Bulls in 1984. Beyond basketball, he built the Air Jordan brand with Nike and later became owner of the Charlotte Hornets."\n    }]\n  }]\n}\n'})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsxs)(n.li,{children:["\u5728\u6ca1\u6709 ",(0,i.jsx)(n.code,{children:"previous_response_id"})," \u7684\u60c5\u51b5\u4e0b\u53d1\u51fa\u8bf7\u6c42 3\uff08\u65b0\u4f1a\u8bdd\uff09"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u901a\u8fc7\u5728\u4e0d\u5f15\u7528\u5148\u524d\u4e0a\u4e0b\u6587\u7684\u60c5\u51b5\u4e0b\u5f00\u59cb\u5168\u65b0\u5bf9\u8bdd\u6765\u6f14\u793a\u4e0a\u4e0b\u6587\u5982\u4f55\u5728\u4f1a\u8bdd\u4e4b\u95f4\u4e0d\u7ef4\u62a4\u3002"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(o.A,{value:"curl",label:"Curl",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-curl",children:'curl http://localhost:4000/v1/responses \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer sk-1234" \\\n  -d \'{\n    "model": "anthropic/claude-3-5-sonnet-latest",\n    "input": "can you tell me more about him"\n  }\'\n'})})}),(0,i.jsx)(o.A,{value:"openai-sdk",label:"OpenAI Python SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from openai import OpenAI\n\n# \u4f7f\u7528\u60a8\u7684 LiteLLM \u4ee3\u7406 URL \u521d\u59cb\u5316\u5ba2\u6237\u7aef\nclient = OpenAI(\n    base_url="http://localhost:4000",\n    api_key="sk-1234"\n)\n\n# \u5728\u6ca1\u6709\u5148\u524d\u4e0a\u4e0b\u6587\u7684\u60c5\u51b5\u4e0b\u53d1\u51fa\u65b0\u8bf7\u6c42\nnew_session_response = client.responses.create(\n    model="anthropic/claude-3-5-sonnet-latest",\n    input="can you tell me more about him"\n    # \u6ca1\u6709 previous_response_id \u610f\u5473\u7740\u8fd9\u5c06\u5f00\u59cb\u4e00\u4e2a\u65b0\u5bf9\u8bdd\n)\n\nprint(new_session_response.output[0].content[0].text)\n'})})})]}),"\n",(0,i.jsx)(n.p,{children:"\u54cd\u5e94\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "id":"resp_789ghi",\n  "model":"claude-3-5-sonnet-20241022",\n  "output":[{\n    "type":"message",\n    "content":[{\n      "type":"output_text",\n      "text":"I don\'t see who you\'re referring to in our conversation. Could you let me know which person you\'d like to learn more about?"\n    }]\n  }]\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},49489(e,n,s){s.d(n,{A:()=>A});var r=s(96540),i=s(18215),t=s(24245),l=s(56347),o=s(36494),a=s(62814),d=s(45167),c=s(69900);function p(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function h(e){const{values:n,children:s}=e;return(0,r.useMemo)(()=>{const e=n??function(e){return p(e).map(({props:{value:e,label:n,attributes:s,default:r}})=>({value:e,label:n,attributes:s,default:r}))}(s);return function(e){const n=(0,d.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,s])}function u({value:e,tabValues:n}){return n.some(n=>n.value===e)}function m({queryString:e=!1,groupId:n}){const s=(0,l.W6)(),i=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,a.aZ)(i),(0,r.useCallback)(e=>{if(!i)return;const n=new URLSearchParams(s.location.search);n.set(i,e),s.replace({...s.location,search:n.toString()})},[i,s])]}function x(e){const{defaultValue:n,queryString:s=!1,groupId:i}=e,t=h(e),[l,a]=(0,r.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!u({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const s=n.find(e=>e.default)??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:t})),[d,p]=m({queryString:s,groupId:i}),[x,j]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[s,i]=(0,c.Dv)(n);return[s,(0,r.useCallback)(e=>{n&&i.set(e)},[n,i])]}({groupId:i}),g=(()=>{const e=d??x;return u({value:e,tabValues:t})?e:null})();(0,o.A)(()=>{g&&a(g)},[g]);return{selectedValue:l,selectValue:(0,r.useCallback)(e=>{if(!u({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);a(e),p(e),j(e)},[p,j,t]),tabValues:t}}var j=s(11062);const g="tabList__CuJ",_="tabItem_LNqP";var b=s(74848);function v({className:e,block:n,selectedValue:s,selectValue:r,tabValues:l}){const o=[],{blockElementScrollPositionUntilNextRender:a}=(0,t.a_)(),d=e=>{const n=e.currentTarget,i=o.indexOf(n),t=l[i].value;t!==s&&(a(n),r(t))},c=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const s=o.indexOf(e.currentTarget)+1;n=o[s]??o[0];break}case"ArrowLeft":{const s=o.indexOf(e.currentTarget)-1;n=o[s]??o[o.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},e),children:l.map(({value:e,label:n,attributes:r})=>(0,b.jsx)("li",{role:"tab",tabIndex:s===e?0:-1,"aria-selected":s===e,ref:e=>{o.push(e)},onKeyDown:c,onClick:d,...r,className:(0,i.A)("tabs__item",_,r?.className,{"tabs__item--active":s===e}),children:n??e},e))})}function y({lazy:e,children:n,selectedValue:s}){const t=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=t.find(e=>e.props.value===s);return e?(0,r.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:t.map((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s}))})}function f(e){const n=x(e);return(0,b.jsxs)("div",{className:(0,i.A)("tabs-container",g),children:[(0,b.jsx)(v,{...n,...e}),(0,b.jsx)(y,{...n,...e})]})}function A(e){const n=(0,j.A)();return(0,b.jsx)(f,{...e,children:p(e.children)},String(n))}}}]);