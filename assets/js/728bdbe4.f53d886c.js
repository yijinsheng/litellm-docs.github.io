"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[82123],{22102(d,e,n){n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"proxy/logging_spec","title":"logging_spec","description":"class CostBreakdown(TypedDict, total=False):","source":"@site/docs/proxy/logging_spec.md","sourceDirName":"proxy","slug":"/proxy/logging_spec","permalink":"/docs/proxy/logging_spec","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"logging","permalink":"/docs/proxy/logging"},"next":{"title":"\u56e2\u961f/\u57fa\u4e8e\u5bc6\u94a5\u7684\u65e5\u5fd7\u8bb0\u5f55","permalink":"/docs/proxy/team_logging"}}');var s=n(74848),t=n(28453);const i={},l=void 0,c={},a=[{value:"StandardLoggingUserAPIKeyMetadata",id:"standardlogginguserapikeymetadata",level:2},{value:"StandardLoggingMetadata",id:"standardloggingmetadata",level:2},{value:"StandardLoggingVectorStoreRequest",id:"standardloggingvectorstorerequest",level:2},{value:"StandardLoggingAdditionalHeaders",id:"standardloggingadditionalheaders",level:2},{value:"StandardLoggingHiddenParams",id:"standardlogginghiddenparams",level:2},{value:"StandardLoggingModelInformation",id:"standardloggingmodelinformation",level:2},{value:"StandardLoggingModelCostFailureDebugInformation",id:"standardloggingmodelcostfailuredebuginformation",level:2},{value:"StandardLoggingPayloadErrorInformation",id:"standardloggingpayloaderrorinformation",level:2},{value:"StandardLoggingPayloadStatus",id:"standardloggingpayloadstatus",level:2},{value:"StandardLoggingGuardrailInformation",id:"standardloggingguardrailinformation",level:2},{value:"StandardLoggingPayloadStatusFields",id:"standardloggingpayloadstatusfields",level:2},{value:"StandardLoggingPayloadStatus",id:"standardloggingpayloadstatus-1",level:3},{value:"GuardrailStatus",id:"guardrailstatus",level:3},{value:"\u4f7f\u7528\u793a\u4f8b",id:"\u4f7f\u7528\u793a\u4f8b",level:3},{value:"StandardLoggingPromptManagementMetadata",id:"standardloggingpromptmanagementmetadata",level:2},{value:"StandardLoggingMCPToolCall",id:"standardloggingmcptoolcall",level:2},{value:"MCPServerCostInfo",id:"mcpservercostinfo",level:3},{value:"\u4f7f\u7528\u793a\u4f8b",id:"\u4f7f\u7528\u793a\u4f8b-1",level:3}];function o(d){const e={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...d.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-markdown",children:'# \u6807\u51c6\u65e5\u5fd7\u8bb0\u5f55\u8d1f\u8f7d Specification\n\n\u5728 `kwargs["standard_logging_object"]` \u4e0b\u627e\u5230\u3002\u8fd9\u662f\u4e00\u4e2a\u6807\u51c6\u7684\u8d1f\u8f7d\uff0c\u7528\u4e8e\u8bb0\u5f55\u6bcf\u6b21\u6210\u529f\u548c\u5931\u8d25\u54cd\u5e94\u3002\n\n## StandardLoggingPayload\n\n| \u5b57\u6bb5 | \u7c7b\u578b | \u63cf\u8ff0 |\n|------|------|-------|\n| `id` | `str` | \u552f\u4e00\u6807\u8bc6\u7b26 |\n| `trace_id` | `str` | \u8ddf\u8e2a\u540c\u4e00\u6574\u4f53\u8bf7\u6c42\u4e2d\u7684\u591a\u4e2aLLM\u8c03\u7528 |\n| `call_type` | `str` | \u8c03\u7528\u7c7b\u578b |\n| `response_cost` | `float` | \u54cd\u5e94\u7684\u6210\u672c\uff08\u5355\u4f4d\uff1a\u7f8e\u5143\uff09 |\n| `cost_breakdown` | `Optional[CostBreakdown]` | \u8be6\u7ec6\u7684\u6210\u672c\u5206\u89e3\u5bf9\u8c61 |\n| `response_cost_failure_debug_info` | `StandardLoggingModelCostFailureDebugInformation` | \u6210\u672c\u8ddf\u8e2a\u5931\u8d25\u7684\u8c03\u8bd5\u4fe1\u606f |\n| `status` | `StandardLoggingPayloadStatus` | \u8d1f\u8f7d\u7684\u72b6\u6001 |\n| `status_fields` | `StandardLoggingPayloadStatusFields` | \u7528\u4e8e\u8f7b\u677e\u8fc7\u6ee4\u548c\u5206\u6790\u7684\u7c7b\u578b\u5316\u72b6\u6001\u5b57\u6bb5 |\n| `total_tokens` | `int` | \u603b\u8bcd\u6570 |\n| `prompt_tokens` | `int` | \u63d0\u793a\u8bcd\u6570 |\n| `completion_tokens` | `int` | \u5b8c\u6210\u8bcd\u6570 |\n| `startTime` | `float` | \u8c03\u7528\u5f00\u59cb\u65f6\u95f4 |\n| `endTime` | `float` | \u8c03\u7528\u7ed3\u675f\u65f6\u95f4 |\n| `completionStartTime` | `float` | \u6d41\u5f0f\u4f20\u8f93\u8bf7\u6c42\u7684\u7b2c\u4e00\u4ee4\u724c\u65f6\u95f4 |\n| `response_time` | `float` | \u603b\u54cd\u5e94\u65f6\u95f4\u3002\u5982\u679c\u662f\u6d41\u5f0f\u4f20\u8f93\uff0c\u8fd9\u662f\u7b2c\u4e00\u4ee4\u724c\u7684\u65f6\u95f4 |\n| `model_map_information` | `StandardLoggingModelInformation` | \u6a21\u578b\u6620\u5c04\u4fe1\u606f |\n| `model` | `str` | \u8bf7\u6c42\u4e2d\u53d1\u9001\u7684\u6a21\u578b\u540d\u79f0 |\n| `model_id` | `Optional[str]` | \u4f7f\u7528\u90e8\u7f72\u7684\u6a21\u578bID |\n| `model_group` | `Optional[str]` | \u7528\u4e8e\u8bf7\u6c42\u7684 `model_group` |\n| `api_base` | `str` | LLM API \u57fa\u7840 URL |\n| `metadata` | `StandardLoggingMetadata` | \u5143\u6570\u636e\u4fe1\u606f |\n| `cache_hit` | `Optional[bool]` | \u7f13\u5b58\u662f\u5426\u547d\u4e2d |\n| `cache_key` | `Optional[str]` | \u9009\u586b\u7684\u7f13\u5b58\u952e |\n| `saved_cache_cost` | `float` | \u901a\u8fc7\u7f13\u5b58\u8282\u7701\u7684\u6210\u672c |\n| `request_tags` | `list` | \u8bf7\u6c42\u6807\u7b7e\u5217\u8868 |\n| `end_user` | `Optional[str]` | \u9009\u586b\u7684\u6700\u7ec8\u7528\u6237\u6807\u8bc6\u7b26 |\n| `requester_ip_address` | `Optional[str]` | \u9009\u586b\u7684\u8bf7\u6c42\u8005IP\u5730\u5740 |\n| `messages` | `Optional[Union[str, list, dict]]` | \u8bf7\u6c42\u4e2d\u53d1\u9001\u7684\u6d88\u606f |\n| `response` | `Optional[Union[str, list, dict]]` | LLM\u54cd\u5e94 |\n| `error_str` | `Optional[str]` | \u9009\u586b\u7684\u9519\u8bef\u5b57\u7b26\u4e32 |\n| `error_information` | `Optional[StandardLoggingPayloadErrorInformation]` | \u9009\u586b\u7684\u9519\u8bef\u4fe1\u606f |\n| `model_parameters` | `dict` | \u6a21\u578b\u53c2\u6570 |\n| `hidden_params` | `StandardLoggingHiddenParams` | \u9690\u85cf\u53c2\u6570 |\n\n## \u6210\u672c\u5206\u89e3\n\n`cost_breakdown` \u5b57\u6bb5\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5305\u542b\u8be6\u7ec6\u6210\u672c\u5206\u89e3\u7684\u5bf9\u8c61\uff0c\u4f5c\u4e3a `CostBreakdown` \u7c7b\u578b\u7684\u5b57\u6bb5\uff1a\n\n- **`input_cost`**: \u8f93\u5165/\u63d0\u793a\u8bcd\u7684\u6210\u672c\uff08\u5305\u62ec\u7f13\u5b58\u521b\u5efa\u8bcd\uff09\n- **`output_cost`**: \u8f93\u51fa/\u5b8c\u6210\u8bcd\u7684\u6210\u672c\uff08\u5982\u679c\u9002\u7528\uff0c\u5219\u5305\u62ec\u63a8\u7406\u8bcd\uff09\n- **`tool_usage_cost`**: \u5185\u7f6e\u5de5\u5177\u4f7f\u7528\u6210\u672c\uff08\u4f8b\u5982\uff0c\u7f51\u7edc\u641c\u7d22\u3001\u4ee3\u7801\u89e3\u91ca\u5668\uff09\n- **`total_cost`**: \u8f93\u5165 + \u8f93\u51fa + \u5de5\u5177\u4f7f\u7528\u603b\u6210\u672c\n\n**\u6ce8\u610f**: \u8be5\u5b57\u6bb5\u5728\u6240\u6709\u8c03\u7528\u7c7b\u578b\u4e2d\u90fd\u586b\u5145\u3002\u5bf9\u4e8e\u975e\u5b8c\u6210\u8c03\u7528\uff0c`input_cost` \u548c `output_cost` \u53ef\u80fd\u4e3a0\u3002\n\n\u603b\u6210\u672c\u5173\u7cfb\u662f\uff1a`response_cost = cost_breakdown.total_cost`\n\n### CostBreakdown \u7c7b\u578b\n\n```python\nclass CostBreakdown(TypedDict, total=False):\n    input_cost: float        # \u8f93\u5165/\u63d0\u793a\u8bcd\u7684\u6210\u672c\uff08\u5355\u4f4d\uff1a\u7f8e\u5143\uff09\n    output_cost: float       # \u8f93\u51fa/\u5b8c\u6210\u8bcd\u7684\u6210\u672c\uff08\u5305\u62ec\u63a8\u7406\u8bcd\uff09\uff08\u5355\u4f4d\uff1a\u7f8e\u5143\uff09\n    tool_usage_cost: float   # \u5185\u7f6e\u5de5\u5177\u4f7f\u7528\u6210\u672c\uff08\u5355\u4f4d\uff1a\u7f8e\u5143\uff09\n    total_cost: float        # \u603b\u6210\u672c\uff08\u5355\u4f4d\uff1a\u7f8e\u5143\uff09\n'})}),"\n",(0,s.jsx)(e.h2,{id:"standardlogginguserapikeymetadata",children:"StandardLoggingUserAPIKeyMetadata"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5b57\u6bb5"}),(0,s.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u63cf\u8ff0"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"user_api_key_hash"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u7528\u6237 API \u5bc6\u94a5\u7684\u54c8\u5e0c\u503c"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"user_api_key_alias"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"API \u5bc6\u94a5\u7684\u522b\u540d"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"user_api_key_org_id"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u4e0e\u5bc6\u94a5\u5173\u8054\u7684\u7ec4\u7ec7ID"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"user_api_key_team_id"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u4e0e\u5bc6\u94a5\u5173\u8054\u7684\u56e2\u961fID"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"user_api_key_user_id"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u4e0e\u5bc6\u94a5\u5173\u8054\u7684\u7528\u6237ID"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"user_api_key_team_alias"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u4e0e\u5bc6\u94a5\u5173\u8054\u7684\u56e2\u961f\u522b\u540d"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"standardloggingmetadata",children:"StandardLoggingMetadata"}),"\n",(0,s.jsxs)(e.p,{children:["\u7ee7\u627f\u81ea ",(0,s.jsx)(e.code,{children:"StandardLoggingUserAPIKeyMetadata"})," \u5e76\u6dfb\u52a0\uff1a"]}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5b57\u6bb5"}),(0,s.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u63cf\u8ff0"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"spend_logs_metadata"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[dict]"})}),(0,s.jsx)(e.td,{children:"\u82b1\u8d39\u65e5\u5fd7\u7684\u5173\u952e\u503c\u5bf9"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"requester_ip_address"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u8bf7\u6c42\u8005\u7684IP\u5730\u5740"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"requester_metadata"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[dict]"})}),(0,s.jsx)(e.td,{children:"\u9644\u52a0\u8bf7\u6c42\u8005\u5143\u6570\u636e"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"vector_store_request_metadata"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[List[StandardLoggingVectorStoreRequest]]"})}),(0,s.jsx)(e.td,{children:"\u5411\u91cf\u5b58\u50a8\u8bf7\u6c42\u7684\u5143\u6570\u636e"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"requester_custom_headers"})}),(0,s.jsx)(e.td,{children:"Dict[str, str]"}),(0,s.jsxs)(e.td,{children:["\u5ba2\u6237\u7aef\u53d1\u9001\u7ed9\u4ee3\u7406\u7684\u4efb\u4f55\u81ea\u5b9a\u4e49 (",(0,s.jsx)(e.code,{children:"x-"}),") \u5934\u90e8\u3002"]})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"prompt_management_metadata"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[StandardLoggingPromptManagementMetadata]"})}),(0,s.jsx)(e.td,{children:"\u63d0\u793a\u7ba1\u7406\u53ca\u7248\u672c\u5316\u5143\u6570\u636e"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"mcp_tool_call_metadata"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[StandardLoggingMCPToolCall]"})}),(0,s.jsx)(e.td,{children:"\u6a21\u578b\u4e0a\u4e0b\u6587\u534f\u8bae (Model Context Protocol) \u5de5\u5177\u8c03\u7528\u4fe1\u606f\u548c\u6210\u672c\u8ddf\u8e2a"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"applied_guardrails"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[List[str]]"})}),(0,s.jsx)(e.td,{children:"\u5e94\u7528\u7684\u62a4\u680f\u540d\u79f0\u5217\u8868"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"usage_object"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[dict]"})}),(0,s.jsx)(e.td,{children:"\u6765\u81eaLLM\u63d0\u4f9b\u8005\u7684\u539f\u59cb\u4f7f\u7528\u5bf9\u8c61"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"cold_storage_object_key"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u7528\u4e8e\u51b7\u5b58\u50a8\u68c0\u7d22\u7684S3/GCS\u5bf9\u8c61\u952e"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"guardrail_information"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[list[StandardLoggingGuardrailInformation]]"})}),(0,s.jsx)(e.td,{children:"\u62a4\u680f\u4fe1\u606f"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"standardloggingvectorstorerequest",children:"StandardLoggingVectorStoreRequest"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5b57\u6bb5"}),(0,s.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u63cf\u8ff0"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"vector_store_id"}),(0,s.jsx)(e.td,{children:"Optional[str]"}),(0,s.jsx)(e.td,{children:"\u5411\u91cf\u5b58\u50a8\u7684ID"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"custom_llm_provider"}),(0,s.jsx)(e.td,{children:"Optional[str]"}),(0,s.jsx)(e.td,{children:"\u4e0e\u5411\u91cf\u5b58\u50a8\u5173\u8054\u7684\u81ea\u5b9a\u4e49LLM\u63d0\u4f9b\u8005\uff08\u4f8b\u5982\uff0cbedrock, openai, anthropic\uff09"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"query"}),(0,s.jsx)(e.td,{children:"Optional[str]"}),(0,s.jsx)(e.td,{children:"\u5bf9\u5411\u91cf\u5b58\u50a8\u7684\u67e5\u8be2"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"vector_store_search_response"}),(0,s.jsx)(e.td,{children:"Optional[VectorStoreSearchResponse]"}),(0,s.jsx)(e.td,{children:"OpenAI \u683c\u5f0f\u7684\u5411\u91cf\u5b58\u50a8\u641c\u7d22\u54cd\u5e94"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"start_time"}),(0,s.jsx)(e.td,{children:"Optional[float]"}),(0,s.jsx)(e.td,{children:"\u5411\u91cf\u5b58\u50a8\u8bf7\u6c42\u5f00\u59cb\u65f6\u95f4"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"end_time"}),(0,s.jsx)(e.td,{children:"Optional[float]"}),(0,s.jsx)(e.td,{children:"\u5411\u91cf\u5b58\u50a8\u8bf7\u6c42\u7ed3\u675f\u65f6\u95f4"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"standardloggingadditionalheaders",children:"StandardLoggingAdditionalHeaders"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5b57\u6bb5"}),(0,s.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u63cf\u8ff0"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"x_ratelimit_limit_requests"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"int"})}),(0,s.jsx)(e.td,{children:"\u8bf7\u6c42\u7684\u901f\u7387\u9650\u5236"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"x_ratelimit_limit_tokens"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"int"})}),(0,s.jsx)(e.td,{children:"\u4ee4\u724c\u7684\u901f\u7387\u9650\u5236"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"x_ratelimit_remaining_requests"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"int"})}),(0,s.jsx)(e.td,{children:"\u5269\u4f59\u8bf7\u6c42\u6570\uff08\u5728\u901f\u7387\u9650\u5236\u4e2d\uff09"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"x_ratelimit_remaining_tokens"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"int"})}),(0,s.jsx)(e.td,{children:"\u5269\u4f59\u4ee4\u724c\u6570\uff08\u5728\u901f\u7387\u9650\u5236\u4e2d\uff09"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"standardlogginghiddenparams",children:"StandardLoggingHiddenParams"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5b57\u6bb5"}),(0,s.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u63cf\u8ff0"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"model_id"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u9009\u586b\u7684\u6a21\u578bID"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"cache_key"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u9009\u586b\u7684\u7f13\u5b58\u952e"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"api_base"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u9009\u586b\u7684API\u57fa\u7840URL"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"response_cost"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u9009\u586b\u7684\u54cd\u5e94\u6210\u672c"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"additional_headers"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[StandardLoggingAdditionalHeaders]"})}),(0,s.jsx)(e.td,{children:"\u9644\u52a0\u5934\u90e8"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"batch_models"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[List[str]]"})}),(0,s.jsx)(e.td,{children:"\u4ec5\u5bf9Batches API\u8bbe\u7f6e\u3002\u5217\u51fa\u4e86\u7528\u4e8e\u8ba1\u7b97\u6210\u672c\u7684\u6a21\u578b"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"litellm_model_name"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u8bf7\u6c42\u4e2d\u53d1\u9001\u7684\u6a21\u578b\u540d\u79f0"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"standardloggingmodelinformation",children:"StandardLoggingModelInformation"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5b57\u6bb5"}),(0,s.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u63cf\u8ff0"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"model_map_key"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"str"})}),(0,s.jsx)(e.td,{children:"\u6a21\u578b\u6620\u5c04\u952e"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"model_map_value"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[ModelInfo]"})}),(0,s.jsx)(e.td,{children:"\u9009\u586b\u7684\u6a21\u578b\u4fe1\u606f"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"standardloggingmodelcostfailuredebuginformation",children:"StandardLoggingModelCostFailureDebugInformation"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5b57\u6bb5"}),(0,s.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u63cf\u8ff0"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"error_str"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"str"})}),(0,s.jsx)(e.td,{children:"\u9519\u8bef\u5b57\u7b26\u4e32"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"traceback_str"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"str"})}),(0,s.jsx)(e.td,{children:"\u8ddf\u8e2a\u56de\u6eaf\u5b57\u7b26\u4e32"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"model"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"str"})}),(0,s.jsx)(e.td,{children:"\u6a21\u578b\u540d\u79f0"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"cache_hit"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[bool]"})}),(0,s.jsx)(e.td,{children:"\u662f\u5426\u547d\u4e2d\u7f13\u5b58"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"custom_llm_provider"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u9009\u586b\u7684\u81ea\u5b9a\u4e49LLM\u63d0\u4f9b\u8005"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"base_model"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u9009\u586b\u7684\u57fa\u7840\u6a21\u578b"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"call_type"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"str"})}),(0,s.jsx)(e.td,{children:"\u8c03\u7528\u7c7b\u578b"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"custom_pricing"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[bool]"})}),(0,s.jsx)(e.td,{children:"\u662f\u5426\u4f7f\u7528\u4e86\u81ea\u5b9a\u4e49\u5b9a\u4ef7"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"standardloggingpayloaderrorinformation",children:"StandardLoggingPayloadErrorInformation"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5b57\u6bb5"}),(0,s.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u63cf\u8ff0"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"error_code"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u9009\u586b\u7684\u9519\u8bef\u4ee3\u7801\uff08\u4f8b\u5982\uff0c\u201c429\u201d\uff09"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"error_class"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u9009\u586b\u7684\u9519\u8bef\u7c7b\uff08\u4f8b\u5982\uff0c\u201cRateLimitError\u201d\uff09"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"llm_provider"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u8fd4\u56de\u9519\u8bef\u7684LLM\u63d0\u4f9b\u8005\uff08\u4f8b\u5982\uff0c\u201copenai\u201d\uff09"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"standardloggingpayloadstatus",children:"StandardLoggingPayloadStatus"}),"\n",(0,s.jsx)(e.p,{children:"\u4e00\u4e2a\u5b57\u9762\u91cf\u7c7b\u578b\uff0c\u5177\u6709\u4e24\u79cd\u53ef\u80fd\u7684\u503c\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:'"success"'})," - \u6210\u529f"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:'"failure"'})," - \u5931\u8d25"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"standardloggingguardrailinformation",children:"StandardLoggingGuardrailInformation"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5b57\u6bb5"}),(0,s.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u63cf\u8ff0"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"guardrail_name"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u62a4\u680f\u540d\u79f0"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"guardrail_provider"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"\u62a4\u680f\u63d0\u4f9b\u8005"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"guardrail_mode"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[Union[GuardrailEventHooks, List[GuardrailEventHooks]]]"})}),(0,s.jsx)(e.td,{children:"\u62a4\u680f\u6a21\u5f0f"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"guardrail_request"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[dict]"})}),(0,s.jsx)(e.td,{children:"\u62a4\u680f\u8bf7\u6c42"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"guardrail_response"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[Union[dict, str, List[dict]]]"})}),(0,s.jsx)(e.td,{children:"\u62a4\u680f\u54cd\u5e94"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"guardrail_status"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:'Literal["success", "guardrail_intervened", "guardrail_failed_to_respond"]'})}),(0,s.jsxs)(e.td,{children:["\u62a4\u680f\u6267\u884c\u72b6\u6001\uff1a",(0,s.jsx)(e.code,{children:"success"}),"=\u672a\u68c0\u6d4b\u5230\u8fdd\u89c4\uff0c",(0,s.jsx)(e.code,{children:"blocked"}),"=\u5185\u5bb9\u56e0\u653f\u7b56\u8fdd\u89c4\u88ab\u963b\u6b62\u6216\u4fee\u6539\uff0c",(0,s.jsx)(e.code,{children:"failure"}),"=\u6280\u672f\u9519\u8bef\u6216API\u5931\u8d25"]})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"start_time"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[float]"})}),(0,s.jsx)(e.td,{children:"\u62a4\u680f\u5f00\u59cb\u65f6\u95f4"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"end_time"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[float]"})}),(0,s.jsx)(e.td,{children:"\u62a4\u680f\u7ed3\u675f\u65f6\u95f4"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"duration"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[float]"})}),(0,s.jsx)(e.td,{children:"\u62a4\u680f\u6301\u7eed\u65f6\u95f4\uff08\u79d2\uff09"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"masked_entity_count"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[Dict[str, int]]"})}),(0,s.jsx)(e.td,{children:"\u88ab\u906e\u63a9\u5b9e\u4f53\u7684\u6570\u91cf"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"standardloggingpayloadstatusfields",children:"StandardLoggingPayloadStatusFields"}),"\n",(0,s.jsx)(e.p,{children:"\u7528\u4e8e\u8f7b\u677e\u8fc7\u6ee4\u548c\u5206\u6790\u7684\u7c7b\u578b\u5316\u72b6\u6001\u5b57\u6bb5\u3002"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5b57\u6bb5"}),(0,s.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u63cf\u8ff0"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"llm_api_status"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"StandardLoggingPayloadStatus"})}),(0,s.jsxs)(e.td,{children:["LLM API\u8c03\u7528\u7684\u72b6\u6001\uff1a\u5982\u679c\u6210\u529f\u5b8c\u6210\u5219\u4e3a ",(0,s.jsx)(e.code,{children:'"success"'}),"\uff0c\u5982\u679c\u51fa\u9519\u5219\u4e3a ",(0,s.jsx)(e.code,{children:'"failure"'})]})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"guardrail_status"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"GuardrailStatus"})}),(0,s.jsx)(e.td,{children:"\u62a4\u680f\u6267\u884c\u72b6\u6001\uff08\u53c2\u89c1\u4e0b\u6587\uff09"})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"standardloggingpayloadstatus-1",children:"StandardLoggingPayloadStatus"}),"\n",(0,s.jsx)(e.p,{children:"\u4e00\u4e2a\u5b57\u9762\u91cf\u7c7b\u578b\uff0c\u5177\u6709\u4e24\u79cd\u53ef\u80fd\u7684\u503c\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:'"success"'})," - LLM API\u8bf7\u6c42\u6210\u529f\u5b8c\u6210"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:'"failure"'})," - LLM API\u8bf7\u6c42\u5931\u8d25"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"guardrailstatus",children:"GuardrailStatus"}),"\n",(0,s.jsx)(e.p,{children:"\u4e00\u4e2a\u5b57\u9762\u91cf\u7c7b\u578b\uff0c\u5177\u6709\u56db\u79cd\u53ef\u80fd\u7684\u503c\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:'"success"'})," - \u62a4\u680f\u8fd0\u884c\u4e14\u5141\u8bb8\u5185\u5bb9\u901a\u8fc7\uff08\u672a\u68c0\u6d4b\u5230\u8fdd\u89c4\uff09"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:'"guardrail_intervened"'})," - \u62a4\u680f\u56e0\u653f\u7b56\u8fdd\u89c4\u963b\u6b62\u6216\u4fee\u6539\u4e86\u5185\u5bb9"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:'"guardrail_failed_to_respond"'})," - \u62a4\u680f\u53d1\u751f\u4e86\u6280\u672f\u6545\u969c\u6216API\u9519\u8bef"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:'"not_run"'})," - \u672c\u6b21\u8bf7\u6c42\u6ca1\u6709\u6267\u884c\u62a4\u680f"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u4f7f\u7528\u793a\u4f8b",children:"\u4f7f\u7528\u793a\u4f8b"}),"\n",(0,s.jsx)(e.p,{children:"\u7b5b\u9009\u51fa\u62a4\u62e6\u5e72\u9884\u7684\u8bf7\u6c42\u65e5\u5fd7\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "status_fields": {\n    "guardrail_status": "guardrail_intervened"\n  }\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u67e5\u627e\u62a4\u62e6\u6280\u672f\u6545\u969c\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "status_fields": {\n    "guardrail_status": "guardrail_failed_to_respond"\n  }\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u83b7\u53d6\u6210\u529f\u7684LLM\u8bf7\u6c42\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "status_fields": {\n    "llm_api_status": "success"\n  }\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u67e5\u627e\u62a4\u62e6\u6210\u529f\u8fd0\u884c\u4e14\u672a\u5e72\u9884\u7684\u8bf7\u6c42\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "status_fields": {\n    "guardrail_status": "success",\n    "llm_api_status": "success"\n  }\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u67e5\u627e\u6ca1\u6709\u8fd0\u884c\u62a4\u62e6\u7684\u8bf7\u6c42\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "status_fields": {\n    "guardrail_status": "not_run"\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"standardloggingpromptmanagementmetadata",children:"StandardLoggingPromptManagementMetadata"}),"\n",(0,s.jsx)(e.p,{children:"\u7528\u4e8e\u8ddf\u8e2a\u63d0\u793a\u7248\u672c\u5316\u548c\u7ba1\u7406\u4fe1\u606f\u3002"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5b57\u6bb5"}),(0,s.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u63cf\u8ff0"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"prompt_id"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"str"})}),(0,s.jsxs)(e.td,{children:[(0,s.jsx)(e.strong,{children:"\u5fc5\u586b"}),"\u3002\u63d0\u793a\u6a21\u677f\u6216\u7248\u672c\u7684\u552f\u4e00\u6807\u8bc6\u7b26"]})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"prompt_variables"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[dict]"})}),(0,s.jsxs)(e.td,{children:["\u63d0\u793a\u6a21\u677f\u4e2d\u4f7f\u7528\u7684\u53d8\u91cf/\u53c2\u6570\uff08\u4f8b\u5982\uff0c",(0,s.jsx)(e.code,{children:'{"user_name": "John", "context": "support"}'}),"\uff09"]})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"prompt_integration"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"str"})}),(0,s.jsxs)(e.td,{children:[(0,s.jsx)(e.strong,{children:"\u5fc5\u586b"}),"\u3002\u7ba1\u7406\u63d0\u793a\u7684\u96c6\u6210\u6216\u7cfb\u7edf\uff08\u4f8b\u5982\uff0c",(0,s.jsx)(e.code,{children:'"langfuse"'}),"\uff0c",(0,s.jsx)(e.code,{children:'"promptlayer"'}),"\uff0c",(0,s.jsx)(e.code,{children:'"custom"'}),"\uff09"]})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"standardloggingmcptoolcall",children:"StandardLoggingMCPToolCall"}),"\n",(0,s.jsx)(e.p,{children:"\u7528\u4e8e\u5728LiteLLM\u8bf7\u6c42\u4e2d\u8ddf\u8e2a\u6a21\u578b\u4e0a\u4e0b\u6587\u534f\u8bae (Model Context Protocol) \u5de5\u5177\u8c03\u7528\u3002\u8fd9\u63d0\u4f9b\u4e86\u5bf9\u5916\u90e8\u5de5\u5177\u96c6\u6210\u7684\u8be6\u7ec6\u65e5\u5fd7\u8bb0\u5f55\u3002"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5b57\u6bb5"}),(0,s.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u63cf\u8ff0"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"name"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"str"})}),(0,s.jsxs)(e.td,{children:[(0,s.jsx)(e.strong,{children:"\u5fc5\u586b"}),"\u3002\u88ab\u8c03\u7528\u7684\u5de5\u5177\u540d\u79f0\uff08\u4f8b\u5982\uff0c",(0,s.jsx)(e.code,{children:'"get_weather"'}),"\uff0c",(0,s.jsx)(e.code,{children:'"search_database"'}),"\uff09"]})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"arguments"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"dict"})}),(0,s.jsxs)(e.td,{children:[(0,s.jsx)(e.strong,{children:"\u5fc5\u586b"}),"\u3002\u4f20\u9012\u7ed9\u5de5\u5177\u7684\u5173\u952e\u5b57\u53c2\u6570\u5bf9"]})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"result"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[dict]"})}),(0,s.jsx)(e.td,{children:"\u5de5\u5177\u6267\u884c\u8fd4\u56de\u7684\u7ed3\u679c/\u54cd\u5e94\uff08\u7531\u81ea\u5b9a\u4e49\u65e5\u5fd7\u8bb0\u5f55\u94a9\u5b50\u586b\u5145\uff09"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"mcp_server_name"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsxs)(e.td,{children:["\u5904\u7406\u5de5\u5177\u8c03\u7528\u7684MCP\u670d\u52a1\u5668\u540d\u79f0\uff08\u4f8b\u5982\uff0c",(0,s.jsx)(e.code,{children:'"weather-service"'}),"\uff0c",(0,s.jsx)(e.code,{children:'"database-connector"'}),"\uff09"]})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"mcp_server_logo_url"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsx)(e.td,{children:"MCP\u670d\u52a1\u5668logo\u7684URL\uff08\u7528\u4e8eLiteLLM\u4eea\u8868\u76d8\u4e2d\u7684UI\u663e\u793a\uff09"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"namespaced_tool_name"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[str]"})}),(0,s.jsxs)(e.td,{children:["\u5305\u542b\u670d\u52a1\u524d\u7f00\u7684\u5b8c\u6574\u5de5\u5177\u540d\u79f0\uff08\u4f8b\u5982\uff0c",(0,s.jsx)(e.code,{children:'"deepwiki-mcp/get_page_content"'}),"\uff0c",(0,s.jsx)(e.code,{children:'"github-mcp/create_issue"'}),"\uff09"]})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"mcp_server_cost_info"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[MCPServerCostInfo]"})}),(0,s.jsx)(e.td,{children:"\u5de5\u5177\u8c03\u7528\u7684\u6210\u672c\u8ddf\u8e2a\u4fe1\u606f"})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"mcpservercostinfo",children:"MCPServerCostInfo"}),"\n",(0,s.jsx)(e.p,{children:"MCP\u670d\u52a1\u5668\u5de5\u5177\u8c03\u7528\u7684\u6210\u672c\u8ddf\u8e2a\u7ed3\u6784\uff1a"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5b57\u6bb5"}),(0,s.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u63cf\u8ff0"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"default_cost_per_query"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[float]"})}),(0,s.jsx)(e.td,{children:"\u4efb\u4f55\u5bf9\u8fd9\u4e2aMCP\u670d\u52a1\u5668\u7684\u5de5\u5177\u8c03\u7528\u7684\u9ed8\u8ba4\u6210\u672c\uff08\u5355\u4f4d\uff1a\u7f8e\u5143\uff09"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"tool_name_to_cost_per_query"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"Optional[Dict[str, float]]"})}),(0,s.jsxs)(e.td,{children:["\u7cbe\u7ec6\u5316\u5b9a\u4ef7\u7684\u6bcf\u5de5\u5177\u6210\u672c\u6620\u5c04\uff08\u4f8b\u5982\uff0c",(0,s.jsx)(e.code,{children:'{"search": 0.01, "create": 0.05}'}),"\uff09"]})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"\u4f7f\u7528\u793a\u4f8b-1",children:"\u4f7f\u7528\u793a\u4f8b"}),"\n",(0,s.jsx)(e.p,{children:"\u57fa\u672cMCP\u5de5\u5177\u8c03\u7528\u5143\u6570\u636e\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'mcp_tool_call = {\n    "name": "search_documents",\n    "arguments": {\n        "query": "machine learning tutorials",\n        "limit": 10,\n        "filter": "type:pdf"\n    },\n    "mcp_server_name": "document-search-service",\n    "namespaced_tool_name": "docs-mcp/search_documents",\n    "mcp_server_cost_info": {\n        "default_cost_per_query": 0.02,\n        "tool_name_to_cost_per_query": {\n            "search_documents": 0.02,\n            "get_document": 0.01\n        }\n    }\n}\n\n# \u53ef\u9009\u7684\u7ed3\u679c\u5b57\u6bb5\uff08\u901a\u8fc7\u81ea\u5b9a\u4e49\u65e5\u5fd7\u8bb0\u5f55\u94a9\u5b50\uff09\nmcp_tool_call_with_result = {\n    "name": "search_documents",\n    "arguments": {\n        "query": "machine learning tutorials",\n        "limit": 10,\n        "filter": "type:pdf"\n    },\n    "result": {\n        "documents": [...],\n        "total_found": 42,\n        "search_time_ms": 150\n    },\n    "mcp_server_name": "document-search-service",\n    "namespaced_tool_name": "docs-mcp/search_documents",\n    "mcp_server_cost_info": {\n        "default_cost_per_query": 0.02,\n        "tool_name_to_cost_per_query": {\n            "search_documents": 0.02,\n            "get_document": 0.01\n        }\n    }\n}\n'})})]})}function h(d={}){const{wrapper:e}={...(0,t.R)(),...d.components};return e?(0,s.jsx)(e,{...d,children:(0,s.jsx)(o,{...d})}):o(d)}},28453(d,e,n){n.d(e,{R:()=>i,x:()=>l});var r=n(96540);const s={},t=r.createContext(s);function i(d){const e=r.useContext(t);return r.useMemo(function(){return"function"==typeof d?d(e):{...e,...d}},[e,d])}function l(d){let e;return e=d.disableParentContext?"function"==typeof d.components?d.components(s):d.components||s:i(d.components),r.createElement(t.Provider,{value:e},d.children)}}}]);