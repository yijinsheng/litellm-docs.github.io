"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[69594],{15375(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"pass_through/bedrock","title":"Bedrock (boto3) SDK","description":"Pass-through endpoints for Bedrock - \u8c03\u7528\u63d0\u4f9b\u8005\u7279\u5b9a\u7684\u7aef\u70b9\uff0c\u5728\u539f\u751f\u683c\u5f0f\u4e0b\uff08\u65e0\u9700\u7ffb\u8bd1\uff09\u3002","source":"@site/docs/pass_through/bedrock.md","sourceDirName":"pass_through","slug":"/pass_through/bedrock","permalink":"/docs/pass_through/bedrock","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Assembly AI","permalink":"/docs/pass_through/assembly_ai"},"next":{"title":"Azure \u900f\u4f20","permalink":"/docs/pass_through/azure_passthrough"}}');var o=s(74848),l=s(28453);const i={},d="Bedrock (boto3) SDK",c={},t=[{value:"\u6982\u89c8",id:"\u6982\u89c8",level:2},{value:"1. <strong>\u4f7f\u7528 config.yaml</strong>\uff08\u63a8\u8350\u7528\u4e8e\u6a21\u578b\u7aef\u70b9\uff09",id:"1-\u4f7f\u7528-configyaml\u63a8\u8350\u7528\u4e8e\u6a21\u578b\u7aef\u70b9",level:3},{value:"2. <strong>\u76f4\u63a5\u900f\u4f20</strong>\uff08\u7528\u4e8e\u975e\u6a21\u578b\u7aef\u70b9\uff09",id:"2-\u76f4\u63a5\u900f\u4f20\u7528\u4e8e\u975e\u6a21\u578b\u7aef\u70b9",level:3},{value:"\u5feb\u901f\u5165\u95e8",id:"\u5feb\u901f\u5165\u95e8",level:2},{value:"\u4f7f\u7528 config.yaml \u914d\u7f6e",id:"\u4f7f\u7528-configyaml-\u914d\u7f6e",level:2},{value:"1. \u5728 config.yaml \u4e2d\u5b9a\u4e49\u6a21\u578b",id:"1-\u5728-configyaml-\u4e2d\u5b9a\u4e49\u6a21\u578b",level:3},{value:"2. \u4f7f\u7528 config.yaml \u542f\u52a8\u4ee3\u7406",id:"2-\u4f7f\u7528-configyaml-\u542f\u52a8\u4ee3\u7406",level:3},{value:"3. \u8c03\u7528 Bedrock Converse \u7aef\u70b9",id:"3-\u8c03\u7528-bedrock-converse-\u7aef\u70b9",level:3},{value:"4. \u8c03\u7528 Bedrock Converse Stream \u7aef\u70b9",id:"4-\u8c03\u7528-bedrock-converse-stream-\u7aef\u70b9",level:3},{value:"\u652f\u6301\u7684 Bedrock \u7aef\u70b9",id:"\u652f\u6301\u7684-bedrock-\u7aef\u70b9",level:3},{value:"\u8de8\u591a\u4e2a\u90e8\u7f72\u7684\u8d1f\u8f7d\u5747\u8861",id:"\u8de8\u591a\u4e2a\u90e8\u7f72\u7684\u8d1f\u8f7d\u5747\u8861",level:3},{value:"1. \u5728 config.yaml \u4e2d\u5b9a\u4e49\u591a\u4e2a\u90e8\u7f72",id:"1-\u5728-configyaml-\u4e2d\u5b9a\u4e49\u591a\u4e2a\u90e8\u7f72",level:4},{value:"2. \u4f7f\u7528 config.yaml \u542f\u52a8\u4ee3\u7406",id:"2-\u4f7f\u7528-configyaml-\u542f\u52a8\u4ee3\u7406-1",level:4},{value:"3. \u8c03\u7528\u7aef\u70b9 - \u8bf7\u6c42\u4f1a\u81ea\u52a8\u8d1f\u8f7d\u5747\u8861",id:"3-\u8c03\u7528\u7aef\u70b9---\u8bf7\u6c42\u4f1a\u81ea\u52a8\u8d1f\u8f7d\u5747\u8861",level:4},{value:"\u4f7f\u7528 boto3 SDK \u4e0e\u8d1f\u8f7d\u5747\u8861",id:"\u4f7f\u7528-boto3-sdk-\u4e0e\u8d1f\u8f7d\u5747\u8861",level:4},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"<strong>\u793a\u4f8b 1\uff1a\u4f1a\u8bdd API</strong>",id:"\u793a\u4f8b-1\u4f1a\u8bdd-api",level:3},{value:"LiteLLM \u4ee3\u7406\u8c03\u7528",id:"litellm-\u4ee3\u7406\u8c03\u7528",level:4},{value:"\u76f4\u63a5\u8c03\u7528 Bedrock API",id:"\u76f4\u63a5\u8c03\u7528-bedrock-api",level:4},{value:"<strong>\u793a\u4f8b 2\uff1a\u5e94\u7528\u62a4\u680f</strong>",id:"\u793a\u4f8b-2\u5e94\u7528\u62a4\u680f",level:3},{value:"LiteLLM \u4ee3\u7406\u8c03\u7528",id:"litellm-\u4ee3\u7406\u8c03\u7528-1",level:4},{value:"\u76f4\u63a5\u8c03\u7528 Bedrock API",id:"\u76f4\u63a5\u8c03\u7528-bedrock-api-1",level:4},{value:"<strong>\u793a\u4f8b 3\uff1a\u67e5\u8be2\u77e5\u8bc6\u5e93</strong>",id:"\u793a\u4f8b-3\u67e5\u8be2\u77e5\u8bc6\u5e93",level:3},{value:"LiteLLM \u4ee3\u7406\u8c03\u7528",id:"litellm-\u4ee3\u7406\u8c03\u7528-2",level:4},{value:"\u76f4\u63a5\u8c03\u7528 Bedrock API",id:"\u76f4\u63a5\u8c03\u7528-bedrock-api-2",level:4},{value:"\u9ad8\u7ea7 - \u4f7f\u7528\u865a\u62df\u5bc6\u94a5",id:"\u9ad8\u7ea7---\u4f7f\u7528\u865a\u62df\u5bc6\u94a5",level:2},{value:"\u7528\u6cd5",id:"\u7528\u6cd5",level:3},{value:"\u9ad8\u7ea7 - Bedrock \u4ee3\u7406",id:"\u9ad8\u7ea7---bedrock-\u4ee3\u7406",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"bedrock-boto3-sdk",children:"Bedrock (boto3) SDK"})}),"\n",(0,o.jsx)(n.p,{children:"Pass-through endpoints for Bedrock - \u8c03\u7528\u63d0\u4f9b\u8005\u7279\u5b9a\u7684\u7aef\u70b9\uff0c\u5728\u539f\u751f\u683c\u5f0f\u4e0b\uff08\u65e0\u9700\u7ffb\u8bd1\uff09\u3002"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"\u529f\u80fd"}),(0,o.jsx)(n.th,{children:"\u652f\u6301\u60c5\u51b5"}),(0,o.jsx)(n.th,{children:"\u5907\u6ce8"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"\u6210\u672c\u8ddf\u8e2a"}),(0,o.jsx)(n.td,{children:"\u2705"}),(0,o.jsxs)(n.td,{children:["\u5bf9\u4e8e ",(0,o.jsx)(n.code,{children:"/invoke"})," \u548c ",(0,o.jsx)(n.code,{children:"/converse"})," \u7aef\u70b9"]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"\u8d1f\u8f7d\u5747\u8861"}),(0,o.jsx)(n.td,{children:"\u2705"}),(0,o.jsxs)(n.td,{children:["\u53ef\u4ee5\u5728\u591a\u4e2a\u90e8\u7f72\u4e4b\u95f4\u8d1f\u8f7d\u5747\u8861 ",(0,o.jsx)(n.code,{children:"/invoke"}),", ",(0,o.jsx)(n.code,{children:"/converse"})," \u8def\u7531"]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"\u7ec8\u7aef\u7528\u6237\u8ffd\u8e2a"}),(0,o.jsx)(n.td,{children:"\u274c"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/issues/new",children:"\u544a\u8bc9\u6211\u4eec\u60a8\u662f\u5426\u9700\u8981\u6b64\u529f\u80fd"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"\u6d41\u5f0f\u4f20\u8f93"}),(0,o.jsx)(n.td,{children:"\u2705"}),(0,o.jsx)(n.td,{})]})]})]}),"\n",(0,o.jsxs)(n.p,{children:["\u53ea\u9700\u5c06 ",(0,o.jsx)(n.code,{children:"https://bedrock-runtime.{aws_region_name}.amazonaws.com"})," \u66ff\u6362\u4e3a ",(0,o.jsx)(n.code,{children:"LITELLM_PROXY_BASE_URL/bedrock"})," \ud83d\ude80"]}),"\n",(0,o.jsx)(n.h2,{id:"\u6982\u89c8",children:"\u6982\u89c8"}),"\n",(0,o.jsx)(n.p,{children:"LiteLLM \u652f\u6301\u4e24\u79cd\u8c03\u7528 Bedrock \u7aef\u70b9\u7684\u65b9\u5f0f\uff1a"}),"\n",(0,o.jsxs)(n.h3,{id:"1-\u4f7f\u7528-configyaml\u63a8\u8350\u7528\u4e8e\u6a21\u578b\u7aef\u70b9",children:["1. ",(0,o.jsx)(n.strong,{children:"\u4f7f\u7528 config.yaml"}),"\uff08\u63a8\u8350\u7528\u4e8e\u6a21\u578b\u7aef\u70b9\uff09"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5728 ",(0,o.jsx)(n.code,{children:"config.yaml"})," \u4e2d\u5b9a\u4e49\u60a8\u7684 Bedrock \u6a21\u578b\u5e76\u6309\u540d\u79f0\u5f15\u7528\u5b83\u4eec\u3002\u4ee3\u7406\u5904\u7406\u8eab\u4efd\u9a8c\u8bc1\u548c\u8def\u7531\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"\u9002\u7528\u8303\u56f4"}),"\uff1a ",(0,o.jsx)(n.code,{children:"/converse"}),", ",(0,o.jsx)(n.code,{children:"/converse-stream"}),", ",(0,o.jsx)(n.code,{children:"/invoke"}),", ",(0,o.jsx)(n.code,{children:"/invoke-with-response-stream"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",metastring:"showLineNumbers",children:"model_list:\n  - model_name: my-bedrock-model\n    litellm_params:\n      model: bedrock/us.anthropic.claude-3-5-sonnet-20240620-v1:0\n      aws_region_name: us-west-2\n      custom_llm_provider: bedrock\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'curl -X POST \'http://0.0.0.0:4000/bedrock/model/my-bedrock-model/converse\' \\\n-H \'Authorization: Bearer sk-1234\' \\\n-H \'Content-Type: application/json\' \\\n-d \'{"messages": [{"role": "user", "content": [{"text": "Hello"}]}]}\'\n'})}),"\n",(0,o.jsxs)(n.h3,{id:"2-\u76f4\u63a5\u900f\u4f20\u7528\u4e8e\u975e\u6a21\u578b\u7aef\u70b9",children:["2. ",(0,o.jsx)(n.strong,{children:"\u76f4\u63a5\u900f\u4f20"}),"\uff08\u7528\u4e8e\u975e\u6a21\u578b\u7aef\u70b9\uff09"]}),"\n",(0,o.jsx)(n.p,{children:"\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e AWS \u51ed\u8bc1\u5e76\u76f4\u63a5\u8c03\u7528 Bedrock \u7aef\u70b9\u3002"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"\u9002\u7528\u8303\u56f4"}),"\uff1a\u62a4\u680f\u3001\u77e5\u8bc6\u5e93\u3001\u4ee3\u7406\u548c\u5176\u4ed6\u975e\u6a21\u578b\u7aef\u70b9"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'export AWS_ACCESS_KEY_ID=""\nexport AWS_SECRET_ACCESS_KEY=""\nexport AWS_REGION_NAME="us-west-2"\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'curl "http://0.0.0.0:4000/bedrock/guardrail/my-guardrail-id/version/1/apply" \\\n-H \'Authorization: Bearer sk-1234\' \\\n-H \'Content-Type: application/json\' \\\n-d \'{"contents": [{"text": {"text": "Hello"}}], "source": "INPUT"}\'\n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u652f\u6301 ",(0,o.jsx)(n.strong,{children:"\u6240\u6709"})," Bedrock \u7aef\u70b9\uff08\u5305\u62ec\u6d41\u5f0f\u4f20\u8f93\uff09\u3002"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_Converse.html",children:(0,o.jsx)(n.strong,{children:"\u67e5\u770b\u6240\u6709 Bedrock \u7aef\u70b9"})})}),"\n",(0,o.jsx)(n.h2,{id:"\u5feb\u901f\u5165\u95e8",children:"\u5feb\u901f\u5165\u95e8"}),"\n",(0,o.jsxs)(n.p,{children:["\u8ba9\u6211\u4eec\u8c03\u7528 Bedrock \u7684 ",(0,o.jsxs)(n.a,{href:"https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_Converse.html",children:[" ",(0,o.jsx)(n.code,{children:"/converse"})," \u7aef\u70b9"]}),"\u3002"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\u5728 ",(0,o.jsx)(n.code,{children:"config.yaml"})," \u6587\u4ef6\u4e2d\u5b9a\u4e49\u60a8\u7684 Bedrock \u6a21\u578b"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",metastring:"showLineNumbers",children:"model_list:\n  - model_name: my-bedrock-model\n    litellm_params:\n      model: bedrock/us.anthropic.claude-3-5-sonnet-20240620-v1:0\n      aws_region_name: us-west-2\n      custom_llm_provider: bedrock\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u8bbe\u7f6e AWS \u51ed\u8bc1\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'export AWS_ACCESS_KEY_ID=""  # \u8bbf\u95ee\u5bc6\u94a5\nexport AWS_SECRET_ACCESS_KEY="" # \u5bc6\u94a5\u8bbf\u95ee\u5bc6\u94a5\n'})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:"\u542f\u52a8 LiteLLM \u4ee3\u7406"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:"litellm --config config.yaml\n\n# \u5728 http://0.0.0.0:4000 \u8fd0\u884c\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsx)(n.li,{children:"\u6d4b\u8bd5\u4e00\u4e0b\uff01"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"config.yaml"})," \u4e2d\u7684\u6a21\u578b\u540d\u79f0\u8c03\u7528 Bedrock converse \u7aef\u70b9\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'curl -X POST \'http://0.0.0.0:4000/bedrock/model/my-bedrock-model/converse\' \\\n-H \'Authorization: Bearer sk-1234\' \\\n-H \'Content-Type: application/json\' \\\n-d \'{\n    "messages": [\n        {\n            "role": "user",\n            "content": [{"text": "Hello, how are you?"}]\n        }\n    ],\n    "inferenceConfig": {\n        "maxTokens": 100\n    }\n}\'\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\u4f7f\u7528-configyaml-\u914d\u7f6e",children:"\u4f7f\u7528 config.yaml \u914d\u7f6e"}),"\n",(0,o.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"config.yaml"})," \u5b9a\u4e49 Bedrock \u6a21\u578b\u5e76\u901a\u8fc7\u900f\u4f20\u7aef\u70b9\u4f7f\u7528\u5b83\u4eec\u3002"]}),"\n",(0,o.jsx)(n.h3,{id:"1-\u5728-configyaml-\u4e2d\u5b9a\u4e49\u6a21\u578b",children:"1. \u5728 config.yaml \u4e2d\u5b9a\u4e49\u6a21\u578b"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",metastring:"showLineNumbers",children:"model_list:\n  - model_name: my-claude-model\n    litellm_params:\n      model: bedrock/us.anthropic.claude-3-5-sonnet-20240620-v1:0\n      aws_region_name: us-west-2\n      custom_llm_provider: bedrock\n  \n  - model_name: my-cohere-model\n    litellm_params:\n      model: bedrock/cohere.command-r-v1:0\n      aws_region_name: us-east-1\n      custom_llm_provider: bedrock\n"})}),"\n",(0,o.jsx)(n.h3,{id:"2-\u4f7f\u7528-configyaml-\u542f\u52a8\u4ee3\u7406",children:"2. \u4f7f\u7528 config.yaml \u542f\u52a8\u4ee3\u7406"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:"litellm --config config.yaml\n\n# \u5728 http://0.0.0.0:4000 \u8fd0\u884c\n"})}),"\n",(0,o.jsx)(n.h3,{id:"3-\u8c03\u7528-bedrock-converse-\u7aef\u70b9",children:"3. \u8c03\u7528 Bedrock Converse \u7aef\u70b9"}),"\n",(0,o.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"config.yaml"})," \u4e2d\u7684\u6a21\u578b\u540d\u79f0\u5728 URL \u8def\u5f84\u4e2d\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'curl -X POST \'http://0.0.0.0:4000/bedrock/model/my-claude-model/converse\' \\\n-H \'Authorization: Bearer sk-1234\' \\\n-H \'Content-Type: application/json\' \\\n-d \'{\n    "messages": [\n        {\n            "role": "user",\n            "content": [{"text": "Hello, how are you?"}]\n        }\n    ],\n    "inferenceConfig": {\n        "temperature": 0.5,\n        "maxTokens": 100\n    }\n}\'\n'})}),"\n",(0,o.jsx)(n.h3,{id:"4-\u8c03\u7528-bedrock-converse-stream-\u7aef\u70b9",children:"4. \u8c03\u7528 Bedrock Converse Stream \u7aef\u70b9"}),"\n",(0,o.jsxs)(n.p,{children:["\u5bf9\u4e8e\u6d41\u5f0f\u4f20\u8f93\u54cd\u5e94\uff0c\u8bf7\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"/converse-stream"})," \u7aef\u70b9\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'curl -X POST \'http://0.0.0.0:4000/bedrock/model/my-claude-model/converse-stream\' \\\n-H \'Authorization: Bearer sk-1234\' \\\n-H \'Content-Type: application/json\' \\\n-d \'{\n    "messages": [\n        {\n            "role": "user",\n            "content": [{"text": "Tell me a short story"}]\n        }\n    ],\n    "inferenceConfig": {\n        "temperature": 0.7,\n        "maxTokens": 200\n    }\n}\'\n'})}),"\n",(0,o.jsx)(n.h3,{id:"\u652f\u6301\u7684-bedrock-\u7aef\u70b9",children:"\u652f\u6301\u7684 Bedrock \u7aef\u70b9"}),"\n",(0,o.jsxs)(n.p,{children:["\u5f53\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"config.yaml"})," \u4e2d\u5b9a\u4e49\u7684\u6a21\u578b\u65f6\uff0c\u60a8\u53ef\u4ee5\u8c03\u7528\u4efb\u4f55 Bedrock \u7aef\u70b9\uff1a"]}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"\u7aef\u70b9"}),(0,o.jsx)(n.th,{children:"\u63cf\u8ff0"}),(0,o.jsx)(n.th,{children:"\u793a\u4f8b"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"/model/{model_name}/converse"})}),(0,o.jsx)(n.td,{children:"\u4f1a\u8bdd API"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"http://0.0.0.0:4000/bedrock/model/my-claude-model/converse"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"/model/{model_name}/converse-stream"})}),(0,o.jsx)(n.td,{children:"\u6d41\u5f0f\u4f1a\u8bdd"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"http://0.0.0.0:4000/bedrock/model/my-claude-model/converse-stream"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"/model/{model_name}/invoke"})}),(0,o.jsx)(n.td,{children:"\u65e7\u7248\u8c03\u7528 API"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"http://0.0.0.0:4000/bedrock/model/my-claude-model/invoke"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"/model/{model_name}/invoke-with-response-stream"})}),(0,o.jsx)(n.td,{children:"\u65e7\u7248\u6d41\u5f0f\u4f20\u8f93"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"http://0.0.0.0:4000/bedrock/model/my-claude-model/invoke-with-response-stream"})})]})]})]}),"\n",(0,o.jsxs)(n.p,{children:["\u4ee3\u7406\u4f1a\u81ea\u52a8\u89e3\u6790 ",(0,o.jsx)(n.code,{children:"model_name"})," \u5230\u5728 ",(0,o.jsx)(n.code,{children:"config.yaml"})," \u4e2d\u914d\u7f6e\u7684\u5b9e\u9645 Bedrock \u6a21\u578b ID \u548c\u533a\u57df\u3002"]}),"\n",(0,o.jsx)(n.h3,{id:"\u8de8\u591a\u4e2a\u90e8\u7f72\u7684\u8d1f\u8f7d\u5747\u8861",children:"\u8de8\u591a\u4e2a\u90e8\u7f72\u7684\u8d1f\u8f7d\u5747\u8861"}),"\n",(0,o.jsxs)(n.p,{children:["\u5b9a\u4e49\u5177\u6709\u76f8\u540c ",(0,o.jsx)(n.code,{children:"model_name"})," \u7684\u591a\u4e2a Bedrock \u90e8\u7f72\u4ee5\u542f\u7528\u81ea\u52a8\u8d1f\u8f7d\u5747\u8861\u3002"]}),"\n",(0,o.jsx)(n.h4,{id:"1-\u5728-configyaml-\u4e2d\u5b9a\u4e49\u591a\u4e2a\u90e8\u7f72",children:"1. \u5728 config.yaml \u4e2d\u5b9a\u4e49\u591a\u4e2a\u90e8\u7f72"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",metastring:"showLineNumbers",children:"model_list:\n  # \u7b2c\u4e00\u4e2a\u90e8\u7f72 - us-west-2\n  - model_name: my-claude-model\n    litellm_params:\n      model: bedrock/us.anthropic.claude-3-5-sonnet-20240620-v1:0\n      aws_region_name: us-west-2\n      custom_llm_provider: bedrock\n  \n  # \u7b2c\u4e8c\u4e2a\u90e8\u7f72 - us-east-1\uff08\u8d1f\u8f7d\u5747\u8861\uff09\n  - model_name: my-claude-model\n    litellm_params:\n      model: bedrock/us.anthropic.claude-3-5-sonnet-20240620-v1:0\n      aws_region_name: us-east-1\n      custom_llm_provider: bedrock\n"})}),"\n",(0,o.jsx)(n.h4,{id:"2-\u4f7f\u7528-configyaml-\u542f\u52a8\u4ee3\u7406-1",children:"2. \u4f7f\u7528 config.yaml \u542f\u52a8\u4ee3\u7406"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:"litellm --config config.yaml\n\n# \u5728 http://0.0.0.0:4000 \u8fd0\u884c\n"})}),"\n",(0,o.jsx)(n.h4,{id:"3-\u8c03\u7528\u7aef\u70b9---\u8bf7\u6c42\u4f1a\u81ea\u52a8\u8d1f\u8f7d\u5747\u8861",children:"3. \u8c03\u7528\u7aef\u70b9 - \u8bf7\u6c42\u4f1a\u81ea\u52a8\u8d1f\u8f7d\u5747\u8861"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'curl -X POST \'http://0.0.0.0:4000/bedrock/model/my-claude-model/invoke\' \\\n-H \'Authorization: Bearer sk-1234\' \\\n-H \'Content-Type: application/json\' \\\n-d \'{\n    "max_tokens": 100,\n    "messages": [\n        {\n            "role": "user",\n            "content": "Hello, how are you?"\n        }\n    ],\n    "anthropic_version": "bedrock-2023-05-31"\n}\'\n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u4ee3\u7406\u4f1a\u81ea\u52a8\u5c06\u8bf7\u6c42\u5206\u53d1\u5230 ",(0,o.jsx)(n.code,{children:"us-west-2"})," \u548c ",(0,o.jsx)(n.code,{children:"us-east-1"})," \u90e8\u7f72\u3002\u8fd9\u9002\u7528\u4e8e\u6240\u6709 Bedrock \u7aef\u70b9\uff1a ",(0,o.jsx)(n.code,{children:"/invoke"}),", ",(0,o.jsx)(n.code,{children:"/invoke-with-response-stream"}),", ",(0,o.jsx)(n.code,{children:"/converse"}),", \u548c ",(0,o.jsx)(n.code,{children:"/converse-stream"}),"\u3002"]}),"\n",(0,o.jsx)(n.h4,{id:"\u4f7f\u7528-boto3-sdk-\u4e0e\u8d1f\u8f7d\u5747\u8861",children:"\u4f7f\u7528 boto3 SDK \u4e0e\u8d1f\u8f7d\u5747\u8861"}),"\n",(0,o.jsx)(n.p,{children:"\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 boto3 SDK \u8c03\u7528\u8d1f\u8f7d\u5747\u8861\u7aef\u70b9\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:"import boto3\nimport json\nimport os\n\n# \u8bbe\u7f6e dummy AWS \u51ed\u8bc1\uff08\u7531 boto3 \u9700\u8981\uff0c\u4f46\u4e0d\u4f1a\u88ab LiteLLM \u4ee3\u7406\u4f7f\u7528\uff09\nos.environ['AWS_ACCESS_KEY_ID'] = 'dummy'\nos.environ['AWS_SECRET_ACCESS_KEY'] = 'dummy'\nos.environ['AWS_BEARER_TOKEN_BEDROCK'] = \"sk-1234\"  # \u60a8\u7684 litellm \u4ee3\u7406 API \u5bc6\u94a5\n\n# \u5c06 boto3 \u6307\u5411 LiteLLM \u4ee3\u7406\nbedrock_runtime = boto3.client(\n    service_name='bedrock-runtime',\n    region_name='us-west-2',\n    endpoint_url='http://0.0.0.0:4000/bedrock'\n)\n\n# \u8c03\u7528\u8d1f\u8f7d\u5747\u8861\u6a21\u578b\nresponse = bedrock_runtime.invoke_model(\n    modelId='my-claude-model',  # \u60a8\u7684 config.yaml \u4e2d\u7684 model_name\n    contentType='application/json',\n    accept='application/json',\n    body=json.dumps({\n        \"max_tokens\": 100,\n        \"messages\": [\n            {\n                \"role\": \"user\",\n                \"content\": \"Hello, how are you?\"\n            }\n        ],\n        \"anthropic_version\": \"bedrock-2023-05-31\"\n    })\n)\n\n# \u89e3\u6790\u54cd\u5e94\nresponse_body = json.loads(response['body'].read())\nprint(response_body['content'][0]['text'])\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u4ee3\u7406\u4f1a\u81ea\u52a8\u5728\u6240\u6709\u914d\u7f6e\u7684\u90e8\u7f72\u4e4b\u95f4\u8d1f\u8f7d\u5747\u8861\u60a8\u7684 boto3 \u8bf7\u6c42\u3002"}),"\n",(0,o.jsx)(n.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,o.jsxs)(n.p,{children:["\u4efb\u4f55\u5728 ",(0,o.jsx)(n.code,{children:"http://0.0.0.0:4000/bedrock"})," \u4e4b\u540e\u7684\u5185\u5bb9\u90fd\u88ab\u89c6\u4e3a\u63d0\u4f9b\u8005\u7279\u5b9a\u8def\u7531\uff0c\u5e76\u76f8\u5e94\u5904\u7406\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u5173\u952e\u66f4\u6539\uff1a"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"\u539f\u59cb\u7aef\u70b9"})}),(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"\u66ff\u6362\u4e3a"})})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"https://bedrock-runtime.{aws_region_name}.amazonaws.com"})}),(0,o.jsxs)(n.td,{children:[(0,o.jsx)(n.code,{children:"http://0.0.0.0:4000/bedrock"}),' (LITELLM_PROXY_BASE_URL="',(0,o.jsx)(n.a,{href:"http://0.0.0.0:4000",children:"http://0.0.0.0:4000"}),'")']})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"AWS4-HMAC-SHA256.."})}),(0,o.jsxs)(n.td,{children:[(0,o.jsx)(n.code,{children:"Bearer \u4efb\u4f55\u5185\u5bb9"}),"\uff08\u5982\u679c\u5728\u4ee3\u7406\u4e0a\u8bbe\u7f6e\u4e86\u865a\u62df\u5bc6\u94a5\uff0c\u5219\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"Bearer LITELLM_VIRTUAL_KEY"}),"\uff09"]})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"\u793a\u4f8b-1\u4f1a\u8bdd-api",children:(0,o.jsx)(n.strong,{children:"\u793a\u4f8b 1\uff1a\u4f1a\u8bdd API"})}),"\n",(0,o.jsx)(n.h4,{id:"litellm-\u4ee3\u7406\u8c03\u7528",children:"LiteLLM \u4ee3\u7406\u8c03\u7528"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'curl -X POST \'http://0.0.0.0:4000/bedrock/model/cohere.command-r-v1:0/converse\' \\\n-H \'Authorization: Bearer sk-anything\' \\\n-H \'Content-Type: application/json\' \\\n-d \'{\n    "messages": [\n         {"role": "user",\n        "content": [{"text": "Hello"}]\n    }\n    ]\n}\'\n'})}),"\n",(0,o.jsx)(n.h4,{id:"\u76f4\u63a5\u8c03\u7528-bedrock-api",children:"\u76f4\u63a5\u8c03\u7528 Bedrock API"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'curl -X POST \'https://bedrock-runtime.us-west-2.amazonaws.com/model/cohere.command-r-v1:0/converse\' \\\n-H \'Authorization: AWS4-HMAC-SHA256..\' \\\n-H \'Content-Type: application/json\' \\\n-d \'{\n    "messages": [\n         {"role": "user",\n        "content": [{"text": "Hello"}]\n    }\n    ]\n}\'\n'})}),"\n",(0,o.jsx)(n.h3,{id:"\u793a\u4f8b-2\u5e94\u7528\u62a4\u680f",children:(0,o.jsx)(n.strong,{children:"\u793a\u4f8b 2\uff1a\u5e94\u7528\u62a4\u680f"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"\u8bbe\u7f6e"}),"\uff1a\u4e3a\u76f4\u63a5\u900f\u4f20\u8bbe\u7f6e AWS \u51ed\u8bc1"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'export AWS_ACCESS_KEY_ID="your-access-key"\nexport AWS_SECRET_ACCESS_KEY="your-secret-key"\nexport AWS_REGION_NAME="us-west-2"\n'})}),"\n",(0,o.jsx)(n.p,{children:"\u542f\u52a8\u4ee3\u7406\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:"litellm\n\n# \u5728 http://0.0.0.0:4000 \u8fd0\u884c\n"})}),"\n",(0,o.jsx)(n.h4,{id:"litellm-\u4ee3\u7406\u8c03\u7528-1",children:"LiteLLM \u4ee3\u7406\u8c03\u7528"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'curl "http://0.0.0.0:4000/bedrock/guardrail/guardrailIdentifier/version/guardrailVersion/apply" \\\n    -H \'Authorization: Bearer sk-anything\' \\\n    -H \'Content-Type: application/json\' \\\n    -X POST \\\n    -d \'{\n      "contents": [{"text": {"text": "Hello world"}}],\n      "source": "INPUT"\n       }\'\n'})}),"\n",(0,o.jsx)(n.h4,{id:"\u76f4\u63a5\u8c03\u7528-bedrock-api-1",children:"\u76f4\u63a5\u8c03\u7528 Bedrock API"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'curl "https://bedrock-runtime.us-west-2.amazonaws.com/guardrail/guardrailIdentifier/version/guardrailVersion/apply" \\\n    -H \'Authorization: AWS4-HMAC-SHA256..\' \\\n    -H \'Content-Type: application/json\' \\\n    -X POST \\\n    -d \'{\n      "contents": [{"text": {"text": "Hello world"}}],\n      "source": "INPUT"\n       }\'\n'})}),"\n",(0,o.jsx)(n.h3,{id:"\u793a\u4f8b-3\u67e5\u8be2\u77e5\u8bc6\u5e93",children:(0,o.jsx)(n.strong,{children:"\u793a\u4f8b 3\uff1a\u67e5\u8be2\u77e5\u8bc6\u5e93"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"\u8bbe\u7f6e"}),"\uff1a\u4e3a\u76f4\u63a5\u900f\u4f20\u8bbe\u7f6e AWS \u51ed\u8bc1"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'export AWS_ACCESS_KEY_ID="your-access-key"\nexport AWS_SECRET_ACCESS_KEY="your-secret-key"\nexport AWS_REGION_NAME="us-west-2"\n'})}),"\n",(0,o.jsx)(n.p,{children:"\u542f\u52a8\u4ee3\u7406\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:"litellm\n\n# \u5728 http://0.0.0.0:4000 \u8fd0\u884c\n"})}),"\n",(0,o.jsx)(n.h4,{id:"litellm-\u4ee3\u7406\u8c03\u7528-2",children:"LiteLLM \u4ee3\u7406\u8c03\u7528"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'curl -X POST "http://0.0.0.0:4000/bedrock/knowledgebases/{knowledgeBaseId}/retrieve" \\\n-H \'Authorization: Bearer sk-anything\' \\\n-H \'Content-Type: application/json\' \\\n-d \'{\n    "nextToken": "string",\n    "retrievalConfiguration": { \n        "vectorSearchConfiguration": { \n          "filter": { ... },\n          "numberOfResults": number,\n          "overrideSearchType": "string"\n        }\n    },\n    "retrievalQuery": { \n        "text": "string"\n    }\n}\'\n'})}),"\n",(0,o.jsx)(n.h4,{id:"\u76f4\u63a5\u8c03\u7528-bedrock-api-2",children:"\u76f4\u63a5\u8c03\u7528 Bedrock API"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'curl -X POST "https://bedrock-agent-runtime.us-west-2.amazonaws.com/knowledgebases/{knowledgeBaseId}/retrieve" \\\n-H \'Authorization: AWS4-HMAC-SHA256..\' \\\n-H \'Content-Type: application/json\' \\\n-d \'{\n    "nextToken": "string",\n    "retrievalConfiguration": { \n        "vectorSearchConfiguration": { \n          "filter": { ... },\n          "numberOfResults": number,\n          "overrideSearchType": "string"\n        }\n    },\n    "retrievalQuery": { \n        "text": "string"\n    }\n}\'\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\u9ad8\u7ea7---\u4f7f\u7528\u865a\u62df\u5bc6\u94a5",children:"\u9ad8\u7ea7 - \u4f7f\u7528\u865a\u62df\u5bc6\u94a5"}),"\n",(0,o.jsx)(n.p,{children:"\u524d\u63d0\u6761\u4ef6"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"/docs/proxy/virtual_keys#setup",children:"\u5728\u6570\u636e\u5e93\u4e2d\u8bbe\u7f6e\u4ee3\u7406"})}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u53ef\u4ee5\u907f\u514d\u5411\u5f00\u53d1\u4eba\u5458\u63d0\u4f9b\u539f\u59cb AWS \u5bc6\u94a5\uff0c\u4f46\u4ecd\u5141\u8bb8\u4ed6\u4eec\u4f7f\u7528 AWS Bedrock \u7aef\u70b9\u3002"}),"\n",(0,o.jsx)(n.h3,{id:"\u7528\u6cd5",children:"\u7528\u6cd5"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'export DATABASE_URL=""\nexport LITELLM_MASTER_KEY=""\nexport AWS_ACCESS_KEY_ID=""  # \u8bbf\u95ee\u5bc6\u94a5\nexport AWS_SECRET_ACCESS_KEY="" # \u5bc6\u94a5\u8bbf\u95ee\u5bc6\u94a5\nexport AWS_REGION_NAME="" # us-east-1, us-east-2, us-west-1, us-west-2\n'})}),"\n",(0,o.jsx)(n.p,{children:"\u542f\u52a8\u4ee3\u7406\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:"litellm\n\n# \u5728 http://0.0.0.0:4000 \u8fd0\u884c\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:"\u751f\u6210\u865a\u62df\u5bc6\u94a5"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:"curl -X POST 'http://0.0.0.0:4000/key/generate' \\\n-H 'Authorization: Bearer sk-1234' \\\n-H 'Content-Type: application/json' \\\n-d '{}'\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u9884\u671f\u54cd\u5e94"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'{\n    ...\n    "key": "sk-1234ewknldferwedojwojw"\n}\n'})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsx)(n.li,{children:"\u6d4b\u8bd5\u4e00\u4e0b\uff01"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'curl -X POST \'http://0.0.0.0:4000/bedrock/model/cohere.command-r-v1:0/converse\' \\\n-H \'Authorization: Bearer sk-1234ewknldferwedojwojw\' \\\n-H \'Content-Type: application/json\' \\\n-d \'{\n    "messages": [\n         {"role": "user",\n        "content": [{"text": "Hello"}]\n    }\n    ]\n}\'\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\u9ad8\u7ea7---bedrock-\u4ee3\u7406",children:"\u9ad8\u7ea7 - Bedrock \u4ee3\u7406"}),"\n",(0,o.jsx)(n.p,{children:"\u901a\u8fc7 LiteLLM \u4ee3\u7406\u8c03\u7528 Bedrock \u4ee3\u7406\u3002"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"\u8bbe\u7f6e"}),"\uff1a\u5728 LiteLLM \u4ee3\u7406\u670d\u52a1\u5668\u4e0a\u8bbe\u7f6e AWS \u51ed\u8bc1"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:'export AWS_ACCESS_KEY_ID="your-access-key"\nexport AWS_SECRET_ACCESS_KEY="your-secret-key"\nexport AWS_REGION_NAME="us-west-2"\n'})}),"\n",(0,o.jsx)(n.p,{children:"\u542f\u52a8\u4ee3\u7406\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:"showLineNumbers",children:"litellm\n\n# \u5728 http://0.0.0.0:4000 \u8fd0\u884c\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"\u4ece Python \u4f7f\u7528"}),"\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'import os \nimport boto3\n\n# \u8bbe\u7f6e dummy AWS \u51ed\u8bc1\uff08\u7531 boto3 \u9700\u8981\uff0c\u4f46\u4e0d\u4f1a\u88ab LiteLLM \u4ee3\u7406\u4f7f\u7528\uff09\nos.environ["AWS_ACCESS_KEY_ID"] = "dummy"\nos.environ["AWS_SECRET_ACCESS_KEY"] = "dummy"\nos.environ["AWS_BEARER_TOKEN_BEDROCK"] = "sk-1234"  # \u60a8\u7684 litellm \u4ee3\u7406 API \u5bc6\u94a5\n\n# \u521b\u5efa\u5ba2\u6237\u7aef\nruntime_client = boto3.client(\n    service_name="bedrock-agent-runtime", \n    region_name="us-west-2", \n    endpoint_url="http://0.0.0.0:4000/bedrock"\n)\n\nresponse = runtime_client.invoke_agent(\n    agentId="L1RT58GYRW",\n    agentAliasId="MFPSBCXYTW",\n    sessionId="12345",\n    inputText="Who do you know?"\n)\n\ncompletion = ""\n\nfor event in response.get("completion"):\n    chunk = event["chunk"]\n    completion += chunk["bytes"].decode()\n\nprint(completion)\n'})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},28453(e,n,s){s.d(n,{R:()=>i,x:()=>d});var r=s(96540);const o={},l=r.createContext(o);function i(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);