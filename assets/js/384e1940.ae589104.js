"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[46341],{7227(e,n,l){l.d(n,{A:()=>a});l(96540);var r=l(18215);const s="tabItem_Ymn6";var i=l(74848);function a({children:e,hidden:n,className:l}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(s,l),hidden:n,children:e})}},28453(e,n,l){l.d(n,{R:()=>a,x:()=>c});var r=l(96540);const s={},i=r.createContext(s);function a(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(i.Provider,{value:n},e.children)}},49489(e,n,l){l.d(n,{A:()=>A});var r=l(96540),s=l(18215),i=l(24245),a=l(56347),c=l(36494),t=l(62814),o=l(45167),d=l(69900);function h(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:n,children:l}=e;return(0,r.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:l,default:r}})=>({value:e,label:n,attributes:l,default:r}))}(l);return function(e){const n=(0,o.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,l])}function u({value:e,tabValues:n}){return n.some(n=>n.value===e)}function x({queryString:e=!1,groupId:n}){const l=(0,a.W6)(),s=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,t.aZ)(s),(0,r.useCallback)(e=>{if(!s)return;const n=new URLSearchParams(l.location.search);n.set(s,e),l.replace({...l.location,search:n.toString()})},[s,l])]}function m(e){const{defaultValue:n,queryString:l=!1,groupId:s}=e,i=p(e),[a,t]=(0,r.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!u({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const l=n.find(e=>e.default)??n[0];if(!l)throw new Error("Unexpected error: 0 tabValues");return l.value}({defaultValue:n,tabValues:i})),[o,h]=x({queryString:l,groupId:s}),[m,j]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[l,s]=(0,d.Dv)(n);return[l,(0,r.useCallback)(e=>{n&&s.set(e)},[n,s])]}({groupId:s}),g=(()=>{const e=o??m;return u({value:e,tabValues:i})?e:null})();(0,c.A)(()=>{g&&t(g)},[g]);return{selectedValue:a,selectValue:(0,r.useCallback)(e=>{if(!u({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);t(e),h(e),j(e)},[h,j,i]),tabValues:i}}var j=l(11062);const g="tabList__CuJ",_="tabItem_LNqP";var f=l(74848);function v({className:e,block:n,selectedValue:l,selectValue:r,tabValues:a}){const c=[],{blockElementScrollPositionUntilNextRender:t}=(0,i.a_)(),o=e=>{const n=e.currentTarget,s=c.indexOf(n),i=a[s].value;i!==l&&(t(n),r(i))},d=e=>{let n=null;switch(e.key){case"Enter":o(e);break;case"ArrowRight":{const l=c.indexOf(e.currentTarget)+1;n=c[l]??c[0];break}case"ArrowLeft":{const l=c.indexOf(e.currentTarget)-1;n=c[l]??c[c.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},e),children:a.map(({value:e,label:n,attributes:r})=>(0,f.jsx)("li",{role:"tab",tabIndex:l===e?0:-1,"aria-selected":l===e,ref:e=>{c.push(e)},onKeyDown:d,onClick:o,...r,className:(0,s.A)("tabs__item",_,r?.className,{"tabs__item--active":l===e}),children:n??e},e))})}function y({lazy:e,children:n,selectedValue:l}){const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=i.find(e=>e.props.value===l);return e?(0,r.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:i.map((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==l}))})}function b(e){const n=m(e);return(0,f.jsxs)("div",{className:(0,s.A)("tabs-container",g),children:[(0,f.jsx)(v,{...n,...e}),(0,f.jsx)(y,{...n,...e})]})}function A(e){const n=(0,j.A)();return(0,f.jsx)(b,{...e,children:h(e.children)},String(n))}},69038(e,n,l){l.r(n),l.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"proxy/docker_quick_start","title":"\u5feb\u901f\u5165\u95e8\u6559\u7a0b","description":"\u672c\u7aef\u5230\u7aef\u6559\u7a0b\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 LiteLLM \u4ee3\u7406\uff1a","source":"@site/docs/proxy/docker_quick_start.md","sourceDirName":"proxy","slug":"/proxy/docker_quick_start","permalink":"/docs/proxy/docker_quick_start","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"LiteLLM AI Gateway (Proxy)","permalink":"/docs/simple_proxy"},"next":{"title":"\u6982\u89c8","permalink":"/docs/proxy/configs"}}');var s=l(74848),i=l(28453),a=l(49489),c=l(7227);const t={},o="\u5feb\u901f\u5165\u95e8\u6559\u7a0b",d={},h=[{value:"\u5148\u51b3\u6761\u4ef6",id:"\u5148\u51b3\u6761\u4ef6",level:2},{value:"1. \u6dfb\u52a0\u6a21\u578b",id:"1-\u6dfb\u52a0\u6a21\u578b",level:2},{value:"\u6a21\u578b\u5217\u8868\u89c4\u8303",id:"\u6a21\u578b\u5217\u8868\u89c4\u8303",level:3},{value:"\u6709\u7528\u94fe\u63a5",id:"\u6709\u7528\u94fe\u63a5",level:3},{value:"2. \u6210\u529f\u8c03\u7528 /chat/completion \u63a5\u53e3",id:"2-\u6210\u529f\u8c03\u7528-chatcompletion-\u63a5\u53e3",level:2},{value:"2.1 \u542f\u52a8\u4ee3\u7406",id:"21-\u542f\u52a8\u4ee3\u7406",level:3},{value:"2.2 \u53d1\u9001\u8bf7\u6c42",id:"22-\u53d1\u9001\u8bf7\u6c42",level:3},{value:"\u6709\u7528\u94fe\u63a5",id:"\u6709\u7528\u94fe\u63a5-1",level:3},{value:"3. \u751f\u6210\u865a\u62df\u5bc6\u94a5",id:"3-\u751f\u6210\u865a\u62df\u5bc6\u94a5",level:2},{value:"3.1 \u8bbe\u7f6e\u6570\u636e\u5e93",id:"31-\u8bbe\u7f6e\u6570\u636e\u5e93",level:3},{value:"3.2 \u542f\u52a8\u4ee3\u7406",id:"32-\u542f\u52a8\u4ee3\u7406",level:3},{value:"3.3 \u521b\u5efa\u5e26 RPM \u9650\u5236\u7684\u5bc6\u94a5",id:"33-\u521b\u5efa\u5e26-rpm-\u9650\u5236\u7684\u5bc6\u94a5",level:3},{value:"3.4 \u6d4b\u8bd5\u5b83\uff01",id:"34-\u6d4b\u8bd5\u5b83",level:3},{value:"\u6709\u7528\u94fe\u63a5",id:"\u6709\u7528\u94fe\u63a5-2",level:3},{value:"\u5173\u952e\u6982\u5ff5",id:"\u5173\u952e\u6982\u5ff5",level:2},{value:"\u7406\u89e3\u6a21\u578b\u914d\u7f6e",id:"\u7406\u89e3\u6a21\u578b\u914d\u7f6e",level:3},{value:"\u6545\u969c\u6392\u9664",id:"\u6545\u969c\u6392\u9664",level:2},{value:"\u975e root Docker \u955c\u50cf\uff1f",id:"\u975e-root-docker-\u955c\u50cf",level:3},{value:"SSL \u9a8c\u8bc1\u95ee\u9898 / \u8fde\u63a5\u9519\u8bef\u3002",id:"ssl-\u9a8c\u8bc1\u95ee\u9898--\u8fde\u63a5\u9519\u8bef",level:3},{value:"(DB) \u6240\u6709\u8fde\u63a5\u5c1d\u8bd5\u5931\u8d25",id:"db-\u6240\u6709\u8fde\u63a5\u5c1d\u8bd5\u5931\u8d25",level:3},{value:"\u652f\u6301\u4e0e\u521b\u59cb\u4eba\u4ea4\u6d41",id:"\u652f\u6301\u4e0e\u521b\u59cb\u4eba\u4ea4\u6d41",level:2}];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\u5feb\u901f\u5165\u95e8\u6559\u7a0b",children:"\u5feb\u901f\u5165\u95e8\u6559\u7a0b"})}),"\n",(0,s.jsx)(n.p,{children:"\u672c\u7aef\u5230\u7aef\u6559\u7a0b\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 LiteLLM \u4ee3\u7406\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u6dfb\u52a0 Azure OpenAI \u6a21\u578b"}),"\n",(0,s.jsx)(n.li,{children:"\u6210\u529f\u8c03\u7528 /chat/completion \u63a5\u53e3"}),"\n",(0,s.jsx)(n.li,{children:"\u751f\u6210\u865a\u62df\u5bc6\u94a5"}),"\n",(0,s.jsx)(n.li,{children:"\u8bbe\u7f6e\u865a\u62df\u5bc6\u94a5\u7684\u8bf7\u6c42\u901f\u7387\u9650\u5236"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u5148\u51b3\u6761\u4ef6",children:"\u5148\u51b3\u6761\u4ef6"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u5b89\u88c5 LiteLLM Docker \u955c\u50cf ",(0,s.jsx)(n.strong,{children:"\u6216"})," LiteLLM CLI (pip \u5305)"]}),"\n"]}),"\n",(0,s.jsxs)(a.A,{children:[(0,s.jsx)(c.A,{value:"docker",label:"Docker",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'docker pull docker.litellm.ai/berriai/litellm:main-latest\n\n\n[**\u67e5\u770b\u6240\u6709 Docker \u955c\u50cf**](https://github.com/orgs/BerriAI/packages)\n\n</TabItem>\n\n<TabItem value="pip" label="LiteLLM CLI (pip \u5305)">\n\n```shell\n$ pip install \'litellm[proxy]\'\n'})})}),(0,s.jsxs)(c.A,{value:"docker-compose",label:"Docker Compose (Proxy + DB)",children:[(0,s.jsx)(n.p,{children:"\u4f7f\u7528\u6b64 Docker Compose \u6587\u4ef6\u542f\u52a8\u5e26\u6709\u672c\u5730\u8fd0\u884c\u7684 PostgreSQL \u6570\u636e\u5e93\u7684\u4ee3\u7406\u3002"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u83b7\u53d6 Docker Compose \u6587\u4ef6\ncurl -O https://raw.githubusercontent.com/BerriAI/litellm/main/docker-compose.yml\n\n# \u6dfb\u52a0\u4e3b\u5bc6\u94a5 - \u8bbe\u7f6e\u540e\u53ef\u4ee5\u66f4\u6539\necho 'LITELLM_MASTER_KEY=\"sk-1234\"' > .env\n\n# \u6dfb\u52a0 litellm \u76d0\u5bc6\u94a5 - \u6dfb\u52a0\u6a21\u578b\u540e\u65e0\u6cd5\u66f4\u6539\n# \u7528\u4e8e\u52a0\u5bc6/\u89e3\u5bc6\u60a8\u7684 LLM API \u5bc6\u94a5\u51ed\u636e\n# \u6211\u4eec\u63a8\u8350\u4f7f\u7528 https://1password.com/password-generator/ \u83b7\u53d6\u968f\u673a\u54c8\u5e0c\u4f5c\u4e3a litellm \u76d0\u5bc6\u94a5\necho 'LITELLM_SALT_KEY=\"sk-1234\"' >> .env\n\n# \u542f\u52a8\ndocker compose up\n"})})]})]}),"\n",(0,s.jsx)(n.h2,{id:"1-\u6dfb\u52a0\u6a21\u578b",children:"1. \u6dfb\u52a0\u6a21\u578b"}),"\n",(0,s.jsx)(n.p,{children:"\u4f7f\u7528 config.yaml \u6587\u4ef6\u63a7\u5236 LiteLLM \u4ee3\u7406\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u5728 config.yaml \u4e2d\u8bbe\u7f6e\u60a8\u7684 Azure \u6a21\u578b\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u6ce8\u610f\uff1a\u5f53\u4e0e\u6570\u636e\u5e93\u4e00\u8d77\u4f7f\u7528\u65f6\uff0c\u60a8\u8fd8\u53ef\u4ee5 ",(0,s.jsx)(n.strong,{children:"\u901a\u8fc7 UI \u76f4\u63a5\u6dfb\u52a0\u6a21\u578b"}),"\uff08UI \u53ef\u5728 ",(0,s.jsx)(n.code,{children:"/ui"})," \u8def\u5f84\u4e0b\u8bbf\u95ee\uff09\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: gpt-4o\n    litellm_params:\n      model: azure/my_azure_deployment\n      api_base: os.environ/AZURE_API_BASE\n      api_key: "os.environ/AZURE_API_KEY"\n      api_version: "2025-01-01-preview" # [\u53ef\u9009] LiteLLM \u9ed8\u8ba4\u4f7f\u7528\u6700\u65b0\u7684 Azure API \u7248\u672c\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\u6a21\u578b\u5217\u8868\u89c4\u8303",children:"\u6a21\u578b\u5217\u8868\u89c4\u8303"}),"\n",(0,s.jsxs)(n.p,{children:["\u6709\u5173\u6a21\u578b\u89e3\u6790\u5de5\u4f5c\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 ",(0,s.jsx)(n.a,{href:"#%E7%90%86%E8%A7%A3%E6%A8%A1%E5%9E%8B%E9%85%8D%E7%BD%AE",children:"\u6a21\u578b\u914d\u7f6e"})," \u90e8\u5206\u3002"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"model_name"})})," (",(0,s.jsx)(n.code,{children:"str"}),") - \u6b64\u5b57\u6bb5\u5e94\u5305\u542b\u4ece Azure \u63a5\u6536\u5230\u7684\u6a21\u578b\u540d\u79f0\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"litellm_params"})})," (",(0,s.jsx)(n.code,{children:"dict"}),") ",(0,s.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/blob/559a6ad826b5daef41565f54f06c739c8c068b28/litellm/types/router.py#L222",children:"\u67e5\u770b\u6240\u6709 LiteLLM \u53c2\u6570"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"model"})})," (",(0,s.jsx)(n.code,{children:"str"}),") - \u6307\u5b9a\u53d1\u9001\u7ed9 ",(0,s.jsx)(n.code,{children:"litellm.acompletion"})," / ",(0,s.jsx)(n.code,{children:"litellm.aembedding"})," \u7b49\u7684\u6a21\u578b\u540d\u79f0\u3002\u8fd9\u662f LiteLLM \u7528\u4e8e\u5728\u540e\u7aef\u8def\u7531\u5230\u6b63\u786e\u6a21\u578b + \u63d0\u4f9b\u5546\u903b\u8f91\u7684\u6807\u8bc6\u7b26\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"api_key"})})," (",(0,s.jsx)(n.code,{children:"str"}),") - \u8ba4\u8bc1\u6240\u9700\u7684 API \u5bc6\u94a5\u3002\u53ef\u4ee5\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"os.environ/"})," \u4ece\u73af\u5883\u53d8\u91cf\u4e2d\u68c0\u7d22\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"api_base"})})," (",(0,s.jsx)(n.code,{children:"str"}),") - Azure \u90e8\u7f72\u7684 API \u57fa\u7840\u8def\u5f84\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"api_version"})})," (",(0,s.jsx)(n.code,{children:"str"}),") - \u8c03\u7528 Azure OpenAI API \u65f6\u4f7f\u7528\u7684 API \u7248\u672c\u3002\u83b7\u53d6\u6700\u65b0\u7684\u63a8\u7406 API \u7248\u672c ",(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/ai-services/openai/api-version-deprecation?source=recommendations#latest-preview-api-releases",children:"\u5728\u6b64"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\u6709\u7528\u94fe\u63a5",children:"\u6709\u7528\u94fe\u63a5"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../providers/",children:(0,s.jsx)(n.strong,{children:"\u6240\u6709\u652f\u6301\u7684 LLM API \u63d0\u4f9b\u5546\uff08OpenAI/Bedrock/Vertex \u7b49\uff09"})})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/proxy/configs",children:(0,s.jsx)(n.strong,{children:"\u5b8c\u6574\u7684 config.yaml \u89c4\u8303"})})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/completion/provider_specific_params#proxy-%E4%BD%BF%E7%94%A8",children:(0,s.jsx)(n.strong,{children:"\u4f20\u9012\u63d0\u4f9b\u5546\u7279\u5b9a\u53c2\u6570"})})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"2-\u6210\u529f\u8c03\u7528-chatcompletion-\u63a5\u53e3",children:"2. \u6210\u529f\u8c03\u7528 /chat/completion \u63a5\u53e3"}),"\n",(0,s.jsxs)(n.p,{children:["LiteLLM \u4ee3\u7406\u5b8c\u5168\u517c\u5bb9 OpenAI\u3002\u901a\u8fc7 ",(0,s.jsx)(n.code,{children:"/chat/completions"})," \u8def\u5f84\u6d4b\u8bd5\u60a8\u7684 Azure \u6a21\u578b\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"21-\u542f\u52a8\u4ee3\u7406",children:"2.1 \u542f\u52a8\u4ee3\u7406"}),"\n",(0,s.jsxs)(n.p,{children:["\u5c06\u6b65\u9aa4 1 \u4e2d\u7684 config.yaml \u4fdd\u5b58\u4e3a ",(0,s.jsx)(n.code,{children:"litellm_config.yaml"}),"\u3002"]}),"\n",(0,s.jsxs)(a.A,{children:[(0,s.jsx)(c.A,{value:"docker",label:"Docker",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker run \\\n    -v $(pwd)/litellm_config.yaml:/app/config.yaml \\\n    -e AZURE_API_KEY=d6*********** \\\n    -e AZURE_API_BASE=https://openai-***********/ \\\n    -p 4000:4000 \\\n    docker.litellm.ai/berriai/litellm:main-latest \\\n    --config /app/config.yaml --detailed_debug\n\n# \u8fd0\u884c\u5728 http://0.0.0.0:4000\n"})})}),(0,s.jsx)(c.A,{value:"pip",label:"LiteLLM CLI (pip \u5305)",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"$ litellm --config /app/config.yaml --detailed_debug\n"})})})]}),"\n",(0,s.jsx)(n.p,{children:"\u786e\u8ba4 config.yaml \u5df2\u6b63\u786e\u6302\u8f7d"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'\u5df2\u52a0\u8f7d\u914d\u7f6e YAML\uff08api_key \u548c\u73af\u5883\u53d8\u91cf\u672a\u663e\u793a\uff09\uff1a\n{\n"model_list": [\n{\n"model_name ...\n'})}),"\n",(0,s.jsx)(n.h3,{id:"22-\u53d1\u9001\u8bf7\u6c42",children:"2.2 \u53d1\u9001\u8bf7\u6c42"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST \'http://0.0.0.0:4000/chat/completions\' \\\n-H \'Content-Type: application/json\' \\\n-H \'Authorization: Bearer sk-1234\' \\\n-d \'{\n    "model": "gpt-4o",\n    "messages": [\n      {\n        "role": "system",\n        "content": "You are an LLM named gpt-4o"\n      },\n      {\n        "role": "user",\n        "content": "what is your name?"\n      }\n    ]\n}\'\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u9884\u671f\u54cd\u5e94"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'{\n  "id": "chatcmpl-BcO8tRQmQV6Dfw6onqMufxPkLLkA8",\n  "created": 1748488967,\n  "model": "gpt-4o-2024-11-20",\n  "object": "chat.completion",\n  "system_fingerprint": "fp_ee1d74bde0",\n  "choices": [\n    {\n      "finish_reason": "stop",\n      "index": 0,\n      "message": {\n        "content": "My name is **gpt-4o**! How can I assist you today?",\n        "role": "assistant",\n        "tool_calls": null,\n        "function_call": null,\n        "annotations": []\n      }\n    }\n  ],\n  "usage": {\n    "completion_tokens": 19,\n    "prompt_tokens": 28,\n    "total_tokens": 47,\n    "completion_tokens_details": {\n      "accepted_prediction_tokens": 0,\n      "audio_tokens": 0,\n      "reasoning_tokens": 0,\n      "rejected_prediction_tokens": 0\n    },\n    "prompt_tokens_details": {\n      "audio_tokens": 0,\n      "cached_tokens": 0\n    }\n  },\n  "service_tier": null,\n  "prompt_filter_results": [\n    {\n      "prompt_index": 0,\n      "content_filter_results": {\n        "hate": {\n          "filtered": false,\n          "severity": "safe"\n        },\n        "self_harm": {\n          "filtered": false,\n          "severity": "safe"\n        },\n        "sexual": {\n          "filtered": false,\n          "severity": "safe"\n        },\n        "violence": {\n          "filtered": false,\n          "severity": "safe"\n        }\n      }\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u6709\u7528\u94fe\u63a5-1",children:"\u6709\u7528\u94fe\u63a5"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../providers/",children:"\u6240\u6709\u652f\u6301\u7684 LLM API \u63d0\u4f9b\u5546\uff08OpenAI/Bedrock/Vertex \u7b49\uff09"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/proxy/user_keys#%E8%AF%B7%E6%B1%82%E6%A0%BC%E5%BC%8F",children:"\u901a\u8fc7 OpenAI SDK\u3001Langchain \u7b49\u8c03\u7528 LiteLLM \u4ee3\u7406"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://litellm-api.up.railway.app/#/chat%2Fcompletions",children:"\u6240\u6709 API \u7ec8\u7aef\u8282\u70b9 Swagger"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/embedding/supported_embedding",children:"\u5176\u4ed6/\u975e\u804a\u5929\u5b8c\u6210\u7ec8\u7aef\u8282\u70b9"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/pass_through/vertex_ai",children:"\u4e3a VertexAI\u3001Bedrock \u7b49\u4f20\u9012\u53c2\u6570"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"3-\u751f\u6210\u865a\u62df\u5bc6\u94a5",children:"3. \u751f\u6210\u865a\u62df\u5bc6\u94a5"}),"\n",(0,s.jsx)(n.p,{children:"\u901a\u8fc7\u865a\u62df\u5bc6\u94a5\u8ddf\u8e2a\u652f\u51fa\u5e76\u63a7\u5236\u4ee3\u7406\u7684\u6a21\u578b\u8bbf\u95ee\u6743\u9650\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"31-\u8bbe\u7f6e\u6570\u636e\u5e93",children:"3.1 \u8bbe\u7f6e\u6570\u636e\u5e93"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u8981\u6c42"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u9700\u8981\u4e00\u4e2a PostgreSQL \u6570\u636e\u5e93\uff08\u4f8b\u5982 ",(0,s.jsx)(n.a,{href:"https://supabase.com/",children:"Supabase"}),"\u3001",(0,s.jsx)(n.a,{href:"https://neon.tech/",children:"Neon"})," \u7b49\uff09"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: gpt-4o\n    litellm_params:\n      model: azure/my_azure_deployment\n      api_base: os.environ/AZURE_API_BASE\n      api_key: "os.environ/AZURE_API_KEY"\n      api_version: "2025-01-01-preview" # [\u53ef\u9009] LiteLLM \u9ed8\u8ba4\u4f7f\u7528\u6700\u65b0\u7684 Azure API \u7248\u672c\n\ngeneral_settings: \n  master_key: sk-1234 \n  database_url: "postgresql://<user>:<password>@<host>:<port>/<dbname>" # \ud83d\udc48 \u5173\u952e\u66f4\u6539\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u5c06 config.yaml \u4fdd\u5b58\u4e3a ",(0,s.jsx)(n.code,{children:"litellm_config.yaml"}),"\uff08\u7528\u4e8e\u6b65\u9aa4 3.2\uff09\u3002"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u4ec0\u4e48\u662f general_settings\uff1f"})}),"\n",(0,s.jsx)(n.p,{children:"\u8fd9\u4e9b\u662f LiteLLM \u4ee3\u7406\u670d\u52a1\u5668\u7684\u8bbe\u7f6e\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u67e5\u770b\u6240\u6709\u901a\u7528\u8bbe\u7f6e ",(0,s.jsx)(n.a,{href:"http://localhost:3000/docs/proxy/configs#all-settings",children:"\u5728\u6b64"}),"\u3002"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"master_key"})})," (",(0,s.jsx)(n.code,{children:"str"}),")"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u63cf\u8ff0"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u8bbe\u7f6e ",(0,s.jsx)(n.code,{children:"\u4e3b\u5bc6\u94a5"}),"\uff0c\u8fd9\u662f\u60a8\u7684\u4ee3\u7406\u7ba1\u7406\u5458\u5bc6\u94a5 - \u60a8\u53ef\u4ee5\u4f7f\u7528\u6b64\u5bc6\u94a5\u521b\u5efa\u5176\u4ed6\u5bc6\u94a5\uff08\ud83d\udea8 \u5fc5\u987b\u4ee5 ",(0,s.jsx)(n.code,{children:"sk-"})," \u5f00\u5934\uff09\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u7528\u6cd5"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5728 config.yaml \u4e2d\u8bbe\u7f6e"})," \u5728 ",(0,s.jsx)(n.code,{children:"general_settings:master_key"})," \u4e0b\u8bbe\u7f6e\u60a8\u7684\u4e3b\u5bc6\u94a5\uff0c\u4f8b\u5982\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"master_key: sk-1234\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf"})," \u8bbe\u7f6e ",(0,s.jsx)(n.code,{children:"LITELLM_MASTER_KEY"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"database_url"})})," (",(0,s.jsx)(n.code,{children:"str"}),")"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u63cf\u8ff0"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u8bbe\u7f6e ",(0,s.jsx)(n.code,{children:"\u6570\u636e\u5e93 URL"}),"\uff0c\u8fd9\u662f\u8fde\u63a5\u5230\u60a8\u7684 PostgreSQL \u6570\u636e\u5e93\u7684\u94fe\u63a5\uff0c\u7528\u4e8e\u751f\u6210\u5bc6\u94a5\u3001\u7528\u6237\u548c\u56e2\u961f\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u7528\u6cd5"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5728 config.yaml \u4e2d\u8bbe\u7f6e"})," \u5728 ",(0,s.jsx)(n.code,{children:"general_settings:database_url"})," \u4e0b\u8bbe\u7f6e\u60a8\u7684 ",(0,s.jsx)(n.code,{children:"database_url"}),"\uff0c\u4f8b\u5982\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'database_url: "postgresql://..."\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u8bbe\u7f6e ",(0,s.jsx)(n.code,{children:"DATABASE_URL=postgresql://<user>:<password>@<host>:<port>/<dbname>"})," \u5728\u73af\u5883\u53d8\u91cf\u4e2d"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"32-\u542f\u52a8\u4ee3\u7406",children:"3.2 \u542f\u52a8\u4ee3\u7406"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker run \\\n    -v $(pwd)/litellm_config.yaml:/app/config.yaml \\\n    -e AZURE_API_KEY=d6*********** \\\n    -e AZURE_API_BASE=https://openai-***********/ \\\n    -p 4000:4000 \\\n    docker.litellm.ai/berriai/litellm:main-latest \\\n    --config /app/config.yaml --detailed_debug\n"})}),"\n",(0,s.jsx)(n.h3,{id:"33-\u521b\u5efa\u5e26-rpm-\u9650\u5236\u7684\u5bc6\u94a5",children:"3.3 \u521b\u5efa\u5e26 RPM \u9650\u5236\u7684\u5bc6\u94a5"}),"\n",(0,s.jsxs)(n.p,{children:["\u521b\u5efa\u4e00\u4e2a\u5e26\u6709 ",(0,s.jsx)(n.code,{children:"rpm_limit: 1"})," \u7684\u5bc6\u94a5\u3002\u8fd9\u5c06\u4ec5\u5141\u8bb8\u6bcf\u5206\u949f\u5bf9\u8be5\u4ee3\u7406\u8fdb\u884c\u4e00\u6b21\u8bf7\u6c42\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl -L -X POST 'http://0.0.0.0:4000/key/generate' \\\n-H 'Authorization: Bearer sk-1234' \\\n-H 'Content-Type: application/json' \\\n-d '{\n    \"rpm_limit\": 1\n}'\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://litellm-api.up.railway.app/#/key%20management/generate_key_fn_key_generate_post",children:(0,s.jsx)(n.strong,{children:"\u67e5\u770b\u5b8c\u6574 API \u89c4\u8303"})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u9884\u671f\u54cd\u5e94"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'{\n    "key": "sk-12..."\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"34-\u6d4b\u8bd5\u5b83",children:"3.4 \u6d4b\u8bd5\u5b83\uff01"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u4f7f\u7528\u6b65\u9aa4 3.3 \u4e2d\u751f\u6210\u7684\u865a\u62df\u5bc6\u94a5"})}),"\n",(0,s.jsx)(n.p,{children:"\u7b2c\u4e00\u6b21\u8c03\u7528 - \u5e94\u8be5\u6709\u6548\uff01"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST \'http://0.0.0.0:4000/chat/completions\' \\\n-H \'Content-Type: application/json\' \\\n-H \'Authorization: Bearer sk-12...\' \\\n-d \'{\n    "model": "gpt-4o",\n    "messages": [\n      {\n        "role": "system",\n        "content": "You are a helpful math tutor. Guide the user through the solution step by step."\n      },\n      {\n        "role": "user",\n        "content": "how can I solve 8x + 7 = -23"\n      }\n    ]\n}\'\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u9884\u671f\u54cd\u5e94"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'{\n    "id": "chatcmpl-2076f062-3095-4052-a520-7c321c115c68",\n    "choices": [\n        ...\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u7b2c\u4e8c\u6b21\u8c03\u7528 - \u5e94\u8be5\u5931\u8d25\uff01"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u4e3a\u4ec0\u4e48\u8fd9\u6b21\u8c03\u7528\u4f1a\u5931\u8d25\uff1f"})}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u4eec\u5c06\u865a\u62df\u5bc6\u94a5\u7684\u6bcf\u5206\u949f\u8bf7\u6c42\u6570\uff08RPM\uff09\u9650\u5236\u8bbe\u7f6e\u4e3a 1\u3002\u8fd9\u5df2\u8d85\u51fa\u9650\u5236\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST \'http://0.0.0.0:4000/chat/completions\' \\\n-H \'Content-Type: application/json\' \\\n-H \'Authorization: Bearer sk-12...\' \\\n-d \'{\n    "model": "gpt-4o",\n    "messages": [\n      {\n        "role": "system",\n        "content": "You are a helpful math tutor. Guide the user through the solution step by step."\n      },\n      {\n        "role": "user",\n        "content": "how can I solve 8x + 7 = -23"\n      }\n    ]\n}\'\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u9884\u671f\u54cd\u5e94"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'{\n  "error": {\n    "message": "LiteLLM Rate Limit Handler for rate limit type = key. Crossed TPM / RPM / Max Parallel Request Limit. current rpm: 1, rpm limit: 1, current tpm: 348, tpm limit: 9223372036854775807, current max_parallel_requests: 0, max_parallel_requests: 9223372036854775807",\n    "type": "None",\n    "param": "None",\n    "code": "429"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u6709\u7528\u94fe\u63a5-2",children:"\u6709\u7528\u94fe\u63a5"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/proxy/virtual_keys",children:"\u521b\u5efa\u865a\u62df\u5bc6\u94a5"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://litellm-api.up.railway.app/#/key%20management",children:"\u5bc6\u94a5\u7ba1\u7406 API \u7ec8\u7aef\u8282\u70b9 Swagger"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/proxy/users",children:"\u4e3a\u5bc6\u94a5/\u7528\u6237/\u56e2\u961f\u8bbe\u7f6e\u9884\u7b97/\u901f\u7387\u9650\u5236"})}),"\n",(0,s.jsx)(n.li,{children:"[\u4e3a\u5bc6\u94a5\u52a8\u6001\u5206\u914d TPM/RPM \u9650\u5236](./team_budgets.md#\u52a8\u6001-tpmrpm \u5206\u914d)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u5173\u952e\u6982\u5ff5",children:"\u5173\u952e\u6982\u5ff5"}),"\n",(0,s.jsx)(n.p,{children:"\u672c\u8282\u89e3\u91ca\u4e86 LiteLLM AI \u7f51\u5173\u7684\u5173\u952e\u6982\u5ff5\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"\u7406\u89e3\u6a21\u578b\u914d\u7f6e",children:"\u7406\u89e3\u6a21\u578b\u914d\u7f6e"}),"\n",(0,s.jsx)(n.p,{children:"\u5bf9\u4e8e\u6b64 config.yaml \u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: gpt-4o\n    litellm_params:\n      model: azure/my_azure_deployment\n      api_base: os.environ/AZURE_API_BASE\n      api_key: "os.environ/AZURE_API_KEY"\n      api_version: "2025-01-01-preview" # [\u53ef\u9009] LiteLLM \u9ed8\u8ba4\u4f7f\u7528\u6700\u65b0\u7684 Azure API \u7248\u672c\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u6a21\u578b\u89e3\u6790\u5de5\u4f5c\u539f\u7406\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'\u5ba2\u6237\u7aef\u8bf7\u6c42                LiteLLM \u4ee3\u7406                 \u63d0\u4f9b\u5546 API\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500              \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500              \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n    \nPOST /chat/completions      \n{                           1. \u67e5\u627e model_name\n  "model": "gpt-4o" \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6 \u5728 config.yaml \u4e2d\n  ...                          \n}                           2. \u627e\u5230\u5339\u914d\u6761\u76ee\uff1a\n                               model_name: gpt-4o\n                               \n                            3. \u63d0\u53d6 litellm_params:\n                               model: azure/my_azure_deployment\n                               api_base: https://...\n                               api_key: sk-...\n                               \n                            4. \u8def\u7531\u81f3\u63d0\u4f9b\u5546 \u2500\u2500\u25b6 Azure OpenAI API\n                                                      POST /deployments/my_azure_deployment/...\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["\u62c6\u89e3 ",(0,s.jsx)(n.code,{children:"litellm_params"})," \u4e2d\u7684 ",(0,s.jsx)(n.code,{children:"model"})," \u53c2\u6570\uff1a"]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"model_list:\n  - model_name: gpt-4o                       # \u5ba2\u6237\u7aef\u8c03\u7528\u65f6\u4f7f\u7528\u7684\u540d\u79f0\n    litellm_params:\n      model: azure/my_azure_deployment       # <provider>/<\u6a21\u578b\u6807\u8bc6\u7b26>\n             \u2500\u2500\u2500\u2500\u2500  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n               \u2502           \u2502\n               \u2502           \u2514\u2500\u2500\u2500\u2500\u2500\u25b6 \u53d1\u9001\u5230\u63d0\u4f9b\u5546 API \u7684\u5b9e\u9645\u6a21\u578b\u6807\u8bc6\u7b26\n               \u2502\n               \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6 LiteLLM \u8def\u7531\u5230\u7684\u63d0\u4f9b\u5546\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u53ef\u89c6\u5316\u62c6\u89e3\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"model: azure/my_azure_deployment\n       \u2514\u2500\u252c\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502             \u2502\n         \u2502             \u2514\u2500\u2500\u2500\u2500\u25b6 \u53d1\u9001\u5230 Azure \u7684\u5b9e\u9645\u6a21\u578b\u6807\u8bc6\u7b26\uff08\u4f8b\u5982\uff0c\u60a8\u7684\u90e8\u7f72\u540d\u79f0\u6216\u6a21\u578b\u540d\u79f0\uff09\n         \u2502\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6 \u544a\u8bc9 LiteLLM \u4f7f\u7528\u54ea\u4e2a\u63d0\u4f9b\u5546\n                             (azure, openai, anthropic, bedrock \u7b49)\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u5173\u952e\u6982\u5ff5\uff1a"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"model_name"})}),": \u5ba2\u6237\u7aef\u8c03\u7528\u65f6\u4f7f\u7528\u7684\u6a21\u578b\u522b\u540d\u3002\u8fd9\u662f\u60a8\u5728 API \u8bf7\u6c42\u4e2d\u53d1\u9001\u7684\u5185\u5bb9\uff08\u4f8b\u5982\uff0cgpt-4o\uff09\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsxs)(n.strong,{children:[(0,s.jsx)(n.code,{children:"model"})," (\u5728 litellm_params \u4e2d)"]}),": \u683c\u5f0f\u4e3a ",(0,s.jsx)(n.code,{children:"<\u63d0\u4f9b\u5546>/<\u6a21\u578b\u6807\u8bc6\u7b26>"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u63d0\u4f9b\u5546"})," (\u5206\u9694\u7b26\u524d): \u8def\u7531\u5230\u6b63\u786e\u7684 LLM \u63d0\u4f9b\u5546 (\u4f8b\u5982, ",(0,s.jsx)(n.code,{children:"azure"}),", ",(0,s.jsx)(n.code,{children:"openai"}),", ",(0,s.jsx)(n.code,{children:"anthropic"}),", ",(0,s.jsx)(n.code,{children:"bedrock"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u6a21\u578b\u6807\u8bc6\u7b26"})," (\u5206\u9694\u7b26\u540e): \u53d1\u9001\u5230\u8be5\u63d0\u4f9b\u5546 API \u7684\u5b9e\u9645\u6a21\u578b/\u90e8\u7f72\u540d\u79f0"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u9ad8\u7ea7\u914d\u7f6e\u793a\u4f8b\uff1a"})}),"\n",(0,s.jsx)(n.p,{children:"\u5bf9\u4e8e\u81ea\u5b9a\u4e49\u7684 OpenAI \u517c\u5bb9\u7aef\u70b9\uff08\u4f8b\u5982\uff0cvLLM\u3001Ollama\u3001\u81ea\u5b9a\u4e49\u90e8\u7f72\uff09\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: my-custom-model\n    litellm_params:\n      model: openai/nvidia/llama-3.2-nv-embedqa-1b-v2\n      api_base: http://my-service.svc.cluster.local:8000/v1\n      api_key: "sk-1234"\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u62c6\u89e3\u590d\u6742\u7684\u6a21\u578b\u8def\u5f84\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"model: openai/nvidia/llama-3.2-nv-embedqa-1b-v2\n       \u2514\u2500\u252c\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                 \u2502\n         \u2502                 \u2514\u2500\u2500\u2500\u2500\u25b6 \u53d1\u9001\u5230\u63d0\u4f9b\u5546 API \u7684\u5b8c\u6574\u6a21\u578b\u5b57\u7b26\u4e32\uff08\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff1anvidia/llama-3.2-nv-embedqa-1b-v2\uff09\n         \u2502                       (\u5206\u9694\u7b26\u540e\u7684\u5185\u5bb9)\n         \u2502\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6 \u6307\u5b9a\u4f7f\u7528\u54ea\u4e2a\u63d0\u4f9b\u5546 (openai = OpenAI \u517c\u5bb9 API)\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5173\u952e\u70b9: \u5206\u9694\u7b26\u540e\u7684\u6240\u6709\u5185\u5bb9\u5c06\u539f\u5c01\u4e0d\u52a8\u5730\u53d1\u9001\u5230\u63d0\u4f9b\u5546\u7684 API\u3002"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u5e38\u89c1\u6a21\u5f0f\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  # Azure \u90e8\u7f72\n  - model_name: gpt-4\n    litellm_params:\n      model: azure/gpt-4-deployment\n      api_base: https://my-azure.openai.azure.com\n      \n  # OpenAI\n  - model_name: gpt-4\n    litellm_params:\n      model: openai/gpt-4\n      api_key: os.environ/OPENAI_API_KEY\n      \n  # \u81ea\u5b9a\u4e49\u7684 OpenAI \u517c\u5bb9\u7aef\u70b9\n  - model_name: my-llama-model\n    litellm_params:\n      model: openai/meta/llama-3-8b\n      api_base: http://my-vllm-server:8000/v1\n      api_key: "optional-key"\n      \n  # Bedrock\n  - model_name: claude-3\n    litellm_params:\n      model: bedrock/anthropic.claude-3-sonnet-20240229-v1:0\n      aws_region_name: us-east-1\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u6545\u969c\u6392\u9664",children:"\u6545\u969c\u6392\u9664"}),"\n",(0,s.jsx)(n.h3,{id:"\u975e-root-docker-\u955c\u50cf",children:"\u975e root Docker \u955c\u50cf\uff1f"}),"\n",(0,s.jsxs)(n.p,{children:["\u5982\u679c\u60a8\u9700\u8981\u4ee5\u975e root \u7528\u6237\u8fd0\u884c Docker \u955c\u50cf\uff0c\u8bf7\u4f7f\u7528 ",(0,s.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/pkgs/container/litellm-non_root",children:"\u6b64\u955c\u50cf"}),"\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"ssl-\u9a8c\u8bc1\u95ee\u9898--\u8fde\u63a5\u9519\u8bef",children:"SSL \u9a8c\u8bc1\u95ee\u9898 / \u8fde\u63a5\u9519\u8bef\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u679c\u770b\u5230"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1006)\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u6216"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Connection Error.\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u53ef\u4ee5\u7981\u7528 SSL \u9a8c\u8bc1\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: gpt-4o\n    litellm_params:\n      model: azure/my_azure_deployment\n      api_base: os.environ/AZURE_API_BASE\n      api_key: "os.environ/AZURE_API_KEY"\n      api_version: "2025-01-01-preview"\n\nlitellm_settings:\n    ssl_verify: false # \ud83d\udc48 \u5173\u952e\u66f4\u6539\n'})}),"\n",(0,s.jsx)(n.h3,{id:"db-\u6240\u6709\u8fde\u63a5\u5c1d\u8bd5\u5931\u8d25",children:"(DB) \u6240\u6709\u8fde\u63a5\u5c1d\u8bd5\u5931\u8d25"}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u679c\u770b\u5230\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"httpx.ConnectError: All connection attempts failed                                                                        \n                                                                                                                         \nERROR:    \u5e94\u7528\u7a0b\u5e8f\u542f\u52a8\u5931\u8d25\u3002\u9000\u51fa\u3002                                                                            \n3:21:43 - LiteLLM \u4ee3\u7406:ERROR: utils.py:2207 - \u83b7\u53d6 LiteLLM_SpendLogs \u884c\u6570\u65f6\u51fa\u9519\uff1a\u6240\u6709\u8fde\u63a5\u5c1d\u8bd5\u5747\u5931\u8d25 \n"})}),"\n",(0,s.jsx)(n.p,{children:"\u8fd9\u53ef\u80fd\u662f\u4e00\u4e2a\u6570\u636e\u5e93\u6743\u9650\u95ee\u9898\u3002"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u9a8c\u8bc1\u6570\u636e\u5e93\u7528\u6237\u6743\u9650\u95ee\u9898"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u5c1d\u8bd5\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6570\u636e\u5e93\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'STATEMENT: CREATE DATABASE "litellm"\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u679c\u6536\u5230\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"ERROR: permission denied to create \n"})}),"\n",(0,s.jsx)(n.p,{children:"\u8fd9\u8868\u660e\u60a8\u6709\u6743\u9650\u95ee\u9898\u3002"}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"\u4e3a\u60a8\u7684\u6570\u636e\u5e93\u7528\u6237\u6388\u4e88\u6743\u9650"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u5b83\u5e94\u8be5\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"psql -U postgres\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"CREATE DATABASE litellm;\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5728 CloudSQL \u4e2d\uff0c\u8fd9\u662f\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"GRANT ALL PRIVILEGES ON DATABASE litellm TO your_username;\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["\u4ec0\u4e48\u662f ",(0,s.jsx)(n.code,{children:"litellm_settings"}),"\uff1f"]})}),"\n",(0,s.jsxs)(n.p,{children:["LiteLLM \u4ee3\u7406\u4f7f\u7528 ",(0,s.jsx)(n.a,{href:"https://docs.litellm.ai/docs/routing",children:"LiteLLM Python SDK"})," \u5904\u7406 LLM API \u8c03\u7528\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"litellm_settings"})," \u662f LiteLLM Python SDK \u7684\u6a21\u5757\u7ea7\u53c2\u6570\uff08\u76f8\u5f53\u4e8e\u5728 SDK \u4e2d\u6267\u884c ",(0,s.jsx)(n.code,{children:"litellm.<some_param>"}),"\uff09\u3002\u60a8\u53ef\u4ee5\u67e5\u770b\u6240\u6709\u53c2\u6570 ",(0,s.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/blob/208fe6cb90937f73e0def5c97ccb2359bf8a467b/litellm/__init__.py#L114",children:"\u5728\u6b64"})]}),"\n",(0,s.jsx)(n.h2,{id:"\u652f\u6301\u4e0e\u521b\u59cb\u4eba\u4ea4\u6d41",children:"\u652f\u6301\u4e0e\u521b\u59cb\u4eba\u4ea4\u6d41"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://calendly.com/d/4mp-gd3-k5k/berriai-1-1-onboarding-litellm-hosted-version",children:"\u9884\u7ea6\u6f14\u793a \ud83d\udc4b"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://discord.gg/wuPM9dRgDw",children:"\u793e\u533a Discord \ud83d\udcad"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://www.litellm.ai/support",children:"\u793e\u533a Slack \ud83d\udcad"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["\u6211\u4eec\u7684\u90ae\u7bb1 \u2709\ufe0f ",(0,s.jsx)(n.a,{href:"mailto:ishaan@berri.ai",children:"ishaan@berri.ai"})," / ",(0,s.jsx)(n.a,{href:"mailto:krrish@berri.ai",children:"krrish@berri.ai"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://wa.link/huol9n",children:(0,s.jsx)(n.img,{src:"https://img.shields.io/static/v1?label=Chat%20on&message=WhatsApp&color=success&logo=WhatsApp&style=flat-square",alt:"\u5728 WhatsApp \u4e0a\u804a\u5929"})})," ",(0,s.jsx)(n.a,{href:"https://discord.gg/wuPM9dRgDw",children:(0,s.jsx)(n.img,{src:"https://img.shields.io/static/v1?label=Chat%20on&message=Discord&color=blue&logo=Discord&style=flat-square",alt:"\u5728 Discord \u4e0a\u804a\u5929"})})]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}}}]);