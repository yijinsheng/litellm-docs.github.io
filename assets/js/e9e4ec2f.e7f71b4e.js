"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[18430],{28453(e,n,l){l.d(n,{R:()=>a,x:()=>t});var s=l(96540);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}},98760(e,n,l){l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"proxy/logging","title":"logging","description":"This documentation covers various ways to log and monitor LLM (Language Model) interactions using different tools and services. Below is a summary of the steps and configurations required for each service:","source":"@site/docs/proxy/logging.md","sourceDirName":"proxy","slug":"/proxy/logging","permalink":"/docs/proxy/logging","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u52a8\u6001\u56de\u8c03\u7ba1\u7406","permalink":"/docs/proxy/dynamic_logging"},"next":{"title":"logging_spec","permalink":"/docs/proxy/logging_spec"}}');var i=l(74848),r=l(28453);const a={},t=void 0,c={},o=[{value:"1. <strong>Datadog</strong>",id:"1-datadog",level:3},{value:"2. <strong>Azure Sentinel</strong>",id:"2-azure-sentinel",level:3},{value:"3. <strong>Lunary</strong>",id:"3-lunary",level:3},{value:"4. <strong>MLflow</strong>",id:"4-mlflow",level:3},{value:"5. <strong>Custom Callback Class [Async]</strong>",id:"5-custom-callback-class-async",level:3},{value:"6. <strong>Custom Callback APIs [Async]</strong>",id:"6-custom-callback-apis-async",level:3},{value:"7. <strong>Langsmith</strong>",id:"7-langsmith",level:3},{value:"8. <strong>Arize AI</strong>",id:"8-arize-ai",level:3},{value:"9. <strong>Langtrace</strong>",id:"9-langtrace",level:3},{value:"10. <strong>Galileo</strong>",id:"10-galileo",level:3},{value:"11. <strong>OpenMeter</strong>",id:"11-openmeter",level:3},{value:"12. <strong>DynamoDB</strong>",id:"12-dynamodb",level:3},{value:"13. <strong>Sentry</strong>",id:"13-sentry",level:3},{value:"14. <strong>Athina</strong>",id:"14-athina",level:3},{value:"15. <strong>Sentry (for failed API calls)</strong>",id:"15-sentry-for-failed-api-calls",level:3},{value:"16. <strong>Azure Content Safety (BETA)</strong>",id:"16-azure-content-safety-beta",level:3},{value:"Steps to Start the Proxy",id:"steps-to-start-the-proxy",level:3}];function d(e){const n={code:"code",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"This documentation covers various ways to log and monitor LLM (Language Model) interactions using different tools and services. Below is a summary of the steps and configurations required for each service:"}),"\n",(0,i.jsxs)(n.h3,{id:"1-datadog",children:["1. ",(0,i.jsx)(n.strong,{children:"Datadog"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Install dependencies:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pip install litellm datadog\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Set environment variables:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'export DD_API_KEY="your-datadog-api-key"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Configure ",(0,i.jsx)(n.code,{children:"config.yaml"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: "*"\n    litellm_params:\n      model: "*"\nlitellm_settings:\n  success_callback: ["datadog"]\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"2-azure-sentinel",children:["2. ",(0,i.jsx)(n.strong,{children:"Azure Sentinel"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Follow the tutorial provided in the documentation."}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"3-lunary",children:["3. ",(0,i.jsx)(n.strong,{children:"Lunary"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Install dependencies:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pip install litellm lunary\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Set environment variables:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'export LUNARY_PUBLIC_KEY="your-lunary-public-key"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Configure ",(0,i.jsx)(n.code,{children:"config.yaml"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: "*"\n    litellm_params:\n      model: "*"\nlitellm_settings:\n  success_callback: ["lunary"]\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"4-mlflow",children:["4. ",(0,i.jsx)(n.strong,{children:"MLflow"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Follow the tutorial provided in the documentation."}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"5-custom-callback-class-async",children:["5. ",(0,i.jsx)(n.strong,{children:"Custom Callback Class [Async]"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Create a custom callback class ",(0,i.jsx)(n.code,{children:"custom_callbacks.py"})," with methods for logging."]}),"\n",(0,i.jsxs)(n.li,{children:["Configure ",(0,i.jsx)(n.code,{children:"config.yaml"})," to use your custom handler:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: "*"\n    litellm_params:\n      model: "*"\nlitellm_settings:\n  callbacks: "custom_callbacks.proxy_handler_instance"\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"6-custom-callback-apis-async",children:["6. ",(0,i.jsx)(n.strong,{children:"Custom Callback APIs [Async]"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.code,{children:"success_callback"})," to ",(0,i.jsx)(n.code,{children:'"generic_api"'})," in ",(0,i.jsx)(n.code,{children:"config.yaml"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Configure environment variables for the custom API endpoint."}),"\n",(0,i.jsx)(n.li,{children:"Start the proxy and test with a request."}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"7-langsmith",children:["7. ",(0,i.jsx)(n.strong,{children:"Langsmith"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Install dependencies:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pip install litellm langsmith\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Set environment variables:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'export LANGSMITH_API_KEY="your-langsmith-api-key"\nexport LANGSMITH_PROJECT="litellm-proxy"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Configure ",(0,i.jsx)(n.code,{children:"config.yaml"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: "*"\n    litellm_params:\n      model: "*"\nlitellm_settings:\n  success_callback: ["langsmith"]\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"8-arize-ai",children:["8. ",(0,i.jsx)(n.strong,{children:"Arize AI"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Install dependencies:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pip install litellm arize\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Set environment variables:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'export ARIZE_SPACE_KEY="your-arize-space-key"\nexport ARIZE_API_KEY="your-arize-api-key"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Configure ",(0,i.jsx)(n.code,{children:"config.yaml"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: "*"\n    litellm_params:\n      model: "*"\nlitellm_settings:\n  success_callback: ["arize"]\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"9-langtrace",children:["9. ",(0,i.jsx)(n.strong,{children:"Langtrace"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Install dependencies:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pip install litellm langtrace\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Set environment variables:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'export LANGTRACE_API_KEY="your-langtrace-api-key"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Configure ",(0,i.jsx)(n.code,{children:"config.yaml"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: "*"\n    litellm_params:\n      model: "*"\nlitellm_settings:\n  success_callback: ["langtrace"]\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"10-galileo",children:["10. ",(0,i.jsx)(n.strong,{children:"Galileo"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Install dependencies:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pip install litellm galileo\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Set environment variables for Galileo:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'export GALILEO_BASE_URL="your-galileo-base-url"\nexport GALILEO_PROJECT_ID="your-galileo-project-id"\nexport GALILEO_USERNAME="your-galileo-username"\nexport GALILEO_PASSWORD="your-galileo-password"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Configure ",(0,i.jsx)(n.code,{children:"config.yaml"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: "*"\n    litellm_params:\n      model: "*"\nlitellm_settings:\n  success_callback: ["galileo"]\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"11-openmeter",children:["11. ",(0,i.jsx)(n.strong,{children:"OpenMeter"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Install dependencies:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pip install litellm openmeter\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Set environment variables for OpenMeter:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'export OPENMETER_API_ENDPOINT="your-openmeter-api-endpoint"\nexport OPENMETER_API_KEY="your-openmeter-api-key"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Configure ",(0,i.jsx)(n.code,{children:"config.yaml"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: "*"\n    litellm_params:\n      model: "*"\nlitellm_settings:\n  success_callback: ["openmeter"]\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"12-dynamodb",children:["12. ",(0,i.jsx)(n.strong,{children:"DynamoDB"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Install dependencies:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pip install litellm boto3\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Set environment variables for AWS credentials and DynamoDB table name:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'export AWS_ACCESS_KEY_ID="your-access-key-id"\nexport AWS_SECRET_ACCESS_KEY="your-secret-access-key"\nexport AWS_REGION_NAME="your-region-name"\nexport LITELLM_DYNAMODB_TABLE_NAME="your-dynamodb-table-name"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Configure ",(0,i.jsx)(n.code,{children:"config.yaml"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: "*"\n    litellm_params:\n      model: "*"\nlitellm_settings:\n  success_callback: ["dynamodb"]\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"13-sentry",children:["13. ",(0,i.jsx)(n.strong,{children:"Sentry"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Install dependencies:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pip install sentry-sdk\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Set environment variables for Sentry:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'export SENTRY_DSN="your-sentry-dsn"\nexport SENTRY_API_SAMPLE_RATE="1.0"  # Optional: Controls what percentage of errors are sent (default: 1.0 = 100%)\nexport SENTRY_API_TRACE_RATE="1.0"   # Optional: Controls what percentage of transactions are sampled for performance monitoring (default: 1.0 = 100%)\nexport SENTRY_ENVIRONMENT="development"  # Optional: Controls the Sentry Environment (default: production)\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Configure ",(0,i.jsx)(n.code,{children:"config.yaml"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: "*"\n    litellm_params:\n      model: "*"\nlitellm_settings:\n  success_callback: ["sentry"]\ngeneral_settings:\n  database_url: "my-bad-url"  # Set a fake URL to trigger an exception\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"14-athina",children:["14. ",(0,i.jsx)(n.strong,{children:"Athina"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Install dependencies:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pip install litellm athina\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Set environment variables for Athina API key:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'export ATHINA_API_KEY="your-athina-api-key"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Configure ",(0,i.jsx)(n.code,{children:"config.yaml"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: "*"\n    litellm_params:\n      model: "*"\nlitellm_settings:\n  success_callback: ["athina"]\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"15-sentry-for-failed-api-calls",children:["15. ",(0,i.jsx)(n.strong,{children:"Sentry (for failed API calls)"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Install dependencies:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pip install sentry-sdk\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Set environment variables for Sentry:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'export SENTRY_DSN="your-sentry-dsn"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Configure ",(0,i.jsx)(n.code,{children:"config.yaml"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: "*"\n    litellm_params:\n      model: "*"\nlitellm_settings:\n  failure_callback: ["sentry"]\ngeneral_settings:\n  database_url: "my-bad-url"  # Set a fake URL to trigger an exception\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"16-azure-content-safety-beta",children:["16. ",(0,i.jsx)(n.strong,{children:"Azure Content Safety (BETA)"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Install dependencies:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pip install litellm azure-content-safety\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Set environment variables for Azure Content Safety key and endpoint:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'export AZURE_CONTENT_SAFETY_KEY="your-azure-content-safety-key"\nexport AZURE_CONTENT_SAFETY_ENDPOINT="your-azure-content-safety-endpoint"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Configure ",(0,i.jsx)(n.code,{children:"config.yaml"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: "*"\n    litellm_params:\n      model: "*"\nlitellm_settings:\n  success_callback: ["azure_content_safety"]\n  azure_content_safety_params:\n    endpoint: "os.environ/AZURE_CONTENT_SAFETY_ENDPOINT"\n    key: "os.environ/AZURE_CONTENT_SAFETY_KEY"\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"steps-to-start-the-proxy",children:"Steps to Start the Proxy"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Start the proxy using the configured ",(0,i.jsx)(n.code,{children:"config.yaml"})," file."]}),"\n",(0,i.jsx)(n.li,{children:"Test with a request."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"litellm --config config.yaml --debug\n"})}),"\n",(0,i.jsx)(n.p,{children:"This setup should cover most of the common use cases for logging and monitoring LLM interactions. If you have any specific questions or need further assistance, feel free to ask!"})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);