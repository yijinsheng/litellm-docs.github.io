"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[79837],{21212(e,n,t){t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>r});const i=JSON.parse('{"id":"tutorials/anthropic_file_usage","title":"\u4f7f\u7528 LiteLLM \u4ee3\u7406\u4e0e Anthropic \u6587\u4ef6 API","description":"\u6982\u89c8","source":"@site/docs/tutorials/anthropic_file_usage.md","sourceDirName":"tutorials","slug":"/tutorials/anthropic_file_usage","permalink":"/docs/tutorials/anthropic_file_usage","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Qwen Code CLI","permalink":"/docs/tutorials/litellm_qwen_code_cli"},"next":{"title":"default_team_self_serve","permalink":"/docs/tutorials/default_team_self_serve"}}');var l=t(74848),s=t(28453);const c={},a="\u4f7f\u7528 LiteLLM \u4ee3\u7406\u4e0e Anthropic \u6587\u4ef6 API",o={},r=[{value:"\u6982\u89c8",id:"\u6982\u89c8",level:2},{value:"\u5148\u51b3\u6761\u4ef6",id:"\u5148\u51b3\u6761\u4ef6",level:2},{value:"\u4f7f\u7528\u65b9\u6cd5",id:"\u4f7f\u7528\u65b9\u6cd5",level:2},{value:"1. \u914d\u7f6e <code>config.yaml</code>",id:"1-\u914d\u7f6e-configyaml",level:3},{value:"2. \u521b\u5efa\u6587\u4ef6",id:"2-\u521b\u5efa\u6587\u4ef6",level:2},{value:"3. \u4f7f\u7528 <code>/chat/completions</code> \u901a\u8fc7 Claude-4 \u5206\u6790\u6587\u4ef6",id:"3-\u4f7f\u7528-chatcompletions-\u901a\u8fc7-claude-4-\u5206\u6790\u6587\u4ef6",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"\u4f7f\u7528-litellm-\u4ee3\u7406\u4e0e-anthropic-\u6587\u4ef6-api",children:"\u4f7f\u7528 LiteLLM \u4ee3\u7406\u4e0e Anthropic \u6587\u4ef6 API"})}),"\n",(0,l.jsx)(n.h2,{id:"\u6982\u89c8",children:"\u6982\u89c8"}),"\n",(0,l.jsx)(n.p,{children:"\u672c\u6559\u7a0b\u5c55\u793a\u4e86\u5982\u4f55\u901a\u8fc7 LiteLLM \u4ee3\u7406\u5728 Anthropic \u4e0a\u4f7f\u7528 Claude-4 \u521b\u5efa\u548c\u5206\u6790\u6587\u4ef6\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"\u5148\u51b3\u6761\u4ef6",children:"\u5148\u51b3\u6761\u4ef6"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"LiteLLM \u4ee3\u7406\u8fd0\u884c\u4e2d"}),"\n",(0,l.jsx)(n.li,{children:"Anthropic API \u5bc6\u94a5"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5c06\u4ee5\u4e0b\u5185\u5bb9\u6dfb\u52a0\u5230\u4f60\u7684 ",(0,l.jsx)(n.code,{children:".env"})," \u6587\u4ef6\u4e2d\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"ANTHROPIC_API_KEY=sk-1234\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u4f7f\u7528\u65b9\u6cd5",children:"\u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,l.jsxs)(n.h3,{id:"1-\u914d\u7f6e-configyaml",children:["1. \u914d\u7f6e ",(0,l.jsx)(n.code,{children:"config.yaml"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"model_list:\n  - model_name: claude-opus\n    litellm_params:\n      model: anthropic/claude-opus-4-20250514\n      api_key: os.environ/ANTHROPIC_API_KEY\n"})}),"\n",(0,l.jsx)(n.h2,{id:"2-\u521b\u5efa\u6587\u4ef6",children:"2. \u521b\u5efa\u6587\u4ef6"}),"\n",(0,l.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,l.jsx)(n.code,{children:"/anthropic"})," \u8def\u7531\u4ee3\u7406\u7aef\u70b9\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"curl -L -X POST 'http://0.0.0.0:4000/anthropic/v1/files' \\\n-H 'x-api-key: sk-1234' \\\n-H 'anthropic-version: 2023-06-01' \\\n-H 'anthropic-beta: files-api-2025-04-14' \\\n-F 'file=@\"/path/to/your/file.csv\"'\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u9884\u671f\u54cd\u5e94\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "created_at": "2023-11-07T05:31:56Z",\n  "downloadable": false,\n  "filename": "file.csv",\n  "id": "file-1234",\n  "mime_type": "text/csv",\n  "size_bytes": 1,\n  "type": "file"\n}\n'})}),"\n",(0,l.jsxs)(n.h2,{id:"3-\u4f7f\u7528-chatcompletions-\u901a\u8fc7-claude-4-\u5206\u6790\u6587\u4ef6",children:["3. \u4f7f\u7528 ",(0,l.jsx)(n.code,{children:"/chat/completions"})," \u901a\u8fc7 Claude-4 \u5206\u6790\u6587\u4ef6"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'curl -L -X POST \'http://0.0.0.0:4000/v1/chat/completions\' \\\n-H \'Content-Type: application/json\' \\\n-H \'Authorization: Bearer $LITELLM_API_KEY\' \\\n-d \'{\n    "model": "claude-opus",\n    "messages": [\n        {\n            "role": "user",\n            "content": [\n                {"type": "text", "text": "What is in this sheet?"},\n                {\n                    "type": "file",\n                    "file": {\n                        "file_id": "file-1234",\n                        "format": "text/csv" # \ud83d\udc48 \u91cd\u8981\uff1a\u8fd9\u662f\u4f60\u8981\u5206\u6790\u7684\u6587\u4ef6\u683c\u5f0f\n                    }\n                }\n            ]\n        }\n    ]\n}\'\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},28453(e,n,t){t.d(n,{R:()=>c,x:()=>a});var i=t(96540);const l={},s=i.createContext(l);function c(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);