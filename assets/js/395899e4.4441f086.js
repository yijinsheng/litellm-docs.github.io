"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[13577],{10415(e,n,t){t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>h,default:()=>d,frontMatter:()=>r,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"pass_through/cohere","title":"Cohere SDK","description":"Pass-through endpoints for Cohere - \u8c03\u7528\u63d0\u4f9b\u5546\u7279\u5b9a\u7684\u7aef\u70b9\uff0c\u5728\u539f\u751f\u683c\u5f0f\u4e0b\uff08\u65e0\u9700\u7ffb\u8bd1\uff09\u3002","source":"@site/docs/pass_through/cohere.md","sourceDirName":"pass_through","slug":"/pass_through/cohere","permalink":"/docs/pass_through/cohere","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Azure \u900f\u4f20","permalink":"/docs/pass_through/azure_passthrough"},"next":{"title":"Google AI Studio SDK","permalink":"/docs/pass_through/google_ai_studio"}}');var s=t(74848),i=t(28453);const r={},h="Cohere SDK",o={},l=[{value:"<strong>\u793a\u4f8b\u7528\u6cd5</strong>",id:"\u793a\u4f8b\u7528\u6cd5",level:4},{value:"\u5feb\u901f\u5f00\u59cb",id:"\u5feb\u901f\u5f00\u59cb",level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"<strong>\u793a\u4f8b 1\uff1aRerank \u7aef\u70b9</strong>",id:"\u793a\u4f8b-1rerank-\u7aef\u70b9",level:3},{value:"LiteLLM \u4ee3\u7406\u8c03\u7528",id:"litellm-\u4ee3\u7406\u8c03\u7528",level:4},{value:"\u76f4\u63a5\u8c03\u7528 Cohere API",id:"\u76f4\u63a5\u8c03\u7528-cohere-api",level:4},{value:"<strong>\u793a\u4f8b 2\uff1aChat API</strong>",id:"\u793a\u4f8b-2chat-api",level:3},{value:"LiteLLM \u4ee3\u7406\u8c03\u7528",id:"litellm-\u4ee3\u7406\u8c03\u7528-1",level:4},{value:"\u76f4\u63a5\u8c03\u7528 Cohere API",id:"\u76f4\u63a5\u8c03\u7528-cohere-api-1",level:4},{value:"<strong>\u793a\u4f8b 3\uff1a\u5d4c\u5165</strong>",id:"\u793a\u4f8b-3\u5d4c\u5165",level:3},{value:"\u76f4\u63a5\u8c03\u7528 Cohere API",id:"\u76f4\u63a5\u8c03\u7528-cohere-api-2",level:4},{value:"\u9ad8\u7ea7\u7528\u6cd5 - \u4f7f\u7528\u865a\u62df\u5bc6\u94a5",id:"\u9ad8\u7ea7\u7528\u6cd5---\u4f7f\u7528\u865a\u62df\u5bc6\u94a5",level:2},{value:"\u4f7f\u7528\u65b9\u6cd5",id:"\u4f7f\u7528\u65b9\u6cd5",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"cohere-sdk",children:"Cohere SDK"})}),"\n",(0,s.jsx)(n.p,{children:"Pass-through endpoints for Cohere - \u8c03\u7528\u63d0\u4f9b\u5546\u7279\u5b9a\u7684\u7aef\u70b9\uff0c\u5728\u539f\u751f\u683c\u5f0f\u4e0b\uff08\u65e0\u9700\u7ffb\u8bd1\uff09\u3002"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u7279\u6027"}),(0,s.jsx)(n.th,{children:"\u652f\u6301\u60c5\u51b5"}),(0,s.jsx)(n.th,{children:"\u5907\u6ce8"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u6210\u672c\u8ddf\u8e2a"}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsxs)(n.td,{children:["\u652f\u6301 ",(0,s.jsx)(n.code,{children:"/v1/chat"})," \u548c ",(0,s.jsx)(n.code,{children:"/v2/chat"})," \u8def\u5f84"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u65e5\u5fd7\u8bb0\u5f55"}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"\u5728\u6240\u6709\u96c6\u6210\u4e2d\u5747\u6709\u6548"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u7ec8\u7aef\u7528\u6237\u8ddf\u8e2a"}),(0,s.jsx)(n.td,{children:"\u274c"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/issues/new",children:"\u5982\u679c\u60a8\u9700\u8981\u6b64\u529f\u80fd\uff0c\u8bf7\u544a\u77e5\u6211\u4eec"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u6d41\u5f0f\u4f20\u8f93"}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["\u53ea\u9700\u5c06 ",(0,s.jsx)(n.code,{children:"https://api.cohere.com"})," \u66ff\u6362\u4e3a ",(0,s.jsx)(n.code,{children:"LITELLM_PROXY_BASE_URL/cohere"})," \ud83d\ude80"]}),"\n",(0,s.jsx)(n.h4,{id:"\u793a\u4f8b\u7528\u6cd5",children:(0,s.jsx)(n.strong,{children:"\u793a\u4f8b\u7528\u6cd5"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl --request POST \\\n  --url http://0.0.0.0:4000/cohere/v1/chat \\\n  --header \'accept: application/json\' \\\n  --header \'content-type: application/json\' \\\n  --header "Authorization: bearer sk-anything" \\\n  --data \'{\n    "chat_history": [\n      {"role": "USER", "message": "Who discovered gravity?"},\n      {"role": "CHATBOT", "message": "The man who is widely credited with discovering gravity is Sir Isaac Newton"}\n    ],\n    "message": "What year was he born?",\n    "connectors": [{"id": "web-search"}]\n  }\'\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u652f\u6301 ",(0,s.jsx)(n.strong,{children:"\u6240\u6709"})," Cohere \u7aef\u70b9\uff08\u5305\u62ec\u6d41\u5f0f\u4f20\u8f93\uff09\u3002"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://docs.cohere.com/reference/chat",children:(0,s.jsx)(n.strong,{children:"\u67e5\u770b\u6240\u6709 Cohere \u7aef\u70b9"})})}),"\n",(0,s.jsx)(n.h2,{id:"\u5feb\u901f\u5f00\u59cb",children:"\u5feb\u901f\u5f00\u59cb"}),"\n",(0,s.jsxs)(n.p,{children:["\u8ba9\u6211\u4eec\u8c03\u7528 Cohere \u7684 ",(0,s.jsxs)(n.a,{href:"https://docs.cohere.com/reference/rerank",children:[" ",(0,s.jsx)(n.code,{children:"/rerank"})," \u7aef\u70b9"]}),"\u3002"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u5c06 Cohere API \u5bc6\u94a5\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\u4e2d"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'export COHERE_API_KEY=""\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"\u542f\u52a8 LiteLLM \u4ee3\u7406"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"litellm\n\n# \u8fd0\u884c\u5728 http://0.0.0.0:4000\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"\u6d4b\u8bd5\u4e00\u4e0b\uff01"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u8ba9\u6211\u4eec\u8c03\u7528 Cohere \u7684 ",(0,s.jsx)(n.code,{children:"/rerank"})," \u7aef\u70b9"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl --request POST \\\n  --url http://0.0.0.0:4000/cohere/v1/rerank \\\n  --header \'accept: application/json\' \\\n  --header \'content-type: application/json\' \\\n  --header "Authorization: bearer sk-anything" \\\n  --data \'{\n    "model": "rerank-english-v3.0",\n    "query": "What is the capital of the United States?",\n    "top_n": 3,\n    "documents": ["Carson City is the capital city of the American state of Nevada.",\n                  "The Commonwealth of the Northern Mariana Islands is a group of islands in the Pacific Ocean. Its capital is Saipan.",\n                  "Washington, D.C. (also known as simply Washington or D.C., and officially as the District of Columbia) is the capital of the United States. It is a federal district.",\n                  "Capitalization or capitalisation in English grammar is the use of a capital letter at the start of a word. English usage varies from capitalization in other languages.",\n                  "Capital punishment (the death penalty) has existed in the United States since beforethe United States was a country. As of 2017, capital punishment is legal in 30 of the 50 states."]\n  }\'\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,s.jsxs)(n.p,{children:["\u4efb\u4f55\u5728 ",(0,s.jsx)(n.code,{children:"http://0.0.0.0:4000/cohere"})," \u540e\u7684\u5185\u5bb9\u5747\u88ab\u89c6\u4e3a\u63d0\u4f9b\u5546\u7279\u5b9a\u7684\u8def\u7531\uff0c\u5e76\u76f8\u5e94\u5904\u7406\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u5173\u952e\u53d8\u66f4\uff1a"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"\u539f\u59cb\u7aef\u70b9"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"\u66ff\u6362\u4e3a"})})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"https://api.cohere.com"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"http://0.0.0.0:4000/cohere"}),' (LITELLM_PROXY_BASE_URL="',(0,s.jsx)(n.a,{href:"http://0.0.0.0:4000",children:"http://0.0.0.0:4000"}),'")']})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"bearer $CO_API_KEY"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"bearer anything"})," (\u5982\u679c\u4ee3\u7406\u4e0a\u8bbe\u7f6e\u4e86\u865a\u62df\u5bc6\u94a5\uff0c\u8bf7\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"bearer LITELLM_VIRTUAL_KEY"}),")"]})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"\u793a\u4f8b-1rerank-\u7aef\u70b9",children:(0,s.jsx)(n.strong,{children:"\u793a\u4f8b 1\uff1aRerank \u7aef\u70b9"})}),"\n",(0,s.jsx)(n.h4,{id:"litellm-\u4ee3\u7406\u8c03\u7528",children:"LiteLLM \u4ee3\u7406\u8c03\u7528"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl --request POST \\\n  --url http://0.0.0.0:4000/cohere/v1/rerank \\\n  --header \'accept: application/json\' \\\n  --header \'content-type: application/json\' \\\n  --header "Authorization: bearer sk-anything" \\\n  --data \'{\n    "model": "rerank-english-v3.0",\n    "query": "What is the capital of the United States?",\n    "top_n": 3,\n    "documents": ["Carson City is the capital city of the American state of Nevada.",\n                  "The Commonwealth of the Northern Mariana Islands is a group of islands in the Pacific Ocean. Its capital is Saipan.",\n                  "Washington, D.C. (also known as simply Washington or D.C., and officially as the District of Columbia) is the capital of the United States. It is a federal district.",\n                  "Capitalization or capitalisation in English grammar is the use of a capital letter at the start of a word. English usage varies from capitalization in other languages.",\n                  "Capital punishment (the death penalty) has existed in the United States since beforethe United States was a country. As of 2017, capital punishment is legal in 30 of the 50 states."]\n  }\'\n'})}),"\n",(0,s.jsx)(n.h4,{id:"\u76f4\u63a5\u8c03\u7528-cohere-api",children:"\u76f4\u63a5\u8c03\u7528 Cohere API"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl --request POST \\\n  --url https://api.cohere.com/v1/rerank \\\n  --header \'accept: application/json\' \\\n  --header \'content-type: application/json\' \\\n  --header "Authorization: bearer $CO_API_KEY" \\\n  --data \'{\n    "model": "rerank-english-v3.0",\n    "query": "What is the capital of the United States?",\n    "top_n": 3,\n    "documents": ["Carson City is the capital city of the American state of Nevada.",\n                  "The Commonwealth of the Northern Mariana Islands is a group of islands in the Pacific Ocean. Its capital is Saipan.",\n                  "Washington, D.C. (also known as simply Washington or D.C., and officially as the District of Columbia) is the capital of the United States. It is a federal district.",\n                  "Capitalization or capitalisation in English grammar is the use of a capital letter at the start of a word. English usage varies from capitalization in other languages.",\n                  "Capital punishment (the death penalty) has existed in the United States since beforethe United States was a country. As of 2017, capital punishment is legal in 30 of the 50 states."]\n  }\'\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u793a\u4f8b-2chat-api",children:(0,s.jsx)(n.strong,{children:"\u793a\u4f8b 2\uff1aChat API"})}),"\n",(0,s.jsx)(n.h4,{id:"litellm-\u4ee3\u7406\u8c03\u7528-1",children:"LiteLLM \u4ee3\u7406\u8c03\u7528"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl --request POST \\\n  --url http://0.0.0.0:4000/cohere/v1/chat \\\n  --header \'accept: application/json\' \\\n  --header \'content-type: application/json\' \\\n  --header "Authorization: bearer sk-anything" \\\n  --data \'{\n    "chat_history": [\n      {"role": "USER", "message": "Who discovered gravity?"},\n      {"role": "CHATBOT", "message": "The man who is widely credited with discovering gravity is Sir Isaac Newton"}\n    ],\n    "message": "What year was he born?",\n    "connectors": [{"id": "web-search"}]\n  }\'\n'})}),"\n",(0,s.jsx)(n.h4,{id:"\u76f4\u63a5\u8c03\u7528-cohere-api-1",children:"\u76f4\u63a5\u8c03\u7528 Cohere API"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl --request POST \\\n  --url https://api.cohere.com/v1/chat \\\n  --header \'accept: application/json\' \\\n  --header \'content-type: application/json\' \\\n  --header "Authorization: bearer $CO_API_KEY" \\\n  --data \'{\n    "chat_history": [\n      {"role": "USER", "message": "Who discovered gravity?"},\n      {"role": "CHATBOT", "message": "The man who is widely credited with discovering gravity is Sir Isaac Newton"}\n    ],\n    "message": "What year was he born?",\n    "connectors": [{"id": "web-search"}]\n  }\'\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u793a\u4f8b-3\u5d4c\u5165",children:(0,s.jsx)(n.strong,{children:"\u793a\u4f8b 3\uff1a\u5d4c\u5165"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl --request POST \\\n  --url https://api.cohere.com/v1/embed \\\n  --header \'accept: application/json\' \\\n  --header \'content-type: application/json\' \\\n  --header "Authorization: bearer sk-anything" \\\n  --data \'{\n    "model": "embed-english-v3.0",\n    "texts": ["hello", "goodbye"],\n    "input_type": "classification"\n  }\'\n'})}),"\n",(0,s.jsx)(n.h4,{id:"\u76f4\u63a5\u8c03\u7528-cohere-api-2",children:"\u76f4\u63a5\u8c03\u7528 Cohere API"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl --request POST \\\n  --url https://api.cohere.com/v1/embed \\\n  --header \'accept: application/json\' \\\n  --header \'content-type: application/json\' \\\n  --header "Authorization: bearer $CO_API_KEY" \\\n  --data \'{\n    "model": "embed-english-v3.0",\n    "texts": ["hello", "goodbye"],\n    "input_type": "classification"\n  }\'\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u9ad8\u7ea7\u7528\u6cd5---\u4f7f\u7528\u865a\u62df\u5bc6\u94a5",children:"\u9ad8\u7ea7\u7528\u6cd5 - \u4f7f\u7528\u865a\u62df\u5bc6\u94a5"}),"\n",(0,s.jsx)(n.p,{children:"\u5148\u51b3\u6761\u4ef6"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/proxy/virtual_keys#setup",children:"\u8bbe\u7f6e\u5e26\u6709\u6570\u636e\u5e93\u7684\u4ee3\u7406"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u53ef\u4ee5\u907f\u514d\u5411\u5f00\u53d1\u4eba\u5458\u63d0\u4f9b\u539f\u59cb Cohere API \u5bc6\u94a5\uff0c\u4f46\u4ecd\u5141\u8bb8\u4ed6\u4eec\u4f7f\u7528 Cohere \u7aef\u70b9\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"\u4f7f\u7528\u65b9\u6cd5",children:"\u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'export DATABASE_URL=""\nexport LITELLM_MASTER_KEY=""\nexport COHERE_API_KEY=""\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"litellm\n\n# \u8fd0\u884c\u5728 http://0.0.0.0:4000\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"\u751f\u6210\u865a\u62df\u5bc6\u94a5"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl -X POST 'http://0.0.0.0:4000/key/generate' \\\n-H 'Authorization: Bearer sk-1234' \\\n-H 'Content-Type: application/json' \\\n-d '{}'\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u9884\u671f\u54cd\u5e94"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'{\n    ...\n    "key": "sk-1234ewknldferwedojwojw"\n}\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"\u6d4b\u8bd5\u4e00\u4e0b\uff01"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl --request POST \\\n  --url http://0.0.0.0:4000/cohere/v1/rerank \\\n  --header \'accept: application/json\' \\\n  --header \'content-type: application/json\' \\\n  --header "Authorization: bearer sk-1234ewknldferwedojwojw" \\\n  --data \'{\n    "model": "rerank-english-v3.0",\n    "query": "What is the capital of the United States?",\n    "top_n": 3,\n    "documents": ["Carson City is the capital city of the American state of Nevada.",\n                  "The Commonwealth of the Northern Mariana Islands is a group of islands in the Pacific Ocean. Its capital is Saipan.",\n                  "Washington, D.C. (also known as simply Washington or D.C., and officially as the District of Columbia) is the capital of the United States. It is a federal district.",\n                  "Capitalization or capitalisation in English grammar is the use of a capital letter at the start of a word. English usage varies from capitalization in other languages.",\n                  "Capital punishment (the death penalty) has existed in the United States since beforethe United States was a country. As of 2017, capital punishment is legal in 30 of the 50 states."]\n  }\'\n'})})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453(e,n,t){t.d(n,{R:()=>r,x:()=>h});var a=t(96540);const s={},i=a.createContext(s);function r(e){const n=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function h(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);