(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[56930],{7227(e,n,s){"use strict";s.d(n,{A:()=>i});s(96540);var l=s(18215);const r="tabItem_Ymn6";var a=s(74848);function i({children:e,hidden:n,className:s}){return(0,a.jsx)("div",{role:"tabpanel",className:(0,l.A)(r,s),hidden:n,children:e})}},38310(e,n,s){e.exports={src:Object.assign(Object.create({toString(){return this.src}}),{srcSet:s.p+"assets/ideal-img/custom_swagger.a7395e0.640.png 640w,"+s.p+"assets/ideal-img/custom_swagger.0d5fe4a.1920.png 1920w",images:[{path:s.p+"assets/ideal-img/custom_swagger.a7395e0.640.png",width:640,height:248},{path:s.p+"assets/ideal-img/custom_swagger.0d5fe4a.1920.png",width:1920,height:745}],src:s.p+"assets/ideal-img/custom_swagger.a7395e0.640.png",placeholder:void 0,width:640,height:248}),preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAECAYAAAC3OK7NAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAX0lEQVR4nHXDWQqDMBRA0ex/b9IViLRQiNpMJg55Td+V/vjngWOm2RPSh6YCyi2jqvzfEW3Ir2G6sWewb2x0TDmSZGX5btdYC6VumEd88nIjdvH4IxNqIch6dbWQZecEGbSbVt1fJQQAAAAASUVORK5CYII="}},38927(e,n,s){e.exports={src:Object.assign(Object.create({toString(){return this.src}}),{srcSet:s.p+"assets/ideal-img/model_hub.85ef6b9.640.png 640w,"+s.p+"assets/ideal-img/model_hub.3a38ba6.1920.png 1920w",images:[{path:s.p+"assets/ideal-img/model_hub.85ef6b9.640.png",width:640,height:304},{path:s.p+"assets/ideal-img/model_hub.3a38ba6.1920.png",width:1920,height:912}],src:s.p+"assets/ideal-img/model_hub.85ef6b9.640.png",placeholder:void 0,width:640,height:304}),preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAUklEQVR4nH2NSwrAMBBC5/6XDfSTMdM4ltBNWkIF0YUPrQJy7yqFWomk3CEbZdtdx3kJgICm1kK14gVYxKXMFDPV+ZgjO5U5DRF9efmVzdTf8AYL68X81k/gFQAAAABJRU5ErkJggg=="}},47588(e,n,s){"use strict";s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>o,default:()=>u,frontMatter:()=>c,metadata:()=>l,toc:()=>p});const l=JSON.parse('{"id":"proxy/enterprise","title":"\u2728 \u4f01\u4e1a\u529f\u80fd","description":"\u8bf7\u8054\u7cfb\u6211\u4eec\u7684\u56e2\u961f\u83b7\u53d6\u8bb8\u53ef\u8bc1 \u5728\u8fd9\u91cc","source":"@site/docs/proxy/enterprise.md","sourceDirName":"proxy","slug":"/proxy/enterprise","permalink":"/docs/proxy/enterprise","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"router_architecture","permalink":"/docs/router_architecture"},"next":{"title":"\u865a\u62df\u5bc6\u94a5","permalink":"/docs/proxy/virtual_keys"}}');var r=s(74848),a=s(28453),i=s(90547),d=s(49489),t=s(7227);const c={},o="\u2728 \u4f01\u4e1a\u529f\u80fd",h={},p=[{value:"\u963b\u6b62\u7f51\u7edc\u722c\u866b",id:"\u963b\u6b62\u7f51\u7edc\u722c\u866b",level:3},{value:"LLM \u8bf7\u6c42\u6240\u9700\u7684\u53c2\u6570",id:"llm-\u8bf7\u6c42\u6240\u9700\u7684\u53c2\u6570",level:3},{value:"\u63a7\u5236\u516c\u5171\u548c\u79c1\u6709\u8def\u7531",id:"\u63a7\u5236\u516c\u5171\u548c\u79c1\u6709\u8def\u7531",level:3},{value:"\u652f\u51fa\u8ddf\u8e2a",id:"\u652f\u51fa\u8ddf\u8e2a",level:2},{value:"\u6309\u6807\u7b7e\u67e5\u770b\u652f\u51fa",id:"\u6309\u6807\u7b7e\u67e5\u770b\u652f\u51fa",level:4},{value:"<code>/spend/tags</code> \u8bf7\u6c42\u683c\u5f0f",id:"spendtags-\u8bf7\u6c42\u683c\u5f0f",level:4},{value:"<code>/spend/tags</code> \u54cd\u5e94\u683c\u5f0f",id:"spendtags-\u54cd\u5e94\u683c\u5f0f",level:4},{value:"\u62a4\u680f - \u79d8\u5bc6\u68c0\u6d4b/\u5c4f\u853d",id:"\u62a4\u680f---\u79d8\u5bc6\u68c0\u6d4b\u5c4f\u853d",level:2},{value:"\u5165\u7ad9\u8bf7\u6c42",id:"\u5165\u7ad9\u8bf7\u6c42",level:4},{value:"\u7ecf\u8fc7\u5ba1\u6838\u7684\u8bf7\u6c42",id:"\u7ecf\u8fc7\u5ba1\u6838\u7684\u8bf7\u6c42",level:4},{value:"\u6309 API \u5bc6\u94a5\u5f00\u5173\u79d8\u5bc6\u68c0\u6d4b",id:"\u6309-api-\u5bc6\u94a5\u5f00\u5173\u79d8\u5bc6\u68c0\u6d4b",level:3},{value:"\u5185\u5bb9\u5ba1\u6838",id:"\u5185\u5bb9\u5ba1\u6838",level:2},{value:"\u4f7f\u7528 LLM \u62a4\u680f\u7684\u5185\u5bb9\u5ba1\u6838",id:"\u4f7f\u7528-llm-\u62a4\u680f\u7684\u5185\u5bb9\u5ba1\u6838",level:3},{value:"\u6839\u636e\u5bc6\u94a5\u5f00\u5173",id:"\u6839\u636e\u5bc6\u94a5\u5f00\u5173",level:4},{value:"\u6839\u636e\u8bf7\u6c42\u5f00\u5173",id:"\u6839\u636e\u8bf7\u6c42\u5f00\u5173",level:4},{value:"\u4f7f\u7528 LlamaGuard \u7684\u5185\u5bb9\u5ba1\u6838",id:"\u4f7f\u7528-llamaguard-\u7684\u5185\u5bb9\u5ba1\u6838",level:3},{value:"\u81ea\u5b9a\u4e49 LlamaGuard \u63d0\u793a",id:"\u81ea\u5b9a\u4e49-llamaguard-\u63d0\u793a",level:4},{value:"\u4f7f\u7528 Google \u6587\u672c\u5ba1\u6838\u7684\u5185\u5bb9\u5ba1\u6838",id:"\u4f7f\u7528-google-\u6587\u672c\u5ba1\u6838\u7684\u5185\u5bb9\u5ba1\u6838",level:3},{value:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7f6e\u4fe1\u5ea6\u9608\u503c",id:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7f6e\u4fe1\u5ea6\u9608\u503c",level:4},{value:"\u8bbe\u7f6e\u5168\u5c40\u9ed8\u8ba4\u7f6e\u4fe1\u5ea6\u9608\u503c",id:"\u8bbe\u7f6e\u5168\u5c40\u9ed8\u8ba4\u7f6e\u4fe1\u5ea6\u9608\u503c",level:4},{value:"\u8bbe\u7f6e\u7c7b\u522b\u7279\u5b9a\u7684\u7f6e\u4fe1\u5ea6\u9608\u503c",id:"\u8bbe\u7f6e\u7c7b\u522b\u7279\u5b9a\u7684\u7f6e\u4fe1\u5ea6\u9608\u503c",level:4},{value:"Swagger \u6587\u6863 - \u81ea\u5b9a\u4e49\u8def\u7531 + \u54c1\u724c",id:"swagger-\u6587\u6863---\u81ea\u5b9a\u4e49\u8def\u7531--\u54c1\u724c",level:2},{value:"\u81ea\u5b9a\u4e49\u6807\u9898 + \u63cf\u8ff0",id:"\u81ea\u5b9a\u4e49\u6807\u9898--\u63cf\u8ff0",level:4},{value:"\u81ea\u5b9a\u4e49\u8def\u7531",id:"\u81ea\u5b9a\u4e49\u8def\u7531",level:4},{value:"\u542f\u7528\u963b\u6b62\u7528\u6237\u5217\u8868",id:"\u542f\u7528\u963b\u6b62\u7528\u6237\u5217\u8868",level:2},{value:"\u6d4b\u8bd5\u65b9\u6cd5",id:"\u6d4b\u8bd5\u65b9\u6cd5",level:3},{value:"\u901a\u8fc7 API \u4f7f\u7528",id:"\u901a\u8fc7-api-\u4f7f\u7528",level:3},{value:"\u542f\u7528\u7981\u6b62\u5173\u952e\u8bcd\u5217\u8868",id:"\u542f\u7528\u7981\u6b62\u5173\u952e\u8bcd\u5217\u8868",level:2},{value:"\u6d4b\u8bd5\u6b64\u529f\u80fd",id:"\u6d4b\u8bd5\u6b64\u529f\u80fd",level:3},{value:"\u516c\u5171 AI \u95e8\u6237",id:"\u516c\u5171-ai-\u95e8\u6237",level:2},{value:"[BETA] AWS \u5bc6\u94a5\u7ba1\u7406 - \u89e3\u5bc6\u5bc6\u94a5",id:"beta-aws-\u5bc6\u94a5\u7ba1\u7406---\u89e3\u5bc6\u5bc6\u94a5",level:2},{value:"\u8bbe\u7f6e\u6700\u5927\u8bf7\u6c42/\u54cd\u5e94\u5927\u5c0f\u9650\u5236\u5728 LiteLLM \u4ee3\u7406\u4e0a",id:"\u8bbe\u7f6e\u6700\u5927\u8bf7\u6c42\u54cd\u5e94\u5927\u5c0f\u9650\u5236\u5728-litellm-\u4ee3\u7406\u4e0a",level:2},{value:"\u4f7f\u7528\u65b9\u6cd5",id:"\u4f7f\u7528\u65b9\u6cd5",level:4}];function x(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"-\u4f01\u4e1a\u529f\u80fd",children:"\u2728 \u4f01\u4e1a\u529f\u80fd"})}),"\n",(0,r.jsx)(n.admonition,{title:"\u83b7\u53d6\u8bb8\u53ef\u8bc1",type:"tip",children:(0,r.jsxs)(n.p,{children:["\u8bf7\u8054\u7cfb\u6211\u4eec\u7684\u56e2\u961f\u83b7\u53d6\u8bb8\u53ef\u8bc1 ",(0,r.jsx)(n.a,{href:"https://calendly.com/d/4mp-gd3-k5k/litellm-1-1-onboarding-chat",children:"\u5728\u8fd9\u91cc"})]})}),"\n",(0,r.jsx)(n.p,{children:"\u7279\u6027\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u5b89\u5168"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.a,{href:"/docs/proxy/ui#%E2%9C%A8-%E4%BC%81%E4%B8%9A%E5%8A%9F%E8%83%BD",children:"SSO \u7ba1\u7406\u5458\u754c\u9762"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.a,{href:"#%E5%AE%A1%E8%AE%A1%E6%97%A5%E5%BF%97",children:"\u5e26\u6709\u4fdd\u7559\u7b56\u7565\u7684\u5ba1\u6838\u65e5\u5fd7"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.a,{href:"/docs/proxy/token_auth",children:"JWT \u8ba4\u8bc1"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.a,{href:"/docs/proxy/public_routes",children:"\u63a7\u5236\u516c\u5171\u548c\u79c1\u6709\u8def\u7531\u8bbf\u95ee\u6743\u9650"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.a,{href:"../secret",children:"\u79d8\u5bc6\u7ba1\u7406\u5668 - AWS \u5bc6\u94a5\u7ba1\u7406\u3001Google \u5bc6\u94a5\u7ba1\u7406\u3001Azure \u5bc6\u94a5\u3001Hashicorp \u963f\u5c14\u9ad8\u5821"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.a,{href:"#beta-aws-key-manager---key-decryption",children:"[BETA] AWS \u5bc6\u94a5\u7ba1\u7406 v2 - \u5bc6\u94a5\u89e3\u5bc6"})]}),"\n",(0,r.jsx)(n.li,{children:"\u2705 \u57fa\u4e8e IP \u5730\u5740\u7684\u8bbf\u95ee\u63a7\u5236\u5217\u8868"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 \u8ddf\u8e2a\u8bf7\u6c42 IP \u5730\u5740"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 [\u8bbe\u7f6e\u6700\u5927\u8bf7\u6c42/\u54cd\u5e94\u5927\u5c0f\u9650\u5236](#\u8bbe\u7f6e\u6700\u5927\u8bf7\u6c42/\u54cd\u5e94\u5927\u5c0f\u9650\u5236\u5728 litellm \u4ee3\u7406\u4e0a)"}),"\n",(0,r.jsx)(n.li,{children:'\u2705 [\u5f3a\u5236 LLM \u8bf7\u6c42\u6240\u9700\u53c2\u6570 (\u4f8b\u5982\uff0c\u62d2\u7edd\u7f3a\u5c11 ["metadata"]["generation_name"] \u7684\u8bf7\u6c42)](#\u5f3a\u5236 llm \u8bf7\u6c42\u6240\u9700\u7684\u53c2\u6570)'}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.a,{href:"/docs/proxy/virtual_keys#-%E5%AF%86%E9%92%A5%E8%BD%AE%E6%8D%A2",children:"\u5bc6\u94a5\u8f6e\u6362"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u81ea\u5b9a\u4e49\u65e5\u5fd7\u8bb0\u5f55\u3001\u62a4\u680f\u548c\u7f13\u5b58"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.a,{href:"/docs/proxy/team_logging",children:"\u57fa\u4e8e\u56e2\u961f\u7684\u65e5\u5fd7\u8bb0\u5f55"})," - \u5141\u8bb8\u6bcf\u4e2a\u56e2\u961f\u4f7f\u7528\u81ea\u5df1\u7684 Langfuse \u9879\u76ee/\u81ea\u5b9a\u4e49\u56de\u8c03"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.a,{href:"/docs/proxy/team_logging#%E7%A6%81%E7%94%A8%E5%9B%A2%E9%98%9F%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95",children:"\u7981\u7528\u56e2\u961f\u65e5\u5fd7\u8bb0\u5f55"})," - \u5173\u95ed\u6240\u6709\u56e2\u961f/\u9879\u76ee\u7684\u65e5\u5fd7\u8bb0\u5f55\uff08GDPR \u5408\u89c4\uff09"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u652f\u51fa\u8ddf\u8e2a\u4e0e\u6570\u636e\u5bfc\u51fa"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.a,{href:"./provider_budget_routing#-%E6%8C%89%E6%A0%87%E7%AD%BE%E8%AE%BE%E7%BD%AE%E9%A2%84%E7%AE%97",children:"\u8bbe\u7f6e\u7f8e\u5143\u9884\u7b97\u6807\u7b7e"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.a,{href:"./users#-%E8%99%9A%E6%8B%9F%E5%AF%86%E9%92%A5%E7%89%B9%E5%AE%9A%E6%A8%A1%E5%9E%8B",children:"\u4e3a\u865a\u62df\u5bc6\u94a5\u8bbe\u7f6e\u6a21\u578b\u9884\u7b97"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.a,{href:"../observability/gcs_bucket_integration",children:"\u5c06 LLM \u65e5\u5fd7\u5bfc\u51fa\u5230 GCS \u5b58\u50a8\u6876\u3001Azure \u5757\u5b58\u50a8"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 [",(0,r.jsx)(n.code,{children:"/spend/report"})," API \u7aef\u70b9](cost_tracking.md#\u2728 \u4f01\u4e1a api \u7aef\u70b9\u4ee5\u83b7\u53d6\u652f\u51fa)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u6309 API \u5bc6\u94a5/\u56e2\u961f\u63a7\u5236\u62a4\u680f"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u81ea\u5b9a\u4e49\u54c1\u724c"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.a,{href:"#swagger-docs---%E8%87%AA%E5%AE%9A%E4%B9%89%E8%B7%AF%E7%94%B1%E5%8F%8A%E5%93%81%E7%89%8C",children:"\u5728 Swagger \u6587\u6863\u4e2d\u81ea\u5b9a\u4e49\u8def\u7531\u548c\u54c1\u724c"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.a,{href:"/docs/proxy/email#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6%E5%93%81%E7%89%8C",children:"\u81ea\u5b9a\u4e49\u7535\u5b50\u90ae\u4ef6\u54c1\u724c"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u963b\u6b62\u7f51\u7edc\u722c\u866b",children:"\u963b\u6b62\u7f51\u7edc\u722c\u866b"}),"\n",(0,r.jsxs)(n.p,{children:["\u8981\u963b\u6b62\u7f51\u7edc\u722c\u866b\u7d22\u5f15\u4ee3\u7406\u670d\u52a1\u5668\u7aef\u70b9\uff0c\u8bf7\u5c06 ",(0,r.jsx)(n.code,{children:"block_robots"})," \u8bbe\u7f6e\u4e3a ",(0,r.jsx)(n.code,{children:"true"})," \u5728\u4f60\u7684 ",(0,r.jsx)(n.code,{children:"litellm_config.yaml"})," \u6587\u4ef6\u4e2d\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'showLineNumbers title="litellm_config.yaml"',children:'general_settings:\n  block_robots: true\n\n\n#### \u5de5\u4f5c\u539f\u7406\n\n\u542f\u7528\u6b64\u529f\u80fd\u540e\uff0c`/robots.txt` \u7aef\u70b9\u5c06\u8fd4\u56de\u4e00\u4e2a 200 \u72b6\u6001\u7801\uff0c\u5e76\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a\n\n```shell showLineNumbers title="robots.txt"\nUser-agent: *\nDisallow: /\n'})}),"\n",(0,r.jsx)(n.h3,{id:"llm-\u8bf7\u6c42\u6240\u9700\u7684\u53c2\u6570",children:"LLM \u8bf7\u6c42\u6240\u9700\u7684\u53c2\u6570"}),"\n",(0,r.jsxs)(n.p,{children:["\u5f53\u60a8\u5e0c\u671b\u5f3a\u5236\u6240\u6709\u8bf7\u6c42\u90fd\u5305\u62ec\u67d0\u4e9b\u53c2\u6570\u65f6\uff0c\u8bf7\u4f7f\u7528\u6b64\u529f\u80fd\u3002\u4f8b\u5982\uff0c\u9700\u8981\u6240\u6709\u8bf7\u6c42\u90fd\u5305\u542b ",(0,r.jsx)(n.code,{children:"user"})," \u548c ",(0,r.jsx)(n.code,{children:'["metadata"]["generation_name"]'})," \u53c2\u6570\u3002"]}),"\n",(0,r.jsxs)(d.A,{children:[(0,r.jsxs)(t.A,{value:"config",label:"\u5728\u914d\u7f6e\u4e2d\u8bbe\u7f6e",children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6b65\u9aa4 1"})," \u5728 ",(0,r.jsx)(n.code,{children:"config.yaml"})," \u4e2d\u5b9a\u4e49\u60a8\u5e0c\u671b\u5f3a\u5236\u6267\u884c\u7684\u6240\u6709\u53c2\u6570"]}),(0,r.jsxs)(n.p,{children:["\u8fd9\u610f\u5473\u7740 ",(0,r.jsx)(n.code,{children:'["user"]'})," \u548c ",(0,r.jsx)(n.code,{children:'["metadata"]["generation_name"]'})," \u90fd\u662f\u6240\u6709 LLM \u8bf7\u6c42\u5230 LiteLLM \u7684\u5fc5\u9700\u53c2\u6570\u3002"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"general_settings:\n  master_key: sk-1234\n  enforced_params:  \n    - user\n    - metadata.generation_name\n"})})]}),(0,r.jsx)(t.A,{value:"key",label:"\u5728\u5bc6\u94a5\u4e2d\u8bbe\u7f6e",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl -L -X POST 'http://0.0.0.0:4000/key/generate' \\\n-H 'Authorization: Bearer sk-1234' \\\n-H 'Content-Type: application/json' \\\n-d '{\n    \"enforced_params\": [\"user\", \"metadata.generation_name\"]\n}'\n"})})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u6b65\u9aa4 2 \u9a8c\u8bc1\u662f\u5426\u6709\u6548"})}),"\n",(0,r.jsxs)(d.A,{children:[(0,r.jsxs)(t.A,{value:"bad",label:"\u65e0\u6548\u8bf7\u6c42 (\u672a\u4f20\u9012 `user` \u53c2\u6570)",children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'curl --location \'http://localhost:4000/chat/completions\' \\\n    --header \'Authorization: Bearer sk-5fmYeaUEbAMpwBNT-QpxyA\' \\\n    --header \'Content-Type: application/json\' \\\n    --data \'{\n    "model": "gpt-3.5-turbo",\n    "messages": [\n        {\n        "role": "user",\n        "content": "hi"\n        }\n    ]\n}\'\n'})}),(0,r.jsx)(n.p,{children:"\u9884\u671f\u54cd\u5e94"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'{"error":{"message":"\u8ba4\u8bc1\u9519\u8bef\uff0c\u8bf7\u6c42\u4f53\u4e2d\u7f3a\u5c11\u53c2\u6570 user\uff0c\u8bf7\u4f20\u9012 param=user\u3002\u6b64\u4e3a\u5fc5\u9700\u53c2\u6570","type":"auth_error","param":"None","code":401}}% \n'})})]}),(0,r.jsxs)(t.A,{value:"bad2",label:"\u65e0\u6548\u8bf7\u6c42 (\u672a\u4f20\u9012 `metadata` \u53c2\u6570)",children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'curl --location \'http://localhost:4000/chat/completions\' \\\n    --header \'Authorization: Bearer sk-5fmYeaUEbAMpwBNT-QpxyA\' \\\n    --header \'Content-Type: application/json\' \\\n    --data \'{\n    "model": "gpt-3.5-turbo",\n    "user": "gm",\n    "messages": [\n        {\n        "role": "user",\n        "content": "hi"\n        }\n    ],\n   "metadata": {}\n}\'\n'})}),(0,r.jsx)(n.p,{children:"\u9884\u671f\u54cd\u5e94"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'{"error":{"message":"\u8ba4\u8bc1\u9519\u8bef\uff0c\u8bf7\u6c42\u4f53\u4e2d\u7f3a\u5c11\u53c2\u6570 [metadata][generation_name]\u3002\u6b64\u4e3a\u5fc5\u9700\u53c2\u6570","type":"auth_error","param":"None","code":401}}% \n'})})]}),(0,r.jsxs)(t.A,{value:"good",label:"\u6709\u6548\u8bf7\u6c42",children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'curl --location \'http://localhost:4000/chat/completions\' \\\n    --header \'Authorization: Bearer sk-5fmYeaUEbAMpwBNT-QpxyA\' \\\n    --header \'Content-Type: application/json\' \\\n    --data \'{\n    "model": "gpt-3.5-turbo",\n    "user": "gm",\n    "messages": [\n        {\n        "role": "user",\n        "content": "hi"\n        }\n    ],\n   "metadata": {"generation_name": "prod-app"}\n}\'\n'})}),(0,r.jsx)(n.p,{children:"\u9884\u671f\u54cd\u5e94"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'{"id":"chatcmpl-9XALnHqkCBMBKrOx7Abg0hURHqYtY","choices":[{"finish_reason":"stop","index":0,"message":{"content":"Hello! How can I assist you today?","role":"assistant"}}],"created":1717691639,"model":"gpt-3.5-turbo-0125","object":"chat.completion","system_fingerprint":null,"usage":{"completion_tokens":9,"prompt_tokens":8,"total_tokens":17}}%  \n'})})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u63a7\u5236\u516c\u5171\u548c\u79c1\u6709\u8def\u7531",children:"\u63a7\u5236\u516c\u5171\u548c\u79c1\u6709\u8def\u7531"}),"\n",(0,r.jsxs)(n.p,{children:["\u8bf7\u53c2\u9605 ",(0,r.jsx)(n.a,{href:"/docs/proxy/public_routes",children:"\u63a7\u5236\u516c\u5171\u4e0e\u79c1\u6709\u8def\u7531"})," \u4ee5\u4e86\u89e3\u914d\u7f6e\u516c\u5171\u8def\u7531\u3001\u7ba1\u7406\u5458\u4e13\u7528\u8def\u7531\u3001\u5141\u8bb8\u7684\u8def\u7531\u4ee5\u53ca\u901a\u914d\u7b26\u6a21\u5f0f\u7684\u8be6\u7ec6\u6587\u6863\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u652f\u51fa\u8ddf\u8e2a",children:"\u652f\u51fa\u8ddf\u8e2a"}),"\n",(0,r.jsx)(n.h4,{id:"\u6309\u6807\u7b7e\u67e5\u770b\u652f\u51fa",children:"\u6309\u6807\u7b7e\u67e5\u770b\u652f\u51fa"}),"\n",(0,r.jsxs)(n.h4,{id:"spendtags-\u8bf7\u6c42\u683c\u5f0f",children:[(0,r.jsx)(n.code,{children:"/spend/tags"})," \u8bf7\u6c42\u683c\u5f0f"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'curl -X GET "http://0.0.0.0:4000/spend/tags" \\\n-H "Authorization: Bearer sk-1234"\n'})}),"\n",(0,r.jsxs)(n.h4,{id:"spendtags-\u54cd\u5e94\u683c\u5f0f",children:[(0,r.jsx)(n.code,{children:"/spend/tags"})," \u54cd\u5e94\u683c\u5f0f"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'[\n  {\n    "individual_request_tag": "model-anthropic-claude-v2.1",\n    "log_count": 6,\n    "total_spend": 0.000672\n  },\n  {\n    "individual_request_tag": "app-ishaan-local",\n    "log_count": 4,\n    "total_spend": 0.000448\n  },\n  {\n    "individual_request_tag": "app-ishaan-prod",\n    "log_count": 2,\n    "total_spend": 0.000224\n  }\n]\n'})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["\u8981\u4e86\u89e3\u5305\u62ec\u9884\u7b97\u3001\u8b66\u62a5\u548c\u8be6\u7ec6\u5206\u6790\u5728\u5185\u7684\u5168\u9762\u652f\u51fa\u8ddf\u8e2a\u529f\u80fd\uff0c\u8bf7\u53c2\u9605 ",(0,r.jsx)(n.a,{href:"https://docs.litellm.ai/docs/proxy/cost_tracking",children:"\u652f\u51fa\u8ddf\u8e2a"}),"\u3002"]})}),"\n",(0,r.jsx)(n.h2,{id:"\u62a4\u680f---\u79d8\u5bc6\u68c0\u6d4b\u5c4f\u853d",children:"\u62a4\u680f - \u79d8\u5bc6\u68c0\u6d4b/\u5c4f\u853d"}),"\n",(0,r.jsx)(n.p,{children:"\u2753 \u4f7f\u7528\u6b64\u529f\u80fd\u6765\u5c4f\u853d LLM \u8bf7\u6c42\u4e2d\u53d1\u9001\u7684 API \u5bc6\u94a5\u548c\u5176\u4ed6\u654f\u611f\u4fe1\u606f\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u60f3\u5c4f\u853d\u4ee5\u4e0b\u8bf7\u6c42\u4e2d\u7684 ",(0,r.jsx)(n.code,{children:"OPENAI_API_KEY"})," \u503c"]}),"\n",(0,r.jsx)(n.h4,{id:"\u5165\u7ad9\u8bf7\u6c42",children:"\u5165\u7ad9\u8bf7\u6c42"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "messages": [\n        {\n            "role": "user",\n            "content": "Hey, how\'s it going, API_KEY = \'sk_1234567890abcdef\'",\n        }\n    ]\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"\u7ecf\u8fc7\u5ba1\u6838\u7684\u8bf7\u6c42",children:"\u7ecf\u8fc7\u5ba1\u6838\u7684\u8bf7\u6c42"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "messages": [\n        {\n            "role": "user",\n            "content": "Hey, how\'s it going, API_KEY = \'[REDACTED]\'",\n        }\n    ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u4f7f\u7528\u65b9\u6cd5"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6b65\u9aa4 1"})," \u5c06\u6b64\u5185\u5bb9\u6dfb\u52a0\u5230 ",(0,r.jsx)(n.code,{children:"config.yaml"})," \u4e2d"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'litellm_settings:\n  callbacks: ["hide_secrets"]\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6b65\u9aa4 2"})," \u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"--detailed_debug"})," \u542f\u52a8 litellm \u4ee3\u7406\u4ee5\u67e5\u770b\u670d\u52a1\u5668\u65e5\u5fd7"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"litellm --config config.yaml --detailed_debug\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6b65\u9aa4 3"})," \u6d4b\u8bd5\u8bf7\u6c42"]}),"\n",(0,r.jsx)(n.p,{children:"\u53d1\u9001\u6b64\u8bf7\u6c42"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'curl --location \'http://localhost:4000/chat/completions\' \\\n    --header \'Authorization: Bearer sk-1234\' \\\n    --header \'Content-Type: application/json\' \\\n    --data \'{\n    "model": "llama3",\n    "messages": [\n        {\n        "role": "user",\n        "content": "what is the value of my open ai key? openai_api_key=sk-1234998222"\n        }\n    ]\n}\'\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u9884\u671f\u5728\u60a8\u7684 litellm \u670d\u52a1\u5668\u65e5\u5fd7\u4e2d\u770b\u5230\u4ee5\u4e0b\u8b66\u544a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"LiteLLM Proxy:WARNING: secret_detection.py:88 - Detected and redacted secrets in message: ['Secret Keyword']\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u60a8\u8fd8\u53ef\u4ee5\u67e5\u770b\u4ece litellm \u53d1\u9001\u5230 API \u63d0\u4f9b\u5546\u7684\u539f\u59cb\u8bf7\u6c42"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'POST \u8bf7\u6c42\u53d1\u9001\u81ea LiteLLM:\ncurl -X POST \\\nhttps://api.groq.com/openai/v1/ \\\n-H \'Authorization: Bearer gsk_mySVchjY********************************************\' \\\n-d {\n  "model": "llama3-8b-8192",\n  "messages": [\n    {\n      "role": "user",\n      "content": "what is the time today, openai_api_key=[REDACTED]"\n    }\n  ],\n  "stream": false,\n  "extra_body": {}\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u6309-api-\u5bc6\u94a5\u5f00\u5173\u79d8\u5bc6\u68c0\u6d4b",children:"\u6309 API \u5bc6\u94a5\u5f00\u5173\u79d8\u5bc6\u68c0\u6d4b"}),"\n",(0,r.jsx)(n.p,{children:"\u2753 \u5f53\u60a8\u9700\u8981\u5728\u6bcf\u4e2a API \u5bc6\u94a5\u4e0a\u5207\u6362\u62a4\u680f\u65f6\uff0c\u8bf7\u4f7f\u7528\u6b64\u529f\u80fd\u3002"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6b65\u9aa4 1"})," \u521b\u5efa\u5bc6\u94a5\u5e76\u5173\u95ed ",(0,r.jsx)(n.code,{children:"hide_secrets"})]}),"\n",(0,r.jsxs)(n.p,{children:["\ud83d\udc49 \u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"/key/generate"})," \u6216 ",(0,r.jsx)(n.code,{children:"/key/update"})," \u8bbe\u7f6e ",(0,r.jsx)(n.code,{children:'"permissions": {"hide_secrets": false}'})]}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u610f\u5473\u7740\u6240\u6709\u6765\u81ea\u6b64 API \u5bc6\u94a5\u7684\u8bf7\u6c42\u90fd\u4e0d\u4f1a\u8fdb\u884c ",(0,r.jsx)(n.code,{children:"hide_secrets"})," \u62a4\u680f\u68c0\u67e5"]}),"\n",(0,r.jsxs)(d.A,{children:[(0,r.jsxs)(t.A,{value:"/key/generate",label:"/key/generate",children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"curl --location 'http://0.0.0.0:4000/key/generate' \\\n    --header 'Authorization: Bearer sk-1234' \\\n    --header 'Content-Type: application/json' \\\n    --data '{\n        \"permissions\": {\"hide_secrets\": false}\n}'\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'# {"permissions":{"hide_secrets":false},"key":"sk-jNm1Zar7XfNdZXp49Z1kSQ"}  \n'})})]}),(0,r.jsxs)(t.A,{value:"/key/update",label:"/key/update",children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"curl --location 'http://0.0.0.0:4000/key/update' \\\n    --header 'Authorization: Bearer sk-1234' \\\n    --header 'Content-Type: application/json' \\\n    --data '{\n        \"key\": \"sk-jNm1Zar7XfNdZXp49Z1kSQ\",\n        \"permissions\": {\"hide_secrets\": false}\n}'\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'# {"permissions":{"hide_secrets":false},"key":"sk-jNm1Zar7XfNdZXp49Z1kSQ"}  \n'})})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6b65\u9aa4 2"})," \u4f7f\u7528\u65b0\u5bc6\u94a5\u8fdb\u884c\u6d4b\u8bd5"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'curl --location \'http://0.0.0.0:4000/chat/completions\' \\\n    --header \'Authorization: Bearer sk-jNm1Zar7XfNdZXp49Z1kSQ\' \\\n    --header \'Content-Type: application/json\' \\\n    --data \'{\n    "model": "llama3",\n    "messages": [\n        {\n        "role": "user",\n        "content": "does my openai key look well formatted OpenAI_API_KEY=sk-1234777"\n        }\n    ]\n}\'\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u9884\u671f\u5728\u670d\u52a1\u5668\u65e5\u5fd7\u4e2d\u770b\u5230 ",(0,r.jsx)(n.code,{children:"sk-1234777"}),"\u3002"]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["\u6b64\u8bf7\u6c42\u4e0a\u7684 ",(0,r.jsx)(n.code,{children:"hide_secrets"})," \u62a4\u680f\u68c0\u67e5\u672a\u8fd0\u884c\uff0c\u56e0\u4e3a api key \u4e3a ",(0,r.jsx)(n.code,{children:"sk-jNm1Zar7XfNdZXp49Z1kSQ"})," \u7684\u6743\u9650\u8bbe\u7f6e\u4e3a ",(0,r.jsx)(n.code,{children:'"permissions": {"hide_secrets": false}'})]})}),"\n",(0,r.jsx)(n.h2,{id:"\u5185\u5bb9\u5ba1\u6838",children:"\u5185\u5bb9\u5ba1\u6838"}),"\n",(0,r.jsx)(n.h3,{id:"\u4f7f\u7528-llm-\u62a4\u680f\u7684\u5185\u5bb9\u5ba1\u6838",children:"\u4f7f\u7528 LLM \u62a4\u680f\u7684\u5185\u5bb9\u5ba1\u6838"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u60a8\u7684\u73af\u5883\u4e2d\u8bbe\u7f6e LLM \u62a4\u680f API \u57fa\u7840\u5730\u5740"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:'LLM_GUARD_API_BASE = "http://0.0.0.0:8192" # \u90e8\u7f72\u7684 llm \u62a4\u680f api\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u5c06 ",(0,r.jsx)(n.code,{children:"llmguard_moderations"})," \u6dfb\u52a0\u4e3a\u56de\u8c03"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'litellm_settings:\n    callbacks: ["llmguard_moderations"]\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u73b0\u5728\u53ef\u4ee5\u8f7b\u677e\u6d4b\u8bd5\u5b83"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u901a\u8fc7\u5e38\u89c4 ",(0,r.jsx)(n.code,{children:"/chat/completion"})," \u8c03\u7528\u8fdb\u884c\u8c03\u7528"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u68c0\u67e5\u4ee3\u7406\u65e5\u5fd7\u4e2d\u662f\u5426\u6709\u5305\u542b ",(0,r.jsx)(n.code,{children:"LLM Guard:"})," \u7684\u9648\u8ff0\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u9884\u671f\u7ed3\u679c\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'LLM Guard: \u6536\u5230\u54cd\u5e94 - {"sanitized_prompt": "hello world", "is_valid": true, "scanners": { "Regex": 0.0 }}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"\u6839\u636e\u5bc6\u94a5\u5f00\u5173",children:"\u6839\u636e\u5bc6\u94a5\u5f00\u5173"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"1. \u66f4\u65b0\u914d\u7f6e"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'litellm_settings:\n    callbacks: ["llmguard_moderations"]\n    llm_guard_mode: "key-specific"\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"2. \u521b\u5efa\u65b0\u5bc6\u94a5"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl --location 'http://localhost:4000/key/generate' \\\n--header 'Authorization: Bearer sk-1234' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"models\": [\"fake-openai-endpoint\"],\n    \"permissions\": {\n        \"enable_llm_guard_check\": true # \ud83d\udc48 \u5bc6\u94a5\u66f4\u6539\n    }\n}'\n\n# \u8fd4\u56de {..'key': 'my-new-key'}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"3. \u6d4b\u8bd5\u5b83\uff01"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl --location \'http://0.0.0.0:4000/v1/chat/completions\' \\\n--header \'Content-Type: application/json\' \\\n--header \'Authorization: Bearer my-new-key\' \\ # \ud83d\udc48 \u6d4b\u8bd5\u5bc6\u94a5\n--data \'{"model": "fake-openai-endpoint", "messages": [\n        {"role": "system", "content": "Be helpful"},\n        {"role": "user", "content": "What do you know?"}\n    ]\n    }\'\n'})}),"\n",(0,r.jsx)(n.h4,{id:"\u6839\u636e\u8bf7\u6c42\u5f00\u5173",children:"\u6839\u636e\u8bf7\u6c42\u5f00\u5173"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"1. \u66f4\u65b0\u914d\u7f6e"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'litellm_settings:\n    callbacks: ["llmguard_moderations"]\n    llm_guard_mode: "request-specific"\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"2. \u521b\u5efa\u65b0\u5bc6\u94a5"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl --location 'http://localhost:4000/key/generate' \\\n--header 'Authorization: Bearer sk-1234' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"models\": [\"fake-openai-endpoint\"],\n}'\n\n# \u8fd4\u56de {..'key': 'my-new-key'}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"3. \u6d4b\u8bd5\u5b83\uff01"})}),"\n",(0,r.jsxs)(d.A,{children:[(0,r.jsx)(t.A,{value:"openai",label:"OpenAI Python v1.0.0+",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import openai\nclient = openai.OpenAI(\n    api_key="sk-1234",\n    base_url="http://0.0.0.0:4000"\n)\n\n# \u8bf7\u6c42\u53d1\u9001\u5230\u7531 litellm \u4ee3\u7406\u8bbe\u7f6e\u7684\u6a21\u578b `litellm --model`\nresponse = client.chat.completions.create(\n    model="gpt-3.5-turbo",\n    messages = [\n        {\n            "role": "user",\n            "content": "this is a test request, write a short poem"\n        }\n    ],\n    extra_body={ # \u4f20\u9012\u4efb\u4f55\u63d0\u4f9b\u65b9\u7279\u5b9a\u7684\u53c2\u6570\uff0c\u5982\u679c\u4e0d\u53d7 OpenAI \u652f\u6301\uff0c\u8bf7\u53c2\u9605 https://docs.litellm.ai/docs/completion/input#provider-specific-params\n        "metadata": {\n            "permissions": {\n                "enable_llm_guard_check": True # \ud83d\udc48 \u5bc6\u94a5\u66f4\u6539\n            },\n        }\n    }\n)\n\nprint(response)\n'})})}),(0,r.jsx)(t.A,{value:"curl",label:"Curl \u8bf7\u6c42",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl --location \'http://0.0.0.0:4000/v1/chat/completions\' \\\n--header \'Content-Type: application/json\' \\\n--header \'Authorization: Bearer my-new-key\' \\ # \ud83d\udc48 \u6d4b\u8bd5\u5bc6\u94a5\n--data \'{"model": "fake-openai-endpoint", "messages": [\n        {"role": "system", "content": "Be helpful"},\n        {"role": "user", "content": "What do you know?"}\n    ]\n    }\'\n'})})})]}),"\n",(0,r.jsx)(n.h3,{id:"\u4f7f\u7528-llamaguard-\u7684\u5185\u5bb9\u5ba1\u6838",children:"\u4f7f\u7528 LlamaGuard \u7684\u5185\u5bb9\u5ba1\u6838"}),"\n",(0,r.jsx)(n.p,{children:"\u76ee\u524d\u4e0e SageMaker \u7684 LlamaGuard \u7aef\u70b9\u517c\u5bb9\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u8981\u5728 ",(0,r.jsx)(n.code,{children:"config.yaml"})," \u4e2d\u542f\u7528\u6b64\u529f\u80fd\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'litellm_settings:\n   callbacks: ["llamaguard_moderations"]\n   llamaguard_model_name: "sagemaker/jumpstart-dft-meta-textgeneration-llama-guard-7b"\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u786e\u4fdd\u60a8\u7684\u73af\u5883\u4e2d\u5305\u542b\u76f8\u5173\u5bc6\u94a5\uff0c\u4f8b\u5982\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'os.environ["AWS_ACCESS_KEY_ID"] = ""\nos.environ["AWS_SECRET_ACCESS_KEY"] = ""\nos.environ["AWS_REGION_NAME"] = ""\n'})}),"\n",(0,r.jsx)(n.h4,{id:"\u81ea\u5b9a\u4e49-llamaguard-\u63d0\u793a",children:"\u81ea\u5b9a\u4e49 LlamaGuard \u63d0\u793a"}),"\n",(0,r.jsxs)(n.p,{children:["\u8981\u4fee\u6539 LlamaGuard \u8bc4\u4f30\u7684\u4e0d\u5b89\u5168\u7c7b\u522b\uff0c\u8bf7\u521b\u5efa\u60a8\u81ea\u5df1\u7684 ",(0,r.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/blob/main/litellm/proxy/llamaguard_prompt.txt",children:"\u6b64\u63d0\u793a\u5217\u8868"})]}),"\n",(0,r.jsx)(n.p,{children:"\u5c06\u4ee3\u7406\u6307\u5411\u5b83"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'callbacks: ["llamaguard_moderations"]\n  llamaguard_model_name: "sagemaker/jumpstart-dft-meta-textgeneration-llama-guard-7b"\n  llamaguard_unsafe_content_categories: /path/to/llamaguard_prompt.txt\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u4f7f\u7528-google-\u6587\u672c\u5ba1\u6838\u7684\u5185\u5bb9\u5ba1\u6838",children:"\u4f7f\u7528 Google \u6587\u672c\u5ba1\u6838\u7684\u5185\u5bb9\u5ba1\u6838"}),"\n",(0,r.jsxs)(n.p,{children:["\u9700\u8981\u5728 ",(0,r.jsx)(n.code,{children:".env"})," \u4e2d\u8bbe\u7f6e ",(0,r.jsx)(n.code,{children:"GOOGLE_APPLICATION_CREDENTIALS"})," (\u4e0e VertexAI \u76f8\u540c)\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u8981\u5728 ",(0,r.jsx)(n.code,{children:"config.yaml"})," \u4e2d\u542f\u7528\u6b64\u529f\u80fd\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'litellm_settings:\n   callbacks: ["google_text_moderation"]\n'})}),"\n",(0,r.jsx)(n.h4,{id:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7f6e\u4fe1\u5ea6\u9608\u503c",children:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7f6e\u4fe1\u5ea6\u9608\u503c"}),"\n",(0,r.jsxs)(n.p,{children:["Google \u5ba1\u6838\u68c0\u67e5\u6d4b\u8bd5\u7684\u591a\u4e2a\u7c7b\u522b\u3002",(0,r.jsx)(n.a,{href:"https://cloud.google.com/natural-language/docs/moderating-text#safety_attribute_confidence_scores",children:"\u6765\u6e90"})]}),"\n",(0,r.jsx)(n.h4,{id:"\u8bbe\u7f6e\u5168\u5c40\u9ed8\u8ba4\u7f6e\u4fe1\u5ea6\u9608\u503c",children:"\u8bbe\u7f6e\u5168\u5c40\u9ed8\u8ba4\u7f6e\u4fe1\u5ea6\u9608\u503c"}),"\n",(0,r.jsxs)(n.p,{children:["\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a 0.8\uff0c\u4f46\u53ef\u4ee5\u5728 ",(0,r.jsx)(n.code,{children:"config.yaml"})," \u4e2d\u8986\u76d6\u6b64\u8bbe\u7f6e\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"litellm_settings: \n    google_moderation_confidence_threshold: 0.4 \n"})}),"\n",(0,r.jsx)(n.h4,{id:"\u8bbe\u7f6e\u7c7b\u522b\u7279\u5b9a\u7684\u7f6e\u4fe1\u5ea6\u9608\u503c",children:"\u8bbe\u7f6e\u7c7b\u522b\u7279\u5b9a\u7684\u7f6e\u4fe1\u5ea6\u9608\u503c"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728 ",(0,r.jsx)(n.code,{children:"config.yaml"})," \u4e2d\u8bbe\u7f6e\u7c7b\u522b\u7279\u5b9a\u7684\u7f6e\u4fe1\u5ea6\u9608\u503c\u3002\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\uff0c\u5219\u4f7f\u7528\u5168\u5c40\u9ed8\u8ba4\u503c\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"litellm_settings: \n    toxic_confidence_threshold: 0.1\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4ee5\u4e0b\u662f\u7c7b\u522b\u7279\u5b9a\u503c\uff1a"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u7c7b\u522b"}),(0,r.jsx)(n.th,{children:"\u8bbe\u7f6e"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:'"toxic"'}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"toxic_confidence_threshold: 0.1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:'"insult"'}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"insult_confidence_threshold: 0.1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:'"profanity"'}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"profanity_confidence_threshold: 0.1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:'"derogatory"'}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"derogatory_confidence_threshold: 0.1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:'"sexual"'}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sexual_confidence_threshold: 0.1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:'"death_harm_and_tragedy"'}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"death_harm_and_tragedy_threshold: 0.1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:'"violent"'}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"violent_threshold: 0.1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:'"firearms_and_weapons"'}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"firearms_and_weapons_threshold: 0.1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:'"public_safety"'}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"public_safety_threshold: 0.1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:'"health"'}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"health_threshold: 0.1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:'"religion_and_belief"'}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"religion_and_belief_threshold: 0.1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:'"illicit_drugs"'}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"illicit_drugs_threshold: 0.1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:'"war_and_conflict"'}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"war_and_conflict_threshold: 0.1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:'"politics"'}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"politics_threshold: 0.1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:'"finance"'}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"finance_threshold: 0.1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:'"legal"'}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"legal_threshold: 0.1"})})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"swagger-\u6587\u6863---\u81ea\u5b9a\u4e49\u8def\u7531--\u54c1\u724c",children:"Swagger \u6587\u6863 - \u81ea\u5b9a\u4e49\u8def\u7531 + \u54c1\u724c"}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsx)(n.mdxAdmonitionTitle,{}),(0,r.jsxs)(n.p,{children:["\u9700\u8981\u4f7f\u7528 LiteLLM \u4f01\u4e1a\u5bc6\u94a5\u3002\u5728\u6b64\u5904\u83b7\u53d6\u514d\u8d39\u4e24\u5468\u8bd5\u7528\u7248 ",(0,r.jsx)(n.a,{href:"https://forms.gle/sTDVprBs18M4V8Le8",children:"https://forms.gle/sTDVprBs18M4V8Le8"})]})]}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u60a8\u7684\u73af\u5883\u4e2d\u8bbe\u7f6e LiteLLM \u5bc6\u94a5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'LITELLM_LICENSE=""\n'})}),"\n",(0,r.jsx)(n.h4,{id:"\u81ea\u5b9a\u4e49\u6807\u9898--\u63cf\u8ff0",children:"\u81ea\u5b9a\u4e49\u6807\u9898 + \u63cf\u8ff0"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u60a8\u7684\u73af\u5883\u4e2d\u8bbe\u7f6e\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'DOCS_TITLE="TotalGPT"\nDOCS_DESCRIPTION="Sample Company Description"\n'})}),"\n",(0,r.jsx)(n.h4,{id:"\u81ea\u5b9a\u4e49\u8def\u7531",children:"\u81ea\u5b9a\u4e49\u8def\u7531"}),"\n",(0,r.jsx)(n.p,{children:"\u9690\u85cf\u7528\u6237\u65e0\u6cd5\u8bbf\u95ee\u7684\u7ba1\u7406\u5458\u8def\u7531\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u60a8\u7684\u73af\u5883\u4e2d\u8bbe\u7f6e\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'DOCS_FILTERED="True" # \u53ea\u663e\u793a openai \u8def\u7531\u7ed9\u7528\u6237\n'})}),"\n",(0,r.jsx)(i.A,{img:s(38310),style:{width:"900px",height:"auto"}}),"\n",(0,r.jsx)(n.h2,{id:"\u542f\u7528\u963b\u6b62\u7528\u6237\u5217\u8868",children:"\u542f\u7528\u963b\u6b62\u7528\u6237\u5217\u8868"}),"\n",(0,r.jsx)(n.p,{children:"\u5982\u679c\u4efb\u4f55\u5e26\u6709\u6b64\u7528\u6237 ID \u7684\u8c03\u7528\u53d1\u9001\u5230\u4ee3\u7406\uff0c\u5c06\u88ab\u62d2\u7edd - \u5982\u679c\u60a8\u5e0c\u671b\u5141\u8bb8\u7528\u6237\u9000\u51fa AI \u529f\u80fd\uff0c\u8bf7\u4f7f\u7528\u6b64\u529f\u80fd\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'litellm_settings: \n     callbacks: ["blocked_user_check"] \n     blocked_user_list: ["user_id_1", "user_id_2", ...]  # \u4e5f\u53ef\u4ee5\u662f .txt \u6587\u4ef6\u8def\u5f84 e.g. `/relative/path/blocked_list.txt` \n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u6d4b\u8bd5\u65b9\u6cd5",children:"\u6d4b\u8bd5\u65b9\u6cd5"}),"\n",(0,r.jsxs)(d.A,{children:[(0,r.jsxs)(t.A,{value:"openai",label:"OpenAI Python v1.0.0+",children:[(0,r.jsxs)(n.p,{children:["\u8bbe\u7f6e ",(0,r.jsx)(n.code,{children:"user=<user_id>"})," \u4e3a\u53ef\u80fd\u5df2\u9000\u51fa AI \u529f\u80fd\u7684\u7528\u6237 ID\u3002"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import openai\nclient = openai.OpenAI(\n    api_key="sk-1234",\n    base_url="http://0.0.0.0:4000"\n)\n\n# \u8bf7\u6c42\u53d1\u9001\u5230\u7531 litellm \u4ee3\u7406\u8bbe\u7f6e\u7684\u6a21\u578b `litellm --model`\nresponse = client.chat.completions.create(\n    model="gpt-3.5-turbo",\n    messages = [\n        {\n            "role": "user",\n            "content": "this is a test request, write a short poem"\n        }\n    ],\n    user="user_id_1"\n)\n\nprint(response)\n'})})]}),(0,r.jsx)(t.A,{value:"Curl",label:"Curl \u8bf7\u6c42",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl --location \'http://0.0.0.0:4000/chat/completions\' \\\n--header \'Content-Type: application/json\' \\\n--data \' {\n      "model": "gpt-3.5-turbo",\n      "messages": [\n        {\n          "role": "user",\n          "content": "what llm are you"\n        }\n      ],\n      "user": "user_id_1" # \u8fd9\u4e5f\u662f OpenAI \u652f\u6301\u7684\u53c2\u6570 \n    }\n\'\n'})})})]}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsx)(n.mdxAdmonitionTitle,{}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/issues/new/choose",children:"\u63d0\u51fa\u6539\u8fdb\u5efa\u8bae"})})]}),"\n",(0,r.jsx)(n.h3,{id:"\u901a\u8fc7-api-\u4f7f\u7528",children:"\u901a\u8fc7 API \u4f7f\u7528"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u963b\u6b62\u6240\u6709\u5ba2\u6237 ID \u7684\u8c03\u7528"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'curl -X POST "http://0.0.0.0:4000/customer/block" \\\n-H "Authorization: Bearer sk-1234" \\ \n-D \'{\n"user_ids": [<user_id>, ...] \n}\'\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u89e3\u9664\u7528\u6237 ID \u7684\u963b\u6b62\u8c03\u7528"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'curl -X POST "http://0.0.0.0:4000/user/unblock" \\\n-H "Authorization: Bearer sk-1234" \\ \n-D \'{\n"user_ids": [<user_id>, ...] \n}\'\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u542f\u7528\u7981\u6b62\u5173\u952e\u8bcd\u5217\u8868",children:"\u542f\u7528\u7981\u6b62\u5173\u952e\u8bcd\u5217\u8868"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'litellm_settings: \n     callbacks: ["banned_keywords"]\n     banned_keywords_list: ["hello"] # \u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a .txt \u6587\u4ef6 - e.g.: `/relative/path/keywords.txt`\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u6d4b\u8bd5\u6b64\u529f\u80fd",children:"\u6d4b\u8bd5\u6b64\u529f\u80fd"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl --location \'http://0.0.0.0:4000/chat/completions\' \\\n--header \'Content-Type: application/json\' \\\n--data \' {\n      "model": "gpt-3.5-turbo",\n      "messages": [\n        {\n          "role": "user",\n          "content": "Hello world!"\n        }\n      ]\n    }\n\'\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u516c\u5171-ai-\u95e8\u6237",children:"\u516c\u5171 AI \u95e8\u6237"}),"\n",(0,r.jsx)(n.p,{children:"\u5206\u4eab\u53ef\u4f9b\u7528\u6237\u4f7f\u7528\u7684\u53ef\u7528\u6a21\u578b\u548c\u4ee3\u7406\u9875\u9762"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/proxy/ai_hub",children:"\u4e86\u89e3\u66f4\u591a"})}),"\n",(0,r.jsx)(i.A,{img:s(38927),style:{width:"900px",height:"auto"}}),"\n",(0,r.jsx)(n.h2,{id:"beta-aws-\u5bc6\u94a5\u7ba1\u7406---\u89e3\u5bc6\u5bc6\u94a5",children:"[BETA] AWS \u5bc6\u94a5\u7ba1\u7406 - \u89e3\u5bc6\u5bc6\u94a5"}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u662f\u4e00\u4e2a beta \u7279\u6027\uff0c\u53ef\u80fd\u4f1a\u6709\u6240\u66f4\u6539\u3002"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6b65\u9aa4 1."})," \u5728\u73af\u5883\u53d8\u91cf\u4e2d\u6dfb\u52a0 ",(0,r.jsx)(n.code,{children:"USE_AWS_KMS"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:'USE_AWS_KMS="True"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6b65\u9aa4 2."})," \u5c06 ",(0,r.jsx)(n.code,{children:"LITELLM_SECRET_AWS_KMS_"})," \u6dfb\u52a0\u5230\u52a0\u5bc6\u5bc6\u94a5\u7684\u73af\u5883\u4e2d"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:'LITELLM_SECRET_AWS_KMS_DATABASE_URL="AQICAH.."\n'})}),"\n",(0,r.jsxs)(n.p,{children:["LiteLLM \u4f1a\u627e\u5230\u8fd9\u4e2a\u5e76\u4f7f\u7528\u89e3\u5bc6\u540e\u7684 ",(0,r.jsx)(n.code,{children:'DATABASE_URL="postgres://.."'})," \u503c\u5728\u8fd0\u884c\u65f6\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6b65\u9aa4 3."})," \u542f\u52a8\u4ee3\u7406"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$ litellm\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5de5\u4f5c\u539f\u7406\uff1f"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5728\u670d\u52a1\u5668\u542f\u52a8\u4e4b\u524d\uff0c\u5bc6\u94a5\u89e3\u5bc6\u8fd0\u884c\u3002 ",(0,r.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/blob/8571cb45e80cc561dc34bc6aa89611eb96b9fe3e/litellm/proxy/proxy_cli.py#L445",children:(0,r.jsx)(n.strong,{children:"\u4ee3\u7801"})})]}),"\n",(0,r.jsxs)(n.li,{children:["\u5b83\u5c06\u89e3\u5bc6\u540e\u7684\u503c\u6dfb\u52a0\u5230 ",(0,r.jsx)(n.code,{children:"os.environ"})," \u4e2d\u4f9b Python \u8fdb\u7a0b\u4f7f\u7528\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6ce8\u610f\uff1a"})," \u5728 Python \u811a\u672c\u4e2d\u901a\u8fc7 os.environ \u8bbe\u7f6e\u7684\u73af\u5883\u53d8\u91cf\u4e0d\u4f1a\u4f7f\u8be5\u53d8\u91cf\u5728 SSH \u4f1a\u8bdd\u6216\u4efb\u4f55\u72ec\u7acb\u4e8e Python \u811a\u672c\u542f\u52a8\u7684\u65b0\u8fdb\u7a0b\u4e2d\u53ef\u8bbf\u95ee\u3002\u4ec5\u5f53\u524d\u8fdb\u7a0b\u53ca\u5176\u5b50\u8fdb\u7a0b\u53d7\u6b64\u5f71\u54cd\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u8bbe\u7f6e\u6700\u5927\u8bf7\u6c42\u54cd\u5e94\u5927\u5c0f\u9650\u5236\u5728-litellm-\u4ee3\u7406\u4e0a",children:"\u8bbe\u7f6e\u6700\u5927\u8bf7\u6c42/\u54cd\u5e94\u5927\u5c0f\u9650\u5236\u5728 LiteLLM \u4ee3\u7406\u4e0a"}),"\n",(0,r.jsx)(n.p,{children:"\u5982\u679c\u60a8\u5e0c\u671b\u4e3a\u60a8\u7684\u4ee3\u7406\u670d\u52a1\u5668\u8bbe\u7f6e\u6700\u5927\u8bf7\u6c42/\u54cd\u5e94\u5927\u5c0f\u9650\u5236\uff0c\u8bf7\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u5982\u679c\u8bf7\u6c42\u5927\u5c0f\u8d85\u8fc7\u8bbe\u5b9a\u503c\u5219\u4f1a\u88ab\u62d2\u7edd\u5e76\u89e6\u53d1 Slack \u8b66\u62a5\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"\u4f7f\u7528\u65b9\u6cd5",children:"\u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6b65\u9aa4 1."})," \u8bbe\u7f6e ",(0,r.jsx)(n.code,{children:"max_request_size_mb"})," \u548c ",(0,r.jsx)(n.code,{children:"max_response_size_mb"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5bf9\u4e8e\u8fd9\u4e2a\u793a\u4f8b\uff0c\u6211\u4eec\u5c06 ",(0,r.jsx)(n.code,{children:"max_request_size_mb"})," \u7684\u8bbe\u7f6e\u8bbe\u5f97\u5f88\u4f4e\uff0c\u671f\u671b\u5b83\u4f1a\u56e0\u4e3a\u8d85\u51fa\u9650\u5236\u800c\u88ab\u62d2\u7edd"]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u6211\u4eec\u5efa\u8bae\u5c06 ",(0,r.jsx)(n.code,{children:"max_request_size_mb"})," / ",(0,r.jsx)(n.code,{children:"max_response_size_mb"})," \u8bbe\u7f6e\u4e3a\u7ea6 32 MB\u3002"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"model_list:\n  - model_name: fake-openai-endpoint\n    litellm_params:\n      model: openai/fake\n      api_key: fake-key\n      api_base: https://exampleopenaiendpoint-production.up.railway.app/\ngeneral_settings: \n  master_key: sk-1234\n\n  # \u5b89\u5168\u63a7\u5236\n  max_request_size_mb: 0.000000001 # \ud83d\udc48 \u5173\u952e\u66f4\u6539 - \u8bbe\u7f6e\u6700\u5927\u8bf7\u6c42\u5927\u5c0f\uff08\u4ee5 MB \u8ba1\uff09\u3002\u6d4b\u8bd5\u65f6\u5c06\u5176\u8bbe\u5f97\u5f88\u4f4e\u3002 \n  max_response_size_mb: 100 # \ud83d\udc48 \u5173\u952e\u66f4\u6539 - \u6700\u5927\u54cd\u5e94\u5927\u5c0f\uff08\u4ee5 MB \u8ba1\uff09\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6b65\u9aa4 2."})," \u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"/chat/completions"})," \u8bf7\u6c42\u8fdb\u884c\u6d4b\u8bd5"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'curl http://localhost:4000/v1/chat/completions \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer sk-1234" \\\n  -d \'{\n    "model": "fake-openai-endpoint",\n    "messages": [\n      {"role": "user", "content": "Hello, Claude!"}\n    ]\n  }\'\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u9884\u671f\u54cd\u5e94"}),"\n\u6211\u4eec\u671f\u671b\u6b64\u8bf7\u6c42\u4f1a\u5931\u8d25\uff0c\u56e0\u4e3a\u8bf7\u6c42\u5927\u5c0f\u8d85\u8fc7\u4e86 ",(0,r.jsx)(n.code,{children:"max_request_size_mb"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'{"error":{"message":"\u8bf7\u6c42\u5927\u5c0f\u8fc7\u5927\u3002\u8bf7\u6c42\u5927\u5c0f\u4e3a0.0001125335693359375 MB\u3002\u6700\u5927\u5927\u5c0f\u662f1e-09 MB","type":"bad_request_error","param":"content-length","code":400}}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(x,{...e})}):x(e)}},49489(e,n,s){"use strict";s.d(n,{A:()=>v});var l=s(96540),r=s(18215),a=s(24245),i=s(56347),d=s(36494),t=s(62814),c=s(45167),o=s(69900);function h(e){return l.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:n,children:s}=e;return(0,l.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:s,default:l}})=>({value:e,label:n,attributes:s,default:l}))}(s);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,s])}function x({value:e,tabValues:n}){return n.some(n=>n.value===e)}function u({queryString:e=!1,groupId:n}){const s=(0,i.W6)(),r=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,t.aZ)(r),(0,l.useCallback)(e=>{if(!r)return;const n=new URLSearchParams(s.location.search);n.set(r,e),s.replace({...s.location,search:n.toString()})},[r,s])]}function j(e){const{defaultValue:n,queryString:s=!1,groupId:r}=e,a=p(e),[i,t]=(0,l.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!x({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const s=n.find(e=>e.default)??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:a})),[c,h]=u({queryString:s,groupId:r}),[j,m]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[s,r]=(0,o.Dv)(n);return[s,(0,l.useCallback)(e=>{n&&r.set(e)},[n,r])]}({groupId:r}),g=(()=>{const e=c??j;return x({value:e,tabValues:a})?e:null})();(0,d.A)(()=>{g&&t(g)},[g]);return{selectedValue:i,selectValue:(0,l.useCallback)(e=>{if(!x({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);t(e),h(e),m(e)},[h,m,a]),tabValues:a}}var m=s(11062);const g="tabList__CuJ",_="tabItem_LNqP";var A=s(74848);function b({className:e,block:n,selectedValue:s,selectValue:l,tabValues:i}){const d=[],{blockElementScrollPositionUntilNextRender:t}=(0,a.a_)(),c=e=>{const n=e.currentTarget,r=d.indexOf(n),a=i[r].value;a!==s&&(t(n),l(a))},o=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const s=d.indexOf(e.currentTarget)+1;n=d[s]??d[0];break}case"ArrowLeft":{const s=d.indexOf(e.currentTarget)-1;n=d[s]??d[d.length-1];break}}n?.focus()};return(0,A.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},e),children:i.map(({value:e,label:n,attributes:l})=>(0,A.jsx)("li",{role:"tab",tabIndex:s===e?0:-1,"aria-selected":s===e,ref:e=>{d.push(e)},onKeyDown:o,onClick:c,...l,className:(0,r.A)("tabs__item",_,l?.className,{"tabs__item--active":s===e}),children:n??e},e))})}function y({lazy:e,children:n,selectedValue:s}){const a=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=a.find(e=>e.props.value===s);return e?(0,l.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,A.jsx)("div",{className:"margin-top--md",children:a.map((e,n)=>(0,l.cloneElement)(e,{key:n,hidden:e.props.value!==s}))})}function f(e){const n=j(e);return(0,A.jsxs)("div",{className:(0,r.A)("tabs-container",g),children:[(0,A.jsx)(b,{...n,...e}),(0,A.jsx)(y,{...n,...e})]})}function v(e){const n=(0,m.A)();return(0,A.jsx)(f,{...e,children:h(e.children)},String(n))}}}]);