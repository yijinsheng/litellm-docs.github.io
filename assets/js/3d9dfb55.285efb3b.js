(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[68887],{7227(e,n,t){"use strict";t.d(n,{A:()=>a});t(96540);var s=t(18215);const r="tabItem_Ymn6";var i=t(74848);function a({children:e,hidden:n,className:t}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,s.A)(r,t),hidden:n,children:e})}},49489(e,n,t){"use strict";t.d(n,{A:()=>w});var s=t(96540),r=t(18215),i=t(24245),a=t(56347),l=t(36494),o=t(62814),c=t(45167),u=t(69900);function d(e){return s.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function _(e){const{values:n,children:t}=e;return(0,s.useMemo)(()=>{const e=n??function(e){return d(e).map(({props:{value:e,label:n,attributes:t,default:s}})=>({value:e,label:n,attributes:t,default:s}))}(t);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function p({value:e,tabValues:n}){return n.some(n=>n.value===e)}function h({queryString:e=!1,groupId:n}){const t=(0,a.W6)(),r=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,o.aZ)(r),(0,s.useCallback)(e=>{if(!r)return;const n=new URLSearchParams(t.location.search);n.set(r,e),t.replace({...t.location,search:n.toString()})},[r,t])]}function g(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,i=_(e),[a,o]=(0,s.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:i})),[c,d]=h({queryString:t,groupId:r}),[g,m]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,r]=(0,u.Dv)(n);return[t,(0,s.useCallback)(e=>{n&&r.set(e)},[n,r])]}({groupId:r}),v=(()=>{const e=c??g;return p({value:e,tabValues:i})?e:null})();(0,l.A)(()=>{v&&o(v)},[v]);return{selectedValue:a,selectValue:(0,s.useCallback)(e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);o(e),d(e),m(e)},[d,m,i]),tabValues:i}}var m=t(11062);const v="tabList__CuJ",y="tabItem_LNqP";var A=t(74848);function L({className:e,block:n,selectedValue:t,selectValue:s,tabValues:a}){const l=[],{blockElementScrollPositionUntilNextRender:o}=(0,i.a_)(),c=e=>{const n=e.currentTarget,r=l.indexOf(n),i=a[r].value;i!==t&&(o(n),s(i))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,A.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},e),children:a.map(({value:e,label:n,attributes:s})=>(0,A.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{l.push(e)},onKeyDown:u,onClick:c,...s,className:(0,r.A)("tabs__item",y,s?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function x({lazy:e,children:n,selectedValue:t}){const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=i.find(e=>e.props.value===t);return e?(0,s.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,A.jsx)("div",{className:"margin-top--md",children:i.map((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function f(e){const n=g(e);return(0,A.jsxs)("div",{className:(0,r.A)("tabs-container",v),children:[(0,A.jsx)(L,{...n,...e}),(0,A.jsx)(x,{...n,...e})]})}function w(e){const n=(0,m.A)();return(0,A.jsx)(f,{...e,children:d(e.children)},String(n))}},78682(e,n,t){"use strict";t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>_,frontMatter:()=>l,metadata:()=>s,toc:()=>u});const s=JSON.parse('{"id":"tutorials/google_adk","title":"Google ADK \u4e0e LiteLLM","description":"<Image","source":"@site/docs/tutorials/google_adk.md","sourceDirName":"tutorials","slug":"/tutorials/google_adk","permalink":"/docs/tutorials/google_adk","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Claude Code","permalink":"/docs/tutorials/claude_responses_api"},"next":{"title":"Replacing OpenAI ChatCompletion with Completion()","permalink":"/docs/tutorials/azure_openai"}}');var r=t(74848),i=t(28453),a=(t(49489),t(7227),t(90547));const l={},o="Google ADK \u4e0e LiteLLM",c={},u=[{value:"\u6982\u89c8",id:"\u6982\u89c8",level:2},{value:"\u5148\u51b3\u6761\u4ef6",id:"\u5148\u51b3\u6761\u4ef6",level:2},{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"2. \u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684\u5de5\u5177",id:"2-\u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684\u5de5\u5177",level:2},{value:"3. \u8f85\u52a9\u51fd\u6570\u4ee5\u7b80\u5316\u667a\u80fd\u4f53\u4ea4\u4e92",id:"3-\u8f85\u52a9\u51fd\u6570\u4ee5\u7b80\u5316\u667a\u80fd\u4f53\u4ea4\u4e92",level:2},{value:"4. \u4f7f\u7528 ADK \u7684\u4e0d\u540c\u6a21\u578b\u63d0\u4f9b\u5546",id:"4-\u4f7f\u7528-adk-\u7684\u4e0d\u540c\u6a21\u578b\u63d0\u4f9b\u5546",level:2},{value:"4.1 \u4f7f\u7528 OpenAI \u6a21\u578b",id:"41-\u4f7f\u7528-openai-\u6a21\u578b",level:3},{value:"4.2 \u4f7f\u7528 Anthropic \u6a21\u578b",id:"42-\u4f7f\u7528-anthropic-\u6a21\u578b",level:3},{value:"4.3 \u4f7f\u7528 Google \u7684 Gemini \u6a21\u578b",id:"43-\u4f7f\u7528-google-\u7684-gemini-\u6a21\u578b",level:3},{value:"5. \u4f7f\u7528 LiteLLM \u4ee3\u7406\u4e0e ADK",id:"5-\u4f7f\u7528-litellm-\u4ee3\u7406\u4e0e-adk",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"google-adk-\u4e0e-litellm",children:"Google ADK \u4e0e LiteLLM"})}),"\n",(0,r.jsx)(a.A,{img:t(90286),style:{width:"90%",display:"block",margin:"2rem 0"}}),"\n",(0,r.jsx)("p",{style:{textAlign:"left",color:"#666"},children:(0,r.jsx)(n.p,{children:"\u4f7f\u7528 Google ADK \u4e0e LiteLLM Python SDK\uff0cLiteLLM \u4ee3\u7406"})}),"\n",(0,r.jsx)(n.p,{children:"\u672c\u6559\u7a0b\u5c55\u793a\u4e86\u5982\u4f55\u4f7f\u7528 Agent Development Kit (ADK) \u521b\u5efa\u667a\u80fd\u4ee3\u7406\uff0c\u5e76\u652f\u6301\u591a\u4e2a\u5927\u578b\u8bed\u8a00\u6a21\u578b\uff08LLM\uff09\u63d0\u4f9b\u5546\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u6982\u89c8",children:"\u6982\u89c8"}),"\n",(0,r.jsx)(n.p,{children:"ADK\uff08Agent Development Kit\uff09\u5141\u8bb8\u60a8\u6784\u5efa\u7531 LLM \u9a71\u52a8\u7684\u667a\u80fd\u4ee3\u7406\u3002\u901a\u8fc7\u4e0e LiteLLM \u7ed3\u5408\uff0c\u60a8\u53ef\u4ee5\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u4f7f\u7528\u591a\u4e2a LLM \u63d0\u4f9b\u5546\uff08\u5982 OpenAI\u3001Anthropic\u3001Google \u7b49\uff09"}),"\n",(0,r.jsx)(n.li,{children:"\u8f7b\u677e\u5207\u6362\u6765\u81ea\u4e0d\u540c\u63d0\u4f9b\u5546\u7684\u4e0d\u540c\u6a21\u578b"}),"\n",(0,r.jsx)(n.li,{children:"\u901a\u8fc7 LiteLLM \u4ee3\u7406\u8fdb\u884c\u96c6\u4e2d\u5316\u6a21\u578b\u7ba1\u7406"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u5148\u51b3\u6761\u4ef6",children:"\u5148\u51b3\u6761\u4ef6"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Python \u73af\u5883\u8bbe\u7f6e"}),"\n",(0,r.jsx)(n.li,{children:"\u6a21\u578b\u63d0\u4f9b\u8005\u7684 API \u5bc6\u94a5\uff08OpenAI\u3001Anthropic\u3001Google AI Studio\uff09"}),"\n",(0,r.jsx)(n.li,{children:"\u57fa\u672c\u4e86\u89e3 LLM \u548c\u667a\u80fd\u4f53\u6982\u5ff5"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'showLineNumbers title="\u5b89\u88c5\u4f9d\u8d56\u9879"',children:'pip install google-adk litellm\n\n\n## 1. \u8bbe\u7f6e\u73af\u5883\n\n\u9996\u5148\uff0c\u5bfc\u5165\u5fc5\u8981\u7684\u5e93\u5e76\u8bbe\u7f6e API \u5bc6\u94a5\uff1a\n\n```python showLineNumbers title="\u8bbe\u7f6e\u73af\u5883\u548c API \u5bc6\u94a5"\nimport os\nimport asyncio\nfrom google.adk.agents import Agent\nfrom google.adk.models.lite_llm import LiteLlm  # \u7528\u4e8e\u591a\u6a21\u578b\u652f\u6301\nfrom google.adk.sessions import InMemorySessionService\nfrom google.adk.runners import Runner\nfrom google.genai import types\nimport litellm  # \u5bfc\u5165\u4ee5\u914d\u7f6e\u4ee3\u7406\n\n# \u8bbe\u7f6e\u60a8\u7684 API \u5bc6\u94a5\nos.environ["GOOGLE_API_KEY"] = "your-google-api-key"  # \u7528\u4e8e Gemini \u6a21\u578b\nos.environ["OPENAI_API_KEY"] = "your-openai-api-key"  # \u7528\u4e8e OpenAI \u6a21\u578b\nos.environ["ANTHROPIC_API_KEY"] = "your-anthropic-api-key"  # \u7528\u4e8e Claude \u6a21\u578b\n\n# \u5b9a\u4e49\u6a21\u578b\u5e38\u91cf\u4ee5\u4f7f\u4ee3\u7801\u66f4\u6574\u6d01\nMODEL_GEMINI_PRO = "gemini-1.5-pro"\nMODEL_GPT_4O = "openai/gpt-4o"\nMODEL_CLAUDE_SONNET = "anthropic/claude-3-sonnet-20240229"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"2-\u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684\u5de5\u5177",children:"2. \u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684\u5de5\u5177"}),"\n",(0,r.jsx)(n.p,{children:"\u521b\u5efa\u4e00\u4e2a\u667a\u80fd\u4f53\u53ef\u4ee5\u4f7f\u7528\u7684\u5de5\u5177\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="\u5929\u6c14\u5de5\u5177\u5b9e\u73b0"',children:'def get_weather(city: str) -> dict:\n    """\u68c0\u7d22\u6307\u5b9a\u57ce\u5e02\u7684\u5f53\u524d\u5929\u6c14\u62a5\u544a\u3002\n    \n    \u53c2\u6570:\n        city (str): \u57ce\u5e02\u540d\u79f0\uff08\u4f8b\u5982\uff0c\u201c\u7ebd\u7ea6\u201d\u3001\u201c\u4f26\u6566\u201d\u3001\u201c\u4e1c\u4eac\u201d\uff09\u3002\n\n    \u8fd4\u56de:\n        dict: \u5305\u542b\u5929\u6c14\u4fe1\u606f\u7684\u5b57\u5178\u3002\u5305\u62ec\u4e00\u4e2a \'status\' \u952e\uff08\u6210\u529f\u6216\u9519\u8bef\uff09\u3002\n              \u5982\u679c\u6210\u529f\uff0c\u5305\u542b\u4e00\u4e2a \'report\' \u952e\u548c\u5929\u6c14\u7ec6\u8282\u3002\n              \u5982\u679c\u5931\u8d25\uff0c\u5219\u5305\u542b\u4e00\u4e2a \'error_message\' \u952e\u3002\n    """\n    print(f"\u5de5\u5177\uff1aget_weather \u88ab\u8c03\u7528\u4ee5\u67e5\u8be2\u57ce\u5e02: {city}")\n\n    # \u6a21\u62df\u5929\u6c14\u6570\u636e\n    mock_weather_db = {\n        "newyork": {"status": "success", "report": "\u7ebd\u7ea6\u7684\u5929\u6c14\u6674\u6717\uff0c\u6c14\u6e29\u4e3a25\xb0C."},\n        "london": {"status": "success", "report": "\u4f26\u6566\u591a\u4e91\uff0c\u6c14\u6e2915\xb0C."},\n        "tokyo": {"status": "success", "\u62a5\u544a": "\u4e1c\u4eac\u6709\u5c0f\u96e8\uff0c\u6c14\u6e2918\xb0C."}\n    }\n\n    city_normalized = city.lower().replace(" ", "")\n\n    if city_normalized in mock_weather_db:\n        return mock_weather_db[city_normalized]\n    else:\n        return {"status": "error", "error_message": f"\u62b1\u6b49\uff0c\u6211\u6ca1\u6709\u5173\u4e8e \'{city}\' \u7684\u5929\u6c14\u4fe1\u606f\u3002"}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"3-\u8f85\u52a9\u51fd\u6570\u4ee5\u7b80\u5316\u667a\u80fd\u4f53\u4ea4\u4e92",children:"3. \u8f85\u52a9\u51fd\u6570\u4ee5\u7b80\u5316\u667a\u80fd\u4f53\u4ea4\u4e92"}),"\n",(0,r.jsx)(n.p,{children:"\u521b\u5efa\u4e00\u4e2a\u8f85\u52a9\u51fd\u6570\u6765\u7b80\u5316\u4e0e\u667a\u80fd\u4f53\u7684\u4ea4\u4e92\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="\u667a\u80fd\u4f53\u4ea4\u4e92\u8f85\u52a9\u51fd\u6570"',children:'async def call_agent_async(query: str, runner, user_id, session_id):\n    """\u5411\u667a\u80fd\u4f53\u53d1\u9001\u67e5\u8be2\u5e76\u6253\u5370\u6700\u7ec8\u54cd\u5e94\u3002"""\n    print(f"\\n>>> \u7528\u6237\u67e5\u8be2\uff1a{query}")\n\n    # \u51c6\u5907\u7528\u6237\u7684\u6d88\u606f\uff0c\u4ee5 ADK \u683c\u5f0f\n    content = types.Content(role=\'user\', parts=[types.Part(text=query)])\n\n    final_response_text = "\u667a\u80fd\u4f53\u6ca1\u6709\u751f\u6210\u6700\u7ec8\u54cd\u5e94\u3002"\n\n    # \u6267\u884c\u667a\u80fd\u4f53\u5e76\u627e\u5230\u6700\u7ec8\u54cd\u5e94\n    async for event in runner.run_async(\n        user_id=user_id, \n        session_id=session_id, \n        new_message=content\n    ):\n        if event.is_final_response():\n            if event.content and event.content.parts:\n                final_response_text = event.content.parts[0].text\n            break\n\n    print(f"<<< \u667a\u80fd\u4f53\u54cd\u5e94\uff1a{final_response_text}")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"4-\u4f7f\u7528-adk-\u7684\u4e0d\u540c\u6a21\u578b\u63d0\u4f9b\u5546",children:"4. \u4f7f\u7528 ADK \u7684\u4e0d\u540c\u6a21\u578b\u63d0\u4f9b\u5546"}),"\n",(0,r.jsx)(n.h3,{id:"41-\u4f7f\u7528-openai-\u6a21\u578b",children:"4.1 \u4f7f\u7528 OpenAI \u6a21\u578b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="OpenAI \u6a21\u578b\u5b9e\u73b0"',children:'# \u521b\u5efa\u4e00\u4e2a\u7531 OpenAI GPT \u6a21\u578b\u9a71\u52a8\u7684\u667a\u80fd\u4f53\nweather_agent_gpt = Agent(\n    name="weather_agent_gpt",\n    model=LiteLlm(model=MODEL_GPT_4O),  # \u4f7f\u7528 OpenAI \u7684 GPT \u6a21\u578b\n    description="\u63d0\u4f9b\u4f7f\u7528 OpenAI \u7684 GPT \u83b7\u53d6\u5929\u6c14\u4fe1\u606f\u3002",\n    instruction="\u60a8\u662f\u4e00\u4e2a\u7531 GPT-4o \u9a71\u52a8\u7684\u6709\u5e2e\u52a9\u7684\u5929\u6c14\u52a9\u624b\u3002"\n                "\u4f7f\u7528 \'get_weather\' \u5de5\u5177\u6765\u83b7\u53d6\u57ce\u5e02\u5929\u6c14\u8bf7\u6c42\u3002"\n                "\u6e05\u6670\u5730\u5448\u73b0\u4fe1\u606f\u3002",\n    tools=[get_weather],\n)\n\n# \u8bbe\u7f6e\u4f1a\u8bdd\u548c\u8fd0\u884c\u5668\nsession_service_gpt = InMemorySessionService()\nsession_gpt = session_service_gpt.create_session(\n    app_name="weather_app",\n    user_id="user_1",\n    session_id="session_gpt"\n)\n\nrunner_gpt = Runner(\n    agent=weather_agent_gpt,\n    app_name="weather_app",\n    session_service=session_service_gpt\n)\n\n# \u6d4b\u8bd5 GPT \u667a\u80fd\u4f53\nasync def test_gpt_agent():\n    print("\\n--- \u6d4b\u8bd5 GPT \u667a\u80fd\u4f53 ---")\n    await call_agent_async(\n        "\u4f26\u6566\u7684\u5929\u6c14\u600e\u4e48\u6837\uff1f",\n        runner=runner_gpt,\n        user_id="user_1",\n        session_id="session_gpt"\n    )\n\n# \u6267\u884c\u4e0e GPT \u667a\u80fd\u4f53\u7684\u5bf9\u8bdd\nawait test_gpt_agent()\n\n# \u6216\u8005\uff0c\u5982\u679c\u4f5c\u4e3a\u6807\u51c6 Python \u811a\u672c\u8fd0\u884c\uff1a\n# if __name__ == "__main__":\n#     asyncio.run(test_gpt_agent())\n'})}),"\n",(0,r.jsx)(n.h3,{id:"42-\u4f7f\u7528-anthropic-\u6a21\u578b",children:"4.2 \u4f7f\u7528 Anthropic \u6a21\u578b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="Anthropic \u6a21\u578b\u5b9e\u73b0"',children:'# \u521b\u5efa\u4e00\u4e2a\u7531 Anthropic Claude \u6a21\u578b\u9a71\u52a8\u7684\u667a\u80fd\u4f53\nweather_agent_claude = Agent(\n    name="weather_agent_claude",\n    model=LiteLlm(model=MODEL_CLAUDE_SONNET),  # \u4f7f\u7528 Anthropic \u7684 Claude \u6a21\u578b\n    description="\u63d0\u4f9b\u4f7f\u7528 Anthropic \u7684 Claude \u83b7\u53d6\u5929\u6c14\u4fe1\u606f\u3002",\n    instruction="\u60a8\u662f\u4e00\u4e2a\u7531 Claude Sonnet \u9a71\u52a8\u7684\u6709\u5e2e\u52a9\u7684\u5929\u6c14\u52a9\u624b\u3002"\n                "\u4f7f\u7528 \'get_weather\' \u5de5\u5177\u6765\u83b7\u53d6\u57ce\u5e02\u5929\u6c14\u8bf7\u6c42\u3002"\n                "\u6e05\u6670\u5730\u5448\u73b0\u4fe1\u606f\u3002",\n    tools=[get_weather],\n)\n\n# \u8bbe\u7f6e\u4f1a\u8bdd\u548c\u8fd0\u884c\u5668\nsession_service_claude = InMemorySessionService()\nsession_claude = session_service_claude.create_session(\n    app_name="weather_app",\n    user_id="user_1",\n    session_id="session_claude"\n)\n\nrunner_claude = Runner(\n    agent=weather_agent_claude,\n    app_name="weather_app",\n    session_service=session_service_claude\n)\n\n# \u6d4b\u8bd5 Claude \u667a\u80fd\u4f53\nasync def test_claude_agent():\n    print("\\n--- \u6d4b\u8bd5 Claude \u667a\u80fd\u4f53 ---")\n    await call_agent_async(\n        "\u4e1c\u4eac\u7684\u5929\u6c14\u600e\u4e48\u6837\uff1f",\n        runner=runner_claude,\n        user_id="user_1",\n        session_id="session_claude"\n    )\n\n# \u6267\u884c\u4e0e Claude \u667a\u80fd\u4f53\u7684\u5bf9\u8bdd\nawait test_claude_agent()\n\n# \u6216\u8005\uff0c\u5982\u679c\u4f5c\u4e3a\u6807\u51c6 Python \u811a\u672c\u8fd0\u884c\uff1a\n# if __name__ == "__main__":\n#     asyncio.run(test_claude_agent())\n'})}),"\n",(0,r.jsx)(n.h3,{id:"43-\u4f7f\u7528-google-\u7684-gemini-\u6a21\u578b",children:"4.3 \u4f7f\u7528 Google \u7684 Gemini \u6a21\u578b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="Gemini \u6a21\u578b\u5b9e\u73b0"',children:'# \u521b\u5efa\u4e00\u4e2a\u7531 Google \u7684 Gemini \u6a21\u578b\u9a71\u52a8\u7684\u667a\u80fd\u4f53\nweather_agent_gemini = Agent(\n    name="weather_agent_gemini",\n    model=MODEL_GEMINI_PRO,  # \u76f4\u63a5\u4f7f\u7528 Gemini \u6a21\u578b\uff08\u65e0\u9700 LiteLlm \u5305\u88c5\u5668\uff09\n    description="\u63d0\u4f9b\u4f7f\u7528 Google \u7684 Gemini \u83b7\u53d6\u5929\u6c14\u4fe1\u606f\u3002",\n    instruction="\u60a8\u662f\u4e00\u4e2a\u7531 Gemini Pro \u9a71\u52a8\u7684\u6709\u5e2e\u52a9\u7684\u5929\u6c14\u52a9\u624b\u3002"\n                "\u4f7f\u7528 \'get_weather\' \u5de5\u5177\u6765\u83b7\u53d6\u57ce\u5e02\u5929\u6c14\u8bf7\u6c42\u3002"\n                "\u6e05\u6670\u5730\u5448\u73b0\u4fe1\u606f\u3002",\n    tools=[get_weather],\n)\n\n# \u8bbe\u7f6e\u4f1a\u8bdd\u548c\u8fd0\u884c\u5668\nsession_service_gemini = InMemorySessionService()\nsession_gemini = session_service_gemini.create_session(\n    app_name="weather_app",\n    user_id="user_1",\n    session_id="session_gemini"\n)\n\nrunner_gemini = Runner(\n    agent=weather_agent_gemini,\n    app_name="weather_app",\n    session_service=session_service_gemini\n)\n\n# \u6d4b\u8bd5 Gemini \u667a\u80fd\u4f53\nasync def test_gemini_agent():\n    print("\\n--- \u6d4b\u8bd5 Gemini \u667a\u80fd\u4f53 ---")\n    await call_agent_async(\n        "\u7ebd\u7ea6\u7684\u5929\u6c14\u600e\u4e48\u6837\uff1f",\n        runner=runner_gemini,\n        user_id="user_1",\n        session_id="session_gemini"\n    )\n\n# \u6267\u884c\u4e0e Gemini \u667a\u80fd\u4f53\u7684\u5bf9\u8bdd\nawait test_gemini_agent()\n\n# \u6216\u8005\uff0c\u5982\u679c\u4f5c\u4e3a\u6807\u51c6 Python \u811a\u672c\u8fd0\u884c\uff1a\n# if __name__ == "__main__":\n#     asyncio.run(test_gemini_agent())\n'})}),"\n",(0,r.jsx)(n.h2,{id:"5-\u4f7f\u7528-litellm-\u4ee3\u7406\u4e0e-adk",children:"5. \u4f7f\u7528 LiteLLM \u4ee3\u7406\u4e0e ADK"}),"\n",(0,r.jsx)(n.p,{children:"LiteLLM \u4ee3\u7406\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7edf\u4e00\u7684 API \u7aef\u70b9\u6765\u5904\u7406\u591a\u4e2a\u6a21\u578b\uff0c\u7b80\u5316\u4e86\u90e8\u7f72\u548c\u96c6\u4e2d\u5316\u7ba1\u7406\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4f7f\u7528 LiteLLM \u4ee3\u7406\u6240\u9700\u7684\u8bbe\u7f6e\uff1a"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u53d8\u91cf"}),(0,r.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"LITELLM_PROXY_API_KEY"})}),(0,r.jsx)(n.td,{children:"LiteLLM \u4ee3\u7406\u7684 API \u5bc6\u94a5"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"LITELLM_PROXY_API_BASE"})}),(0,r.jsx)(n.td,{children:"LiteLLM \u4ee3\u7406\u7684\u57fa\u7840 URL"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"USE_LITELLM_PROXY"})," \u6216 ",(0,r.jsx)(n.code,{children:"litellm.use_litellm_proxy"})]}),(0,r.jsx)(n.td,{children:"\u8bbe\u7f6e\u4e3a True \u65f6\uff0c\u60a8\u7684\u8bf7\u6c42\u5c06\u53d1\u9001\u5230 LiteLLM \u4ee3\u7406\u3002"})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:'showLineNumbers title="LiteLLM \u4ee3\u7406\u96c6\u6210"',children:'# \u5c06\u60a8\u7684 LiteLLM \u4ee3\u7406\u51ed\u636e\u8bbe\u7f6e\u4e3a\u73af\u5883\u53d8\u91cf\nos.environ["LITELLM_PROXY_API_KEY"] = "your-litellm-proxy-api-key"\nos.environ["LITELLM_PROXY_API_BASE"] = "your-litellm-proxy-url"  # \u4f8b\u5982\uff0c"http://localhost:4000"\n# \u542f\u7528 use_litellm_proxy \u6807\u5fd7\nlitellm.use_litellm_proxy = True\n\n# \u521b\u5efa\u4e00\u4e2a\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u7684\u4ee3\u7406\u542f\u7528\u667a\u80fd\u4f53\nweather_agent_proxy_env = Agent(\n    name="weather_agent_proxy_env",\n    model=LiteLlm(model="gpt-4o"),  # \u8fd9\u5c06\u8c03\u7528 LiteLLM \u4ee3\u7406\u4e0a\u7684 `gpt-4o` \u6a21\u578b\n    description="\u63d0\u4f9b\u4f7f\u7528 LiteLLM \u4ee3\u7406\u83b7\u53d6\u6a21\u578b\u7684\u5929\u6c14\u4fe1\u606f\u3002",\n    instruction="\u60a8\u662f\u4e00\u4e2a\u6709\u5e2e\u52a9\u7684\u5929\u6c14\u52a9\u624b\u3002"\n                "\u4f7f\u7528 \'get_weather\' \u5de5\u5177\u6765\u83b7\u53d6\u57ce\u5e02\u5929\u6c14\u8bf7\u6c42\u3002"\n                "\u6e05\u6670\u5730\u5448\u73b0\u4fe1\u606f\u3002",\n    tools=[get_weather],\n)\n\n# \u8bbe\u7f6e\u4f1a\u8bdd\u548c\u8fd0\u884c\u5668\nsession_service_proxy_env = InMemorySessionService()\nsession_proxy_env = session_service_proxy_env.create_session(\n    app_name="weather_app",\n    user_id="user_1",\n    session_id="session_proxy_env"\n)\n\nrunner_proxy_env = Runner(\n    agent=weather_agent_proxy_env,\n    app_name="weather_app",\n    session_service=session_service_proxy_env\n)\n\n# \u6d4b\u8bd5\u4ee3\u7406\u542f\u7528\u7684\u667a\u80fd\u4f53\uff08\u73af\u5883\u53d8\u91cf\u65b9\u6cd5\uff09\nasync def test_proxy_env_agent():\n    print("\\n--- \u6d4b\u8bd5\u4ee3\u7406\u542f\u7528\u7684\u667a\u80fd\u4f53\uff08\u73af\u5883\u53d8\u91cf\uff09---")\n    await call_agent_async(\n        "\u4f26\u6566\u7684\u5929\u6c14\u600e\u4e48\u6837\uff1f",\n        runner=runner_proxy_env,\n        user_id="user_1",\n        session_id="session_proxy_env"\n    )\n\n# \u6267\u884c\u5bf9\u8bdd\nawait test_proxy_env_agent()\n'})})]})}function _(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},90286(e,n,t){e.exports={src:Object.assign(Object.create({toString(){return this.src}}),{srcSet:t.p+"assets/ideal-img/litellm_adk.7888c61.640.png 640w,"+t.p+"assets/ideal-img/litellm_adk.269591b.1920.png 1920w",images:[{path:t.p+"assets/ideal-img/litellm_adk.7888c61.640.png",width:640,height:334},{path:t.p+"assets/ideal-img/litellm_adk.269591b.1920.png",width:1920,height:1003}],src:t.p+"assets/ideal-img/litellm_adk.7888c61.640.png",placeholder:void 0,width:640,height:334}),preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAACxLAAAsSwGlPZapAAAAfUlEQVR4nE1Oyw4CIRDb//8+9bhi5KIuJjIw7MxAaoA97KFp+kjaRVUhIhOq6Lp2lpMvgqUHZoZaK0wVuyi+XKCmw2utjXwUX+8P1vWOEAJyyrjcrng8Hbz3cM5h27ZZzMwgIpSyQ6VAfgGJEigRYoxg5mP6mO88Plud+oQ/mdvBmWuCHiwAAAAASUVORK5CYII="}}}]);