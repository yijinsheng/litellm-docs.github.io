"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[4515],{7227(e,n,r){r.d(n,{A:()=>i});r(96540);var l=r(18215);const a="tabItem_Ymn6";var s=r(74848);function i({children:e,hidden:n,className:r}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,l.A)(a,r),hidden:n,children:e})}},28453(e,n,r){r.d(n,{R:()=>i,x:()=>t});var l=r(96540);const a={},s=l.createContext(a);function i(e){const n=l.useContext(s);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),l.createElement(s.Provider,{value:n},e.children)}},49489(e,n,r){r.d(n,{A:()=>A});var l=r(96540),a=r(18215),s=r(24245),i=r(56347),t=r(36494),o=r(62814),d=r(45167),c=r(69900);function h(e){return l.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function u(e){const{values:n,children:r}=e;return(0,l.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:r,default:l}})=>({value:e,label:n,attributes:r,default:l}))}(r);return function(e){const n=(0,d.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,r])}function x({value:e,tabValues:n}){return n.some(n=>n.value===e)}function p({queryString:e=!1,groupId:n}){const r=(0,i.W6)(),a=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,o.aZ)(a),(0,l.useCallback)(e=>{if(!a)return;const n=new URLSearchParams(r.location.search);n.set(a,e),r.replace({...r.location,search:n.toString()})},[a,r])]}function j(e){const{defaultValue:n,queryString:r=!1,groupId:a}=e,s=u(e),[i,o]=(0,l.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!x({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const r=n.find(e=>e.default)??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:s})),[d,h]=p({queryString:r,groupId:a}),[j,g]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[r,a]=(0,c.Dv)(n);return[r,(0,l.useCallback)(e=>{n&&a.set(e)},[n,a])]}({groupId:a}),m=(()=>{const e=d??j;return x({value:e,tabValues:s})?e:null})();(0,t.A)(()=>{m&&o(m)},[m]);return{selectedValue:i,selectValue:(0,l.useCallback)(e=>{if(!x({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);o(e),h(e),g(e)},[h,g,s]),tabValues:s}}var g=r(11062);const m="tabList__CuJ",_="tabItem_LNqP";var f=r(74848);function y({className:e,block:n,selectedValue:r,selectValue:l,tabValues:i}){const t=[],{blockElementScrollPositionUntilNextRender:o}=(0,s.a_)(),d=e=>{const n=e.currentTarget,a=t.indexOf(n),s=i[a].value;s!==r&&(o(n),l(s))},c=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const r=t.indexOf(e.currentTarget)+1;n=t[r]??t[0];break}case"ArrowLeft":{const r=t.indexOf(e.currentTarget)-1;n=t[r]??t[t.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},e),children:i.map(({value:e,label:n,attributes:l})=>(0,f.jsx)("li",{role:"tab",tabIndex:r===e?0:-1,"aria-selected":r===e,ref:e=>{t.push(e)},onKeyDown:c,onClick:d,...l,className:(0,a.A)("tabs__item",_,l?.className,{"tabs__item--active":r===e}),children:n??e},e))})}function b({lazy:e,children:n,selectedValue:r}){const s=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=s.find(e=>e.props.value===r);return e?(0,l.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:s.map((e,n)=>(0,l.cloneElement)(e,{key:n,hidden:e.props.value!==r}))})}function v(e){const n=j(e);return(0,f.jsxs)("div",{className:(0,a.A)("tabs-container",m),children:[(0,f.jsx)(y,{...n,...e}),(0,f.jsx)(b,{...n,...e})]})}function A(e){const n=(0,g.A)();return(0,f.jsx)(v,{...e,children:h(e.children)},String(n))}},68385(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>x,frontMatter:()=>o,metadata:()=>l,toc:()=>h});const l=JSON.parse('{"id":"proxy/guardrails/grayswan","title":"\u7070\u5929\u9e45\u8b66\u6212\u62a4\u680f","description":"\u4f7f\u7528 \u7070\u5929\u9e45\u8b66\u6212 \u6301\u7eed\u76d1\u63a7\u5bf9\u8bdd\uff0c\u4ee5\u68c0\u6d4b\u7b56\u7565\u8fdd\u89c4\u3001\u95f4\u63a5\u63d0\u793a\u6ce8\u5165\uff08IPI\uff09\u3001\u8d8a\u72f1\u5c1d\u8bd5\u548c\u5176\u4ed6\u5b89\u5168\u98ce\u9669\u3002","source":"@site/docs/proxy/guardrails/grayswan.md","sourceDirName":"proxy/guardrails","slug":"/proxy/guardrails/grayswan","permalink":"/docs/proxy/guardrails/grayswan","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"integrationsSidebar","previous":{"title":"EnkryptAI \u4fdd\u62a4\u680f","permalink":"/docs/proxy/guardrails/enkryptai"},"next":{"title":"\u5b88\u95e8\u5458AI","permalink":"/docs/proxy/guardrails/guardrails_ai"}}');var a=r(74848),s=r(28453),i=r(49489),t=r(7227);const o={},d="\u7070\u5929\u9e45\u8b66\u6212\u62a4\u680f",c={},h=[{value:"\u5feb\u901f\u5165\u95e8",id:"\u5feb\u901f\u5165\u95e8",level:2},{value:"1. \u83b7\u53d6\u51ed\u8bc1",id:"1-\u83b7\u53d6\u51ed\u8bc1",level:3},{value:"3. \u542f\u52a8\u4ee3\u7406",id:"3-\u542f\u52a8\u4ee3\u7406",level:3},{value:"\u9009\u62e9\u62a4\u680f\u6a21\u5f0f",id:"\u9009\u62e9\u62a4\u680f\u6a21\u5f0f",level:2},{value:"\u914d\u7f6e\u53c2\u8003",id:"\u914d\u7f6e\u53c2\u8003",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"\u7070\u5929\u9e45\u8b66\u6212\u62a4\u680f",children:"\u7070\u5929\u9e45\u8b66\u6212\u62a4\u680f"})}),"\n",(0,a.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,a.jsx)(n.a,{href:"https://docs.grayswan.ai/cygnal/monitor-requests",children:"\u7070\u5929\u9e45\u8b66\u6212"})," \u6301\u7eed\u76d1\u63a7\u5bf9\u8bdd\uff0c\u4ee5\u68c0\u6d4b\u7b56\u7565\u8fdd\u89c4\u3001\u95f4\u63a5\u63d0\u793a\u6ce8\u5165\uff08IPI\uff09\u3001\u8d8a\u72f1\u5c1d\u8bd5\u548c\u5176\u4ed6\u5b89\u5168\u98ce\u9669\u3002"]}),"\n",(0,a.jsxs)(n.p,{children:["Cygnal \u8fd4\u56de\u4e00\u4e2a\u4ecb\u4e8e ",(0,a.jsx)(n.code,{children:"0"})," \u548c ",(0,a.jsx)(n.code,{children:"1"})," \u4e4b\u95f4\u7684 ",(0,a.jsx)(n.code,{children:"violation"})," \u5206\u6570\uff08\u5206\u6570\u8d8a\u9ad8\u8868\u793a\u8d8a\u6709\u53ef\u80fd\u8fdd\u53cd\u7b56\u7565\uff09\uff0c\u4ee5\u53ca\u8bf8\u5982\u88ab\u8fdd\u53cd\u89c4\u5219\u7d22\u5f15\u3001\u7a81\u53d8\u68c0\u6d4b\u548c IPI \u6807\u8bb0\u7684\u5143\u6570\u636e\u3002LiteLLM \u53ef\u4ee5\u6839\u636e\u6b64\u4fe1\u53f7\u81ea\u52a8\u963b\u6b62\u6216\u76d1\u63a7\u8bf7\u6c42\u3002"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"\u5feb\u901f\u5165\u95e8",children:"\u5feb\u901f\u5165\u95e8"}),"\n",(0,a.jsx)(n.h3,{id:"1-\u83b7\u53d6\u51ed\u8bc1",children:"1. \u83b7\u53d6\u51ed\u8bc1"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"\u521b\u5efa\u7070\u5929\u9e45\u8d26\u6237\u5e76\u751f\u6210 Cygnal API \u5bc6\u94a5\u3002"}),"\n",(0,a.jsx)(n.li,{children:"\u914d\u7f6e LiteLLM \u4ee3\u7406\u4e3b\u673a\u7684\u73af\u5883\u53d8\u91cf\uff1a"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'export GRAYSWAN_API_KEY="your-grayswan-key"\nexport GRAYSWAN_API_BASE="https://api.grayswan.ai"\n\n\n### 2. \u914d\u7f6e `config.yaml`\n\n\u6dfb\u52a0\u4e00\u4e2a\u5f15\u7528\u7070\u5929\u9e45\u96c6\u6210\u7684\u62a4\u680f\u6761\u76ee\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u5e73\u8861\u793a\u4f8b\uff0c\u5b83\u540c\u65f6\u76d1\u63a7\u8f93\u5165\u548c\u8f93\u51fa\uff0c\u4f46\u5728\u8fdd\u89c4\u5206\u6570\u8fbe\u5230\u914d\u7f6e\u9608\u503c\u65f6\u624d\u963b\u6b62\u8bf7\u6c42\u3002\n\n```yaml\nmodel_list:\n  - model_name: openai/gpt-4.1-mini\n    litellm_params:\n      model: openai/gpt-4.1-mini\n      api_key: os.environ/OPENAI_API_KEY\n\nguardrails:\n  - guardrail_name: "cygnal-monitor"\n    litellm_params:\n      guardrail: grayswan\n      mode: [pre_call, post_call]            # \u76d1\u63a7\u8f93\u5165\u548c\u8f93\u51fa\n      api_key: os.environ/GRAYSWAN_API_KEY\n      api_base: os.environ/GRAYSWAN_API_BASE  # \u53ef\u9009\n      optional_params:\n        on_flagged_action: monitor             # \u6216 "block"\n        violation_threshold: 0.5               # \u5206\u6570\u5927\u4e8e\u7b49\u4e8e\u9608\u503c\u65f6\u88ab\u6807\u8bb0\u4e3a\u8fdd\u89c4\n        reasoning_mode: hybrid                 # off | hybrid | thinking\n        categories:\n          safety: "\u68c0\u6d4b\u8d8a\u72f1\u548c\u7b56\u7565\u8fdd\u89c4"\n        policy_id: "your-cygnal-policy-id"\n      default_on: true\n\ngeneral_settings:\n  master_key: "your-litellm-master-key"\n\nlitellm_settings:\n  set_verbose: true\n'})}),"\n",(0,a.jsx)(n.h3,{id:"3-\u542f\u52a8\u4ee3\u7406",children:"3. \u542f\u52a8\u4ee3\u7406"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"litellm --config config.yaml --port 4000\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"\u9009\u62e9\u62a4\u680f\u6a21\u5f0f",children:"\u9009\u62e9\u62a4\u680f\u6a21\u5f0f"}),"\n",(0,a.jsxs)(n.p,{children:["\u7070\u5929\u9e45\u53ef\u4ee5\u5728 ",(0,a.jsx)(n.code,{children:"pre_call"}),"\u3001",(0,a.jsx)(n.code,{children:"during_call"})," \u548c ",(0,a.jsx)(n.code,{children:"post_call"})," \u9636\u6bb5\u8fd0\u884c\u3002\u6839\u636e\u60a8\u7684\u5ef6\u8fdf\u548c\u8986\u76d6\u7387\u8981\u6c42\uff0c\u7ed3\u5408\u4f7f\u7528\u8fd9\u4e9b\u6a21\u5f0f\u3002"]}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"\u6a21\u5f0f"}),(0,a.jsx)(n.th,{children:"\u8fd0\u884c\u65f6\u95f4"}),(0,a.jsx)(n.th,{children:"\u4fdd\u62a4\u5185\u5bb9"}),(0,a.jsx)(n.th,{children:"\u5178\u578b\u5e94\u7528\u573a\u666f"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"pre_call"})}),(0,a.jsx)(n.td,{children:"\u5728\u8c03\u7528 LLM \u524d"}),(0,a.jsx)(n.td,{children:"\u7528\u6237\u8f93\u5165\u4ec5\u9650\u4e8e\u6b64"}),(0,a.jsx)(n.td,{children:"\u5728\u6a21\u578b\u63a5\u6536\u5230\u6076\u610f\u6216\u654f\u611f\u63d0\u793a\u524d\u963b\u6b62\u6ce8\u5165"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"during_call"})}),(0,a.jsx)(n.td,{children:"\u5e76\u884c\u4e8e\u8c03\u7528"}),(0,a.jsx)(n.td,{children:"\u7528\u6237\u8f93\u5165\u4ec5\u9650\u4e8e\u6b64"}),(0,a.jsx)(n.td,{children:"\u4f4e\u5ef6\u8fdf\u76d1\u63a7\uff0c\u4e0d\u963b\u65ad"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"post_call"})}),(0,a.jsx)(n.td,{children:"\u56de\u5e94\u540e"}),(0,a.jsx)(n.td,{children:"\u6574\u4e2a\u5bf9\u8bdd"}),(0,a.jsx)(n.td,{children:"\u626b\u63cf\u8f93\u51fa\u4ee5\u68c0\u6d4b\u7b56\u7565\u8fdd\u89c4\u3001\u6cc4\u9732\u7684\u79d8\u5bc6\u6216 IPI"})]})]})]}),"\n",(0,a.jsxs)(n.p,{children:["\u5728\u4f7f\u7528 ",(0,a.jsx)(n.code,{children:"during_call"})," \u6a21\u5f0f\u4e14 ",(0,a.jsx)(n.code,{children:"on_flagged_action: block"})," \u6216 ",(0,a.jsx)(n.code,{children:"on_flagged_action: passthrough"})," \u65f6\uff1a"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"LLM \u8c03\u7528\u4e0e\u62a4\u680f\u68c0\u67e5\u5e76\u884c\u8fd0\u884c"}),"\uff0c\u4f7f\u7528 ",(0,a.jsx)(n.code,{children:"asyncio.gather"})]}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"\u5373\u4f7f\u62a4\u680f\u68c0\u6d4b\u5230\u8fdd\u89c4\uff0cLLM \u4ee4\u724c\u4ecd\u7136\u88ab\u6d88\u8017"})}),"\n",(0,a.jsxs)(n.li,{children:["\u62a4\u680f\u5f02\u5e38\u4f1a\u963b\u6b62\u54cd\u5e94\u5230\u8fbe\u7528\u6237\uff0c\u4f46 ",(0,a.jsx)(n.strong,{children:"\u4e0d\u4f1a\u53d6\u6d88\u6b63\u5728\u8fd0\u884c\u7684 LLM \u4efb\u52a1"})]}),"\n",(0,a.jsx)(n.li,{children:"\u8fd9\u610f\u5473\u7740\u60a8\u5c06\u652f\u4ed8\u5168\u989d LLM \u8d39\u7528\uff0c\u540c\u65f6\u5411\u7528\u6237\u63d0\u4f9b\u9519\u8bef/\u901a\u8fc7\u6d88\u606f"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\u5efa\u8bae\uff1a"})," \u5bf9\u4e8e\u6210\u672c\u654f\u611f\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u5728\u963b\u65ad\u6216\u901a\u8fc7\u6a21\u5f0f\u4e0b\u4f7f\u7528 ",(0,a.jsx)(n.code,{children:"pre_call"})," \u548c ",(0,a.jsx)(n.code,{children:"post_call"})," \u6a21\u5f0f\u800c\u975e ",(0,a.jsx)(n.code,{children:"during_call"}),"\u3002\u4fdd\u7559 ",(0,a.jsx)(n.code,{children:"during_call"})," \u7528\u4e8e ",(0,a.jsx)(n.code,{children:"monitor"})," \u6a21\u5f0f\uff0c\u4ee5\u5b9e\u73b0\u4f4e\u5ef6\u8fdf\u65e5\u5fd7\u8bb0\u5f55\u800c\u4e0d\u5f71\u54cd\u7528\u6237\u4f53\u9a8c\u3002"]}),"\n",(0,a.jsxs)(i.A,{children:[(0,a.jsxs)(t.A,{value:"monitor",label:"\u4ec5\u76d1\u63a7",children:[(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'guardrails:\n  - guardrail_name: "cygnal-monitor-only"\n    litellm_params:\n      guardrail: grayswan\n      mode: "during_call"\n      api_key: os.environ/GRAYSWAN_API_KEY\n      optional_params:\n        on_flagged_action: monitor\n        violation_threshold: 0.6\n      default_on: true\n'})}),(0,a.jsx)(n.p,{children:"\u6700\u9002\u5408\u65e0\u963b\u65ad\u7684\u53ef\u89c1\u6027\u3002\u8b66\u62a5\u901a\u8fc7 LiteLLM \u7684\u6807\u51c6\u65e5\u5fd7\u56de\u8c03\u8bb0\u5f55\u3002"})]}),(0,a.jsxs)(t.A,{value:"block-input",label:"\u963b\u6b62\u8f93\u5165",children:[(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'guardrails:\n  - guardrail_name: "cygnal-block-input"\n    litellm_params:\n      guardrail: grayswan\n      mode: "pre_call"\n      api_key: os.environ/GRAYSWAN_API_KEY\n      optional_params:\n        on_flagged_action: block\n        violation_threshold: 0.4\n        categories:\n          pii: "\u68c0\u6d4b\u654f\u611f\u6570\u636e"\n      default_on: true\n'})}),(0,a.jsx)(n.p,{children:"\u963b\u6b62\u6076\u610f\u6216\u654f\u611f\u63d0\u793a\u5728\u4efb\u4f55\u4ee4\u724c\u751f\u6210\u4e4b\u524d\u3002"})]}),(0,a.jsxs)(t.A,{value:"full-coverage",label:"\u5168\u9762\u8986\u76d6",children:[(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'guardrails:\n  - guardrail_name: "cygnal-full-coverage"\n    litellm_params:\n      guardrail: grayswan\n      mode: [pre_call, post_call]\n      api_key: os.environ/GRAYSWAN_API_KEY\n      optional_params:\n        on_flagged_action: block\n        violation_threshold: 0.5\n        reasoning_mode: thinking\n        policy_id: "policy-id-from-grayswan"\n      default_on: true\n'})}),(0,a.jsx)(n.p,{children:"\u901a\u8fc7\u68c0\u67e5\u63d0\u793a\u548c\u54cd\u5e94\u63d0\u4f9b\u6700\u4e25\u683c\u7684\u6267\u884c\u3002"})]}),(0,a.jsxs)(t.A,{value:"passthrough",label:"\u901a\u8fc7\u6a21\u5f0f",children:[(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'guardrails:\n  - guardrail_name: "cygnal-passthrough"\n    litellm_params:\n      guardrail: grayswan\n      mode: [pre_call, post_call]\n      api_key: os.environ/GRAYSWAN_API_KEY\n      optional_params:\n        on_flagged_action: passthrough\n        violation_threshold: 0.5\n      default_on: true\n'})}),(0,a.jsxs)(n.p,{children:["\u5f53\u5185\u5bb9\u88ab\u6807\u8bb0\u65f6\uff0c\u5141\u8bb8\u8bf7\u6c42\u7ee7\u7eed\u800c\u4e0d\u629b\u51fa 400 \u9519\u8bef\u3002\u4e0e\u963b\u65ad\u4e0d\u540c\uff0c\u6a21\u578b\u54cd\u5e94\u5185\u5bb9\u5c06\u7528\u5305\u542b\u8fdd\u89c4\u5206\u6570\u3001\u8fdd\u53cd\u89c4\u5219\u548c\u68c0\u6d4b\u6807\u5fd7\uff08\u7a81\u53d8\u3001IPI\uff09\u7684\u8be6\u7ec6\u8fdd\u89c4\u6d88\u606f\u66ff\u6362\u3002",(0,a.jsx)(n.strong,{children:"\u652f\u6301\u7684\u54cd\u5e94\u683c\u5f0f\uff1a"})," OpenAI \u804a\u5929/\u6587\u672c\u8865\u5168\u3001Anthropic Messages API\u3002\u5176\u4ed6\u54cd\u5e94\u7c7b\u578b\uff08\u5d4c\u5165\u3001\u56fe\u50cf\u7b49\uff09\u5c06\u8bb0\u5f55\u8b66\u544a\u5e76\u8fd4\u56de\u672a\u66f4\u6539\u3002"]})]})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"\u914d\u7f6e\u53c2\u8003",children:"\u914d\u7f6e\u53c2\u8003"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"\u53c2\u6570"}),(0,a.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,a.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"api_key"})}),(0,a.jsx)(n.td,{children:"\u5b57\u7b26\u4e32"}),(0,a.jsxs)(n.td,{children:["\u7070\u5929\u9e45 Cygnal API \u5bc6\u94a5\u3002\u82e5\u7701\u7565\uff0c\u5219\u4ece ",(0,a.jsx)(n.code,{children:"GRAYSWAN_API_KEY"})," \u8bfb\u53d6\u3002"]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"mode"})}),(0,a.jsx)(n.td,{children:"\u5b57\u7b26\u4e32\u6216\u5217\u8868"}),(0,a.jsxs)(n.td,{children:["\u62a4\u680f\u9636\u6bb5 (",(0,a.jsx)(n.code,{children:"pre_call"}),", ",(0,a.jsx)(n.code,{children:"during_call"}),", ",(0,a.jsx)(n.code,{children:"post_call"}),")\u3002"]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"optional_params.on_flagged_action"})}),(0,a.jsx)(n.td,{children:"\u5b57\u7b26\u4e32"}),(0,a.jsxs)(n.td,{children:[(0,a.jsx)(n.code,{children:"monitor"}),"\uff08\u4ec5\u8bb0\u5f55\uff09\uff0c",(0,a.jsx)(n.code,{children:"block"}),"\uff08\u629b\u51fa ",(0,a.jsx)(n.code,{children:"HTTPException"}),"\uff09 \u6216 ",(0,a.jsx)(n.code,{children:"passthrough"}),"\uff08\u7528\u8fdd\u89c4\u6d88\u606f\u66ff\u6362\u54cd\u5e94\u5185\u5bb9\uff0c\u65e0 400 \u9519\u8bef\uff09\u3002"]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:".optional_params.violation_threshold"})}),(0,a.jsx)(n.td,{children:"\u6570\u5b57 (0-1)"}),(0,a.jsx)(n.td,{children:"\u7b49\u4e8e\u6216\u5927\u4e8e\u6b64\u503c\u7684\u5206\u6570\u88ab\u89c6\u4e3a\u8fdd\u89c4\u3002"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"optional_params.reasoning_mode"})}),(0,a.jsx)(n.td,{children:"\u5b57\u7b26\u4e32"}),(0,a.jsxs)(n.td,{children:[(0,a.jsx)(n.code,{children:"off"}),", ",(0,a.jsx)(n.code,{children:"hybrid"}),", \u6216 ",(0,a.jsx)(n.code,{children:"thinking"}),"\u3002\u542f\u7528 Cygnal \u7684\u63a8\u7406\u80fd\u529b\u3002"]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"optional_params.categories"})}),(0,a.jsx)(n.td,{children:"\u5bf9\u8c61"}),(0,a.jsx)(n.td,{children:"\u81ea\u5b9a\u4e49\u7c7b\u522b\u540d\u79f0\u5230\u63cf\u8ff0\u7684\u6620\u5c04\u3002"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"optional_params.policy_id"})}),(0,a.jsx)(n.td,{children:"\u5b57\u7b26\u4e32"}),(0,a.jsx)(n.td,{children:"\u7070\u5929\u9e45\u7b56\u7565\u6807\u8bc6\u7b26\u3002"})]})]})]})]})}function x(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}}}]);