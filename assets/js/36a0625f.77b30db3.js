(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[48906],{7227(e,n,s){"use strict";s.d(n,{A:()=>i});s(96540);var l=s(18215);const a="tabItem_Ymn6";var t=s(74848);function i({children:e,hidden:n,className:s}){return(0,t.jsx)("div",{role:"tabpanel",className:(0,l.A)(a,s),hidden:n,children:e})}},46393(e,n,s){e.exports={src:Object.assign(Object.create({toString(){return this.src}}),{srcSet:s.p+"assets/ideal-img/key_logging2.6e67bf2.640.png 640w,"+s.p+"assets/ideal-img/key_logging2.ebf0ecb.1920.png 1920w",images:[{path:s.p+"assets/ideal-img/key_logging2.6e67bf2.640.png",width:640,height:325},{path:s.p+"assets/ideal-img/key_logging2.ebf0ecb.1920.png",width:1920,height:975}],src:s.p+"assets/ideal-img/key_logging2.6e67bf2.640.png",placeholder:void 0,width:640,height:325}),preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAlElEQVR4nDWLwQoCMQwF+/8f59GbuIhSZCtbm7ZpXpNG9uCDOQzDC63jKtBHbbwxjw2Czcy2tdbJXdWeAC6hslRz9868BNP/G1OdBpYsd8bcQ6u1qE7/fovW1q2UYjFGS+ljhUjPk5m9AzPXU3rnpWpORJ5ScmA6gHU2wPZARC8RKTzGMYZkYGYAWdWyux05zxYjbj8trMDbjmKP2gAAAABJRU5ErkJggg=="}},49489(e,n,s){"use strict";s.d(n,{A:()=>y});var l=s(96540),a=s(18215),t=s(24245),i=s(56347),c=s(36494),r=s(62814),d=s(45167),o=s(69900);function h(e){return l.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function g(e){const{values:n,children:s}=e;return(0,l.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:s,default:l}})=>({value:e,label:n,attributes:s,default:l}))}(s);return function(e){const n=(0,d.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,s])}function u({value:e,tabValues:n}){return n.some(n=>n.value===e)}function p({queryString:e=!1,groupId:n}){const s=(0,i.W6)(),a=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,r.aZ)(a),(0,l.useCallback)(e=>{if(!a)return;const n=new URLSearchParams(s.location.search);n.set(a,e),s.replace({...s.location,search:n.toString()})},[a,s])]}function j(e){const{defaultValue:n,queryString:s=!1,groupId:a}=e,t=g(e),[i,r]=(0,l.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!u({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const s=n.find(e=>e.default)??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:t})),[d,h]=p({queryString:s,groupId:a}),[j,m]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[s,a]=(0,o.Dv)(n);return[s,(0,l.useCallback)(e=>{n&&a.set(e)},[n,a])]}({groupId:a}),x=(()=>{const e=d??j;return u({value:e,tabValues:t})?e:null})();(0,c.A)(()=>{x&&r(x)},[x]);return{selectedValue:i,selectValue:(0,l.useCallback)(e=>{if(!u({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);r(e),h(e),m(e)},[h,m,t]),tabValues:t}}var m=s(11062);const x="tabList__CuJ",b="tabItem_LNqP";var _=s(74848);function f({className:e,block:n,selectedValue:s,selectValue:l,tabValues:i}){const c=[],{blockElementScrollPositionUntilNextRender:r}=(0,t.a_)(),d=e=>{const n=e.currentTarget,a=c.indexOf(n),t=i[a].value;t!==s&&(r(n),l(t))},o=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const s=c.indexOf(e.currentTarget)+1;n=c[s]??c[0];break}case"ArrowLeft":{const s=c.indexOf(e.currentTarget)-1;n=c[s]??c[c.length-1];break}}n?.focus()};return(0,_.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},e),children:i.map(({value:e,label:n,attributes:l})=>(0,_.jsx)("li",{role:"tab",tabIndex:s===e?0:-1,"aria-selected":s===e,ref:e=>{c.push(e)},onKeyDown:o,onClick:d,...l,className:(0,a.A)("tabs__item",b,l?.className,{"tabs__item--active":s===e}),children:n??e},e))})}function A({lazy:e,children:n,selectedValue:s}){const t=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=t.find(e=>e.props.value===s);return e?(0,l.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,_.jsx)("div",{className:"margin-top--md",children:t.map((e,n)=>(0,l.cloneElement)(e,{key:n,hidden:e.props.value!==s}))})}function k(e){const n=j(e);return(0,_.jsxs)("div",{className:(0,a.A)("tabs-container",x),children:[(0,_.jsx)(f,{...n,...e}),(0,_.jsx)(A,{...n,...e})]})}function y(e){const n=(0,m.A)();return(0,_.jsx)(k,{...e,children:h(e.children)},String(n))}},57706(e,n,s){"use strict";s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>o,default:()=>p,frontMatter:()=>d,metadata:()=>l,toc:()=>g});const l=JSON.parse('{"id":"proxy/team_logging","title":"\u56e2\u961f/\u57fa\u4e8e\u5bc6\u94a5\u7684\u65e5\u5fd7\u8bb0\u5f55","description":"\u6982\u8ff0","source":"@site/docs/proxy/team_logging.md","sourceDirName":"proxy","slug":"/proxy/team_logging","permalink":"/docs/proxy/team_logging","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"logging_spec","permalink":"/docs/proxy/logging_spec"},"next":{"title":"Email Notifications","permalink":"/docs/proxy/email"}}');var a=s(74848),t=s(28453),i=s(90547),c=s(49489),r=s(7227);const d={},o="\u56e2\u961f/\u57fa\u4e8e\u5bc6\u94a5\u7684\u65e5\u5fd7\u8bb0\u5f55",h={},g=[{value:"\u6982\u8ff0",id:"\u6982\u8ff0",level:2},{value:"\u652f\u6301\u7684\u503c",id:"\u652f\u6301\u7684\u503c",level:5},{value:"2. \u4e3a\u56e2\u961f\u521b\u5efa\u5bc6\u94a5",id:"2-\u4e3a\u56e2\u961f\u521b\u5efa\u5bc6\u94a5",level:4},{value:"3. \u4e3a\u56e2\u961f\u53d1\u9001 <code>/chat/completion</code> \u8bf7\u6c42",id:"3-\u4e3a\u56e2\u961f\u53d1\u9001-chatcompletion-\u8bf7\u6c42",level:4},{value:"\u7981\u7528\u7279\u5b9a\u56e2\u961f\u7684\u65e5\u5fd7",id:"\u7981\u7528\u7279\u5b9a\u56e2\u961f\u7684\u65e5\u5fd7",level:3},{value:"1. \u7981\u7528\u56e2\u961f\u7684\u65e5\u5fd7",id:"1-\u7981\u7528\u56e2\u961f\u7684\u65e5\u5fd7",level:4},{value:"2. \u6d4b\u8bd5 - <code>/chat/completions</code>",id:"2-\u6d4b\u8bd5---chatcompletions",level:4},{value:"\u8c03\u8bd5/\u6545\u969c\u6392\u9664",id:"\u8c03\u8bd5\u6545\u969c\u6392\u9664",level:4},{value:"\u56e2\u961f\u65e5\u5fd7\u7aef\u70b9",id:"\u56e2\u961f\u65e5\u5fd7\u7aef\u70b9",level:3},{value:"\u56e2\u961f\u65e5\u5fd7 - <code>config.yaml</code>",id:"\u56e2\u961f\u65e5\u5fd7---configyaml",level:2},{value:"[BETA] \u57fa\u4e8e\u5bc6\u94a5\u7684\u65e5\u5fd7\u8bb0\u5f55",id:"beta-\u57fa\u4e8e\u5bc6\u94a5\u7684\u65e5\u5fd7\u8bb0\u5f55",level:2},{value:"UI \u4f7f\u7528\u65b9\u6cd5",id:"ui-\u4f7f\u7528\u65b9\u6cd5",level:3},{value:"API \u4f7f\u7528\u65b9\u6cd5",id:"api-\u4f7f\u7528\u65b9\u6cd5",level:3},{value:"\u68c0\u67e5\u5bc6\u94a5\u56de\u8c03\u662f\u5426\u914d\u7f6e\u6b63\u786e <code>/key/health</code>",id:"\u68c0\u67e5\u5bc6\u94a5\u56de\u8c03\u662f\u5426\u914d\u7f6e\u6b63\u786e-keyhealth",level:3},{value:"\u7981\u7528/\u542f\u7528\u6d88\u606f\u5c4f\u853d",id:"\u7981\u7528\u542f\u7528\u6d88\u606f\u5c4f\u853d",level:3}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"\u56e2\u961f\u57fa\u4e8e\u5bc6\u94a5\u7684\u65e5\u5fd7\u8bb0\u5f55",children:"\u56e2\u961f/\u57fa\u4e8e\u5bc6\u94a5\u7684\u65e5\u5fd7\u8bb0\u5f55"})}),"\n",(0,a.jsx)(n.h2,{id:"\u6982\u8ff0",children:"\u6982\u8ff0"}),"\n",(0,a.jsx)(n.p,{children:"\u5141\u8bb8\u6bcf\u4e2a\u56e2\u961f\u4f7f\u7528\u81ea\u5df1\u7684Langfuse\u9879\u76ee\u6216\u81ea\u5b9a\u4e49\u56de\u8c03\u3002\u8fd9\u53ef\u4ee5\u5b9e\u73b0\u66f4\u7ec6\u7c92\u5ea6\u7684\u63a7\u5236\u548c\u5408\u89c4\u8981\u6c42\u3002"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\u793a\u4f8b\u7528\u4f8b\uff1a"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-showLineNumbers",metastring:'title="\u57fa\u4e8e\u56e2\u961f\u7684\u65e5\u5fd7\u8bb0\u5f55"',children:"Team 1 -> \u8bb0\u5f55\u5230Langfuse\u9879\u76ee 1 \nTeam 2 -> \u8bb0\u5f55\u5230Langfuse\u9879\u76ee 2\nTeam 3 -> \u7981\u7528\u65e5\u5fd7\uff08\u7528\u4e8eGDPR\u5408\u89c4\uff09\n\n\n## \u652f\u6301\u7684\u65e5\u5fd7\u96c6\u6210\n- `langfuse`\n- `gcs_bucket`\n- `langsmith`\n- `arize`\n\n\n## [BETA] \u57fa\u4e8e\u56e2\u961f\u7684\u65e5\u5fd7\u8bb0\u5f55\n\n:::info\n\n\u2728 \u8fd9\u662f\u4e00\u4e2a\u4ec5\u9650\u4f01\u4e1a\u529f\u80fd\uff0c\u8bf7\u5728\u6b64\u5904\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\uff1a[\u5f00\u59cb\u4f7f\u7528\u4f01\u4e1a\u7248](https://calendly.com/d/4mp-gd3-k5k/litellm-1-1-onboarding-chat)\n\n:::\n\n### UI \u4f7f\u7528\u65b9\u6cd5\n\n1. \u521b\u5efa\u5177\u6709\u65e5\u5fd7\u8bbe\u7f6e\u7684\u56e2\u961f\n\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a\u201cAI Agents\u201d\u7684\u56e2\u961f\u3002\n<Image \n  img={require('../../img/team_logging1.png')}\n  style={{width: '100%', display: 'block', margin: '2rem auto'}}\n/>\n\n<br />\n\n\n2. \u4e3a\u56e2\u961f\u521b\u5efa\u5bc6\u94a5\n\n\u6211\u4eec\u5c06\u4e3a\u56e2\u961f\u201cAI Agents\u201d\u521b\u5efa\u4e00\u4e2a\u5bc6\u94a5\u3002\u56e2\u961f\u7684\u65e5\u5fd7\u8bbe\u7f6e\u5c06\u7528\u4e8e\u8be5\u56e2\u961f\u521b\u5efa\u7684\u6240\u6709\u5bc6\u94a5\u3002\n\n<Image \n  img={require('../../img/team_logging2.png')}\n  style={{width: '80%', display: 'block', margin: '2rem auto', border: '1px solid #E5E7EB'}}\n/>\n\n<br />\n\n\n3. \u6d4b\u8bd5LLM API\u8bf7\u6c42\n\n\u4f7f\u7528\u65b0\u5bc6\u94a5\u8fdb\u884c\u6d4b\u8bd5LLM API\u8bf7\u6c42\uff0c\u6211\u4eec\u671f\u671b\u5728\u914d\u7f6e\u7684\u65e5\u5fd7\u63d0\u4f9b\u7a0b\u5e8f\u4e2d\u770b\u5230\u65e5\u5fd7\u3002\n\n<Image \n  img={require('../../img/team_logging3.png')}\n  style={{width: '100%', display: 'block', margin: '2rem auto'}}\n/>\n\n<br />\n\n4. \u5728\u60a8\u7684\u65e5\u5fd7\u63d0\u4f9b\u7a0b\u5e8f\u4e2d\u68c0\u67e5\u65e5\u5fd7\n\n\u5bfc\u822a\u5230\u60a8\u914d\u7f6e\u7684\u65e5\u5fd7\u63d0\u4f9b\u7a0b\u5e8f\u5e76\u68c0\u67e5\u662f\u5426\u6536\u5230\u4e86\u6b65\u9aa42\u4e2d\u7684\u65e5\u5fd7\u3002\n\n<Image \n  img={require('../../img/team_logging4.png')}\n  style={{width: '100%', display: 'block', margin: '2rem auto'}}\n/>\n\n<br />\n\n### API \u4f7f\u7528\u65b9\u6cd5\n### \u6309\u56e2\u961f\u8bbe\u7f6e\u56de\u8c03\n\n#### 1. \u8bbe\u7f6e\u56e2\u961f\u7684\u56de\u8c03\n\n\u6211\u4eec\u5411 `POST /team/{team_id}/callback` \u53d1\u9001\u8bf7\u6c42\u4ee5\u6dfb\u52a0\u56de\u8c03\uff1a\n\n```shell\ncurl -X POST 'http:/localhost:4000/team/dbe2f686-a686-4896-864a-4c3924458709/callback' \\\n-H 'Content-Type: application/json' \\\n-H 'Authorization: Bearer sk-1234' \\\n-d '{\n  \"callback_name\": \"langfuse\",\n  \"callback_type\": \"success\",\n  \"callback_vars\": {\n    \"langfuse_public_key\": \"pk\", \n    \"langfuse_secret_key\": \"sk_\", \n    \"langfuse_host\": \"https://cloud.langfuse.com\"\n    }\n  \n}'\n"})}),"\n",(0,a.jsx)(n.h5,{id:"\u652f\u6301\u7684\u503c",children:"\u652f\u6301\u7684\u503c"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"\u5b57\u6bb5"}),(0,a.jsx)(n.th,{children:"\u652f\u6301\u7684\u503c"}),(0,a.jsx)(n.th,{children:"\u5907\u6ce8"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"callback_name"})}),(0,a.jsxs)(n.td,{children:[(0,a.jsx)(n.code,{children:'"langfuse"'}),", ",(0,a.jsx)(n.code,{children:'"gcs_bucket"'})]}),(0,a.jsxs)(n.td,{children:["\u76ee\u524d\u4ec5\u652f\u6301 ",(0,a.jsx)(n.code,{children:'"langfuse"'}),", ",(0,a.jsx)(n.code,{children:'"gcs_bucket"'})]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"callback_type"})}),(0,a.jsxs)(n.td,{children:[(0,a.jsx)(n.code,{children:'"success"'}),", ",(0,a.jsx)(n.code,{children:'"failure"'}),", ",(0,a.jsx)(n.code,{children:'"success_and_failure"'})]}),(0,a.jsx)(n.td,{})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"callback_vars"})}),(0,a.jsx)(n.td,{}),(0,a.jsx)(n.td,{children:"\u56de\u8c03\u8bbe\u7f6e\u7684\u5b57\u5178"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsxs)(n.td,{children:["\xa0\xa0\xa0\xa0",(0,a.jsx)(n.code,{children:"langfuse_public_key"})]}),(0,a.jsx)(n.td,{children:"\u5b57\u7b26\u4e32"}),(0,a.jsx)(n.td,{children:"\u5bf9\u4e8eLangfuse\u662f\u5fc5\u9700\u7684"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsxs)(n.td,{children:["\xa0\xa0\xa0\xa0",(0,a.jsx)(n.code,{children:"langfuse_secret_key"})]}),(0,a.jsx)(n.td,{children:"\u5b57\u7b26\u4e32"}),(0,a.jsx)(n.td,{children:"\u5bf9\u4e8eLangfuse\u662f\u5fc5\u9700\u7684"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsxs)(n.td,{children:["\xa0\xa0\xa0\xa0",(0,a.jsx)(n.code,{children:"langfuse_host"})]}),(0,a.jsx)(n.td,{children:"\u5b57\u7b26\u4e32"}),(0,a.jsxs)(n.td,{children:["\u5bf9\u4e8eLangfuse\u53ef\u9009\uff08\u9ed8\u8ba4\u4e3a ",(0,a.jsx)(n.a,{href:"https://cloud.langfuse.com%EF%BC%89",children:"https://cloud.langfuse.com\uff09"})]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsxs)(n.td,{children:["\xa0\xa0\xa0\xa0",(0,a.jsx)(n.code,{children:"gcs_bucket_name"})]}),(0,a.jsx)(n.td,{children:"\u5b57\u7b26\u4e32"}),(0,a.jsx)(n.td,{children:"\u5bf9\u4e8eGCS Bucket\uff0c\u60a8\u7684GCS\u5b58\u50a8\u6876\u540d\u79f0"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsxs)(n.td,{children:["\xa0\xa0\xa0\xa0",(0,a.jsx)(n.code,{children:"gcs_path_service_account"})]}),(0,a.jsx)(n.td,{children:"\u5b57\u7b26\u4e32"}),(0,a.jsx)(n.td,{children:"\u5bf9\u4e8eGCS Bucket\uff0c\u670d\u52a1\u8d26\u6237json\u8def\u5f84"})]})]})]}),"\n",(0,a.jsx)(n.h4,{id:"2-\u4e3a\u56e2\u961f\u521b\u5efa\u5bc6\u94a5",children:"2. \u4e3a\u56e2\u961f\u521b\u5efa\u5bc6\u94a5"}),"\n",(0,a.jsxs)(n.p,{children:["\u6240\u6709\u4e3a\u56e2\u961f ",(0,a.jsx)(n.code,{children:"dbe2f686-a686-4896-864a-4c3924458709"})," \u521b\u5efa\u7684\u5bc6\u94a5\u5c06\u8bb0\u5f55\u5230\u5728 ",(0,a.jsx)(n.a,{href:"#1-%E8%AE%BE%E7%BD%AE%E5%9B%A2%E9%98%9F%E5%9B%9E%E8%B0%83",children:"\u6b65\u9aa41. \u8bbe\u7f6e\u56e2\u961f\u56de\u8c03"})," \u4e2d\u6307\u5b9a\u7684Langfuse\u9879\u76ee\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"curl --location 'http://0.0.0.0:4000/key/generate' \\\n    --header 'Authorization: Bearer sk-1234' \\\n    --header 'Content-Type: application/json' \\\n    --data '{\n        \"team_id\": \"dbe2f686-a686-4896-864a-4c3924458709\"\n}'\n"})}),"\n",(0,a.jsxs)(n.h4,{id:"3-\u4e3a\u56e2\u961f\u53d1\u9001-chatcompletion-\u8bf7\u6c42",children:["3. \u4e3a\u56e2\u961f\u53d1\u9001 ",(0,a.jsx)(n.code,{children:"/chat/completion"})," \u8bf7\u6c42"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'curl -i http://localhost:4000/v1/chat/completions \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer sk-KbUuE0WNptC0jXapyMmLBA" \\\n  -d \'{\n    "model": "gpt-4",\n    "messages": [\n      {"role": "user", "content": "Hello, Claude gm!"}\n    ]\n}\'\n'})}),"\n",(0,a.jsxs)(n.p,{children:["\u671f\u671b\u8fd9\u4e9b\u65e5\u5fd7\u8bb0\u5f55\u5728 ",(0,a.jsx)(n.a,{href:"#1-%E8%AE%BE%E7%BD%AE%E5%9B%A2%E9%98%9F%E5%9B%9E%E8%B0%83",children:"\u6b65\u9aa41. \u8bbe\u7f6e\u56e2\u961f\u56de\u8c03"})," \u4e2d\u6307\u5b9a\u7684Langfuse\u9879\u76ee\u4e2d\u3002"]}),"\n",(0,a.jsx)(n.h3,{id:"\u7981\u7528\u7279\u5b9a\u56e2\u961f\u7684\u65e5\u5fd7",children:"\u7981\u7528\u7279\u5b9a\u56e2\u961f\u7684\u65e5\u5fd7"}),"\n",(0,a.jsx)(n.p,{children:"\u8981\u7981\u7528\u7279\u5b9a\u56e2\u961f\u7684\u65e5\u5fd7\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u7aef\u70b9\uff1a"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:"POST /team/{team_id}/disable_logging"})}),"\n",(0,a.jsx)(n.p,{children:"\u6b64\u7aef\u70b9\u5c06\u79fb\u9664\u6307\u5b9a\u56e2\u961f\u7684\u6240\u6709\u6210\u529f\u548c\u5931\u8d25\u56de\u8c03\uff0c\u4ece\u800c\u6709\u6548\u7981\u7528\u65e5\u5fd7\u8bb0\u5f55\u3002"}),"\n",(0,a.jsx)(n.h4,{id:"1-\u7981\u7528\u56e2\u961f\u7684\u65e5\u5fd7",children:"1. \u7981\u7528\u56e2\u961f\u7684\u65e5\u5fd7"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"curl -X POST 'http://localhost:4000/team/YOUR_TEAM_ID/disable_logging' \\\n    -H 'Authorization: Bearer YOUR_API_KEY'\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u66ff\u6362YOUR_TEAM_ID\u4e3a\u5b9e\u9645\u7684\u56e2\u961fID"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\u54cd\u5e94"}),"\n\u6210\u529f\u7684\u8bf7\u6c42\u5c06\u8fd4\u56de\u7c7b\u4f3c\u4e8e\u4ee5\u4e0b\u5185\u5bb9\u7684\u54cd\u5e94\uff1a"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n    "status": "success",\n    "message": "Logging disabled for team YOUR_TEAM_ID",\n    "data": {\n        "team_id": "YOUR_TEAM_ID",\n        "success_callbacks": [],\n        "failure_callbacks": []\n    }\n}\n'})}),"\n",(0,a.jsxs)(n.h4,{id:"2-\u6d4b\u8bd5---chatcompletions",children:["2. \u6d4b\u8bd5 - ",(0,a.jsx)(n.code,{children:"/chat/completions"})]}),"\n",(0,a.jsxs)(n.p,{children:["\u4f7f\u7528\u4e3a\u56e2\u961f\u751f\u6210\u7684\u5bc6\u94a5\uff08",(0,a.jsx)(n.code,{children:"team_id"}),"\uff09\u8fdb\u884c\u6d4b\u8bd5\uff0c\u60a8\u5e94\u8be5\u5728\u914d\u7f6e\u7684\u6210\u529f\u56de\u8c03\u4e2d\u770b\u4e0d\u5230\u65e5\u5fd7\uff08\u4f8b\u5982Langfuse\uff09\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'curl -i http://localhost:4000/v1/chat/completions \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer sk-KbUuE0WNptC0jXapyMmLBA" \\\n  -d \'{\n    "model": "gpt-4",\n    "messages": [\n      {"role": "user", "content": "Hello, Claude gm!"}\n    ]\n}\'\n'})}),"\n",(0,a.jsx)(n.h4,{id:"\u8c03\u8bd5\u6545\u969c\u6392\u9664",children:"\u8c03\u8bd5/\u6545\u969c\u6392\u9664"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\u4f7f\u7528 ",(0,a.jsx)(n.code,{children:"GET /team/{team_id}/callback"})," \u68c0\u67e5\u56e2\u961f\u7684\u6d3b\u8dc3\u56de\u8c03"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["\u4f7f\u7528\u6b64\u547d\u4ee4\u68c0\u67e5\u56e2\u961f=",(0,a.jsx)(n.code,{children:"team_id"}),"\u4e2d\u7684\u6210\u529f/\u5931\u8d25\u56de\u8c03\u662f\u5426\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"curl -X GET 'http://localhost:4000/team/dbe2f686-a686-4896-864a-4c3924458709/callback' \\\n        -H 'Authorization: Bearer sk-1234'\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u56e2\u961f\u65e5\u5fd7\u7aef\u70b9",children:"\u56e2\u961f\u65e5\u5fd7\u7aef\u70b9"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsxs)(n.a,{href:"https://litellm-api.up.railway.app/#/team%20management/add_team_callbacks_team__team_id__callback_post",children:[(0,a.jsx)(n.code,{children:"POST /team/{team_id}/callback"})," \u5411\u56e2\u961f\u6dfb\u52a0\u6210\u529f/\u5931\u8d25\u56de\u8c03"]})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsxs)(n.a,{href:"https://litellm-api.up.railway.app/#/team%20management/get_team_callbacks_team__team_id__callback_get",children:[(0,a.jsx)(n.code,{children:"GET /team/{team_id}/callback"})," - \u83b7\u53d6\u56e2\u961f\u7684\u6210\u529f/\u5931\u8d25\u56de\u8c03\u53ca\u5176\u53d8\u91cf"]})}),"\n"]}),"\n",(0,a.jsxs)(n.h2,{id:"\u56e2\u961f\u65e5\u5fd7---configyaml",children:["\u56e2\u961f\u65e5\u5fd7 - ",(0,a.jsx)(n.code,{children:"config.yaml"})]}),"\n",(0,a.jsx)(n.p,{children:"\u4e3a\u7279\u5b9a\u7684\u56e2\u961fID\u5f00\u542f\u6216\u5173\u95ed\u65e5\u5fd7\u548c\u7f13\u5b58\u3002"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\u793a\u4f8b\uff1a"})}),"\n",(0,a.jsx)(n.p,{children:"\u6b64\u914d\u7f6e\u5c06\u6839\u636e\u56e2\u961fID\u5411\u4e24\u4e2a\u4e0d\u540c\u7684Langfuse\u9879\u76ee\u53d1\u9001\u65e5\u5fd7"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'litellm_settings:\n  default_team_settings: \n    - team_id: "dbe2f686-a686-4896-864a-4c3924458709"\n      success_callback: ["langfuse"]\n      langfuse_public_key: os.environ/LANGFUSE_PUB_KEY_1 # \u9879\u76ee1\n      langfuse_secret: os.environ/LANGFUSE_PRIVATE_KEY_1 # \u9879\u76ee1\n    - team_id: "06ed1e01-3fa7-4b9e-95bc-f2e59b74f3a8"\n      success_callback: ["langfuse"]\n      langfuse_public_key: os.environ/LANGFUSE_PUB_KEY_2 # \u9879\u76ee2\n      langfuse_secret: os.environ/LANGFUSE_SECRET_2 # \u9879\u76ee2\n'})}),"\n",(0,a.jsx)(n.p,{children:"\u73b0\u5728\uff0c\u5f53\u60a8\u4e3a\u8fd9\u4e2a\u56e2\u961fID\u751f\u6210\u5bc6\u94a5\u65f6"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"curl -X POST 'http://0.0.0.0:4000/key/generate' \\\n-H 'Authorization: Bearer sk-1234' \\\n-H 'Content-Type: application/json' \\\n-d '{\"team_id\": \"06ed1e01-3fa7-4b9e-95bc-f2e59b74f3a8\"}'\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u4f7f\u7528\u8fd9\u4e9b\u5bc6\u94a5\u8fdb\u884c\u7684\u6240\u6709\u8bf7\u6c42\u90fd\u5c06\u8bb0\u5f55\u5230\u5176\u56e2\u961f\u7279\u5b9a\u7684\u65e5\u5fd7\u4e2d\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"beta-\u57fa\u4e8e\u5bc6\u94a5\u7684\u65e5\u5fd7\u8bb0\u5f55",children:"[BETA] \u57fa\u4e8e\u5bc6\u94a5\u7684\u65e5\u5fd7\u8bb0\u5f55"}),"\n",(0,a.jsxs)(n.p,{children:["\u901a\u8fc7 ",(0,a.jsx)(n.code,{children:"/key/generate"})," \u6216 ",(0,a.jsx)(n.code,{children:"/key/update"})," \u7aef\u70b9\u4e3a\u7279\u5b9a\u5bc6\u94a5\u6dfb\u52a0\u65e5\u5fd7\u56de\u8c03\u3002"]}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.p,{children:["\u2728 \u8fd9\u662f\u4e00\u4e2a\u4ec5\u9650\u4f01\u4e1a\u529f\u80fd\uff0c\u8bf7\u5728\u6b64\u5904\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\uff1a",(0,a.jsx)(n.a,{href:"https://calendly.com/d/4mp-gd3-k5k/litellm-1-1-onboarding-chat",children:"\u5f00\u59cb\u4f7f\u7528\u4f01\u4e1a\u7248"})]})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\u57fa\u4e8e\u5bc6\u94a5\u7684\u65e5\u5fd7\u8bb0\u5f55\u5de5\u4f5c\u539f\u7406\uff1a"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\u5982\u679c ",(0,a.jsx)(n.strong,{children:"\u5bc6\u94a5\u6ca1\u6709\u914d\u7f6e\u56de\u8c03"}),"\uff0c\u5b83\u5c06\u4f7f\u7528 ",(0,a.jsx)(n.code,{children:"config.yaml"})," \u6587\u4ef6\u4e2d\u6307\u5b9a\u7684\u9ed8\u8ba4\u56de\u8c03"]}),"\n",(0,a.jsxs)(n.li,{children:["\u5982\u679c ",(0,a.jsx)(n.strong,{children:"\u5bc6\u94a5\u5df2\u914d\u7f6e\u56de\u8c03"}),"\uff0c\u5219\u5c06\u4f7f\u7528\u5bc6\u94a5\u4e2d\u6307\u5b9a\u7684\u56de\u8c03"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"ui-\u4f7f\u7528\u65b9\u6cd5",children:"UI \u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"\u521b\u5efa\u5177\u6709\u65e5\u5fd7\u8bbe\u7f6e\u7684\u5bc6\u94a5"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"\u5728\u521b\u5efa\u5bc6\u94a5\u65f6\uff0c\u53ef\u4ee5\u4e3a\u8be5\u5bc6\u94a5\u914d\u7f6e\u7279\u5b9a\u7684\u65e5\u5fd7\u8bbe\u7f6e\u3002\u8fd9\u4e9b\u65e5\u5fd7\u8bbe\u7f6e\u5c06\u7528\u4e8e\u6240\u6709\u4f7f\u7528\u6b64\u5bc6\u94a5\u8fdb\u884c\u7684\u8bf7\u6c42\u3002"}),"\n",(0,a.jsx)(i.A,{img:s(84963),style:{width:"100%",display:"block",margin:"2rem auto"}}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsx)(n.li,{children:"\u6d4b\u8bd5LLM API\u8bf7\u6c42"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"\u4f7f\u7528\u65b0\u751f\u6210\u7684\u5bc6\u94a5\u8fdb\u884c\u6d4b\u8bd5LLM API\u8bf7\u6c42\uff0c\u6211\u4eec\u671f\u671b\u5728\u914d\u7f6e\u7684\u65e5\u5fd7\u63d0\u4f9b\u7a0b\u5e8f\u4e2d\u770b\u5230\u65e5\u5fd7\u3002"}),"\n",(0,a.jsx)(i.A,{img:s(46393),style:{width:"100%",display:"block",margin:"2rem auto"}}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsx)(n.li,{children:"\u5728\u60a8\u7684\u65e5\u5fd7\u63d0\u4f9b\u7a0b\u5e8f\u4e2d\u68c0\u67e5\u65e5\u5fd7"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"\u5bfc\u822a\u5230\u60a8\u914d\u7f6e\u7684\u65e5\u5fd7\u63d0\u4f9b\u7a0b\u5e8f\u5e76\u68c0\u67e5\u662f\u5426\u6536\u5230\u4e86\u6b65\u9aa42\u4e2d\u7684\u65e5\u5fd7\u3002"}),"\n",(0,a.jsx)(i.A,{img:s(90191),style:{width:"100%",display:"block",margin:"2rem auto"}}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsx)(n.h3,{id:"api-\u4f7f\u7528\u65b9\u6cd5",children:"API \u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,a.jsxs)(c.A,{children:[(0,a.jsxs)(r.A,{label:"Langfuse",value:"langfuse",children:[(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'curl -X POST \'http://0.0.0.0:4000/key/generate\' \\\n-H \'Authorization: Bearer sk-1234\' \\\n-H \'Content-Type: application/json\' \\\n-d \'{\n    "metadata": {\n        "logging": [{\n            "callback_name": "langfuse", # "otel", "gcs_bucket"\n            "callback_type": "success", # "success", "failure", "success_and_failure"\n            "callback_vars": {\n                "langfuse_public_key": "os.environ/LANGFUSE_PUBLIC_KEY", # [\u63a8\u8350] \u5728\u4ee3\u7406\u73af\u5883\u4e2d\u5f15\u7528\u5bc6\u94a5\n                "langfuse_secret_key": "os.environ/LANGFUSE_SECRET_KEY", # [\u63a8\u8350] \u5728\u4ee3\u7406\u73af\u5883\u4e2d\u5f15\u7528\u5bc6\u94a5\n                "langfuse_host": "https://cloud.langfuse.com"\n            }\n        }]\n    }\n}\'\n\n'})}),(0,a.jsx)("iframe",{width:"840",height:"500",src:"https://www.youtube.com/embed/8iF0Hvwk0YU",frameborder:"0",webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0})]}),(0,a.jsxs)(r.A,{label:"GCS Bucket",value:"gcs_bucket",children:[(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"\u4e3a\u7279\u5b9a\u7684GCS\u5b58\u50a8\u6876\u521b\u5efa\u865a\u62df\u5bc6\u94a5"}),"\n"]}),(0,a.jsxs)(n.p,{children:["\u5728\u73af\u5883\u53d8\u91cf\u4e2d\u8bbe\u7f6e ",(0,a.jsx)(n.code,{children:"GCS_SERVICE_ACCOUNT"})," \u4e3a\u60a8\u670d\u52a1\u8d26\u6237json\u6587\u4ef6\u7684\u8def\u5f84"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"export GCS_SERVICE_ACCOUNT=/path/to/service-account.json # GCS_SERVICE_ACCOUNT=/Users/ishaanjaffer/Downloads/adroit-crow-413218-a956eef1a2a8.json\n"})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'curl -X POST \'http://0.0.0.0:4000/key/generate\' \\\n  -H \'Authorization: Bearer sk-1234\' \\\n  -H \'Content-Type: application/json\' \\\n  -d \'{\n      "metadata": {\n          "logging": [{\n              "callback_name": "gcs_bucket", # "otel", "gcs_bucket"\n              "callback_type": "success", # "success", "failure", "success_and_failure"\n              "callback_vars": {\n                  "gcs_bucket_name": "my-gcs-bucket", # \u60a8\u8981\u8bb0\u5f55\u7684\u65e5\u5fd7\u7684GCS\u5b58\u50a8\u6876\u540d\u79f0\n                  "gcs_path_service_account": "os.environ/GCS_SERVICE_ACCOUNT" # \u670d\u52a1\u8d26\u6237json\u6587\u4ef6\u7684\u73af\u5883\u53d8\u91cf\u8def\u5f84\n              }\n          }]\n      }\n  }\'\n\n'})}),(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsxs)(n.li,{children:["\u6d4b\u8bd5 - ",(0,a.jsx)(n.code,{children:"/chat/completions"})," \u8bf7\u6c42"]}),"\n"]}),(0,a.jsxs)(n.p,{children:["\u4f7f\u7528\u6b65\u9aa43\u4e2d\u751f\u6210\u7684\u865a\u62df\u5bc6\u94a5\u8fdb\u884c ",(0,a.jsx)(n.code,{children:"/chat/completions"})," \u8bf7\u6c42\u3002"]}),(0,a.jsx)(n.p,{children:"\u60a8\u5e94\u8be5\u5728\u6210\u529f\u8bf7\u6c42\u65f6\u770b\u5230\u60a8\u7684\u65e5\u5fd7\u8bb0\u5f55\u5728GCS\u5b58\u50a8\u6876\u4e0a\u3002"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'curl -i http://localhost:4000/v1/chat/completions \\\n    -H "Content-Type: application/json" \\\n    -H "Authorization: Bearer sk-Fxq5XSyWKeXDKfPdqXZhPg" \\\n    -d \'{\n      "model": "fake-openai-endpoint",\n      "messages": [\n        {"role": "user", "content": "Hello, Claude"}\n      ],\n      "user": "hello",\n    }\'\n'})})]}),(0,a.jsxs)(r.A,{label:"Langsmith",value:"langsmith",children:[(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"\u4e3a\u7279\u5b9a\u7684Langsmith\u9879\u76ee\u521b\u5efa\u865a\u62df\u5bc6\u94a5"}),"\n"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'curl -X POST \'http://0.0.0.0:4000/key/generate\' \\\n  -H \'Authorization: Bearer sk-1234\' \\\n  -H \'Content-Type: application/json\' \\\n  -d \'{\n      "metadata": {\n          "logging": [{\n              "callback_name": "langsmith", # "otel", "gcs_bucket"\n              "callback_type": "success", # "success", "failure", "success_and_failure"\n              "callback_vars": {\n                  "langsmith_api_key": "os.environ/LANGSMITH_API_KEY", # Langsmith\u65e5\u5fd7API\u5bc6\u94a5\n                  "langsmith_project": "pr-brief-resemblance-72", # Langsmith\u4e0a\u7684\u9879\u76ee\u540d\u79f0\n                  "langsmith_base_url": "https://api.smith.langchain.com"\n              }\n          }]\n      }\n  }\'\n\n'})}),(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsxs)(n.li,{children:["\u6d4b\u8bd5 - ",(0,a.jsx)(n.code,{children:"/chat/completions"})," \u8bf7\u6c42"]}),"\n"]}),(0,a.jsxs)(n.p,{children:["\u4f7f\u7528\u6b65\u9aa43\u4e2d\u751f\u6210\u7684\u865a\u62df\u5bc6\u94a5\u8fdb\u884c ",(0,a.jsx)(n.code,{children:"/chat/completions"})," \u8bf7\u6c42\u3002"]}),(0,a.jsx)(n.p,{children:"\u60a8\u5e94\u8be5\u5728\u6210\u529f\u8bf7\u6c42\u65f6\u770b\u5230\u60a8\u7684\u65e5\u5fd7\u8bb0\u5f55\u5728Langsmith\u9879\u76ee\u4e0a\u3002"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'curl -i http://localhost:4000/v1/chat/completions \\\n    -H "Content-Type: application/json" \\\n    -H "Authorization: Bearer sk-Fxq5XSyWKeXDKfPdqXZhPg" \\\n    -d \'{\n      "model": "fake-openai-endpoint",\n      "messages": [\n        {"role": "user", "content": "Hello, Claude"}\n      ],\n      "user": "hello",\n    }\'\n'})})]})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.p,{children:["\u5e2e\u52a9\u6211\u4eec\u6539\u8fdb\u6b64\u529f\u80fd\uff0c\u8bf7\u5728\u6b64\u5904\u63d0\u4ea4 ",(0,a.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/issues",children:"\u95ee\u9898\u5355"})]}),"\n",(0,a.jsxs)(n.h3,{id:"\u68c0\u67e5\u5bc6\u94a5\u56de\u8c03\u662f\u5426\u914d\u7f6e\u6b63\u786e-keyhealth",children:["\u68c0\u67e5\u5bc6\u94a5\u56de\u8c03\u662f\u5426\u914d\u7f6e\u6b63\u786e ",(0,a.jsx)(n.code,{children:"/key/health"})]}),"\n",(0,a.jsxs)(n.p,{children:["\u901a\u8fc7\u8c03\u7528 ",(0,a.jsx)(n.code,{children:"/key/health"})," \u6765\u68c0\u67e5\u56de\u8c03\u8bbe\u7f6e\u662f\u5426\u914d\u7f6e\u6b63\u786e"]}),"\n",(0,a.jsx)(n.p,{children:"\u5c06\u5bc6\u94a5\u4f20\u9012\u5230\u8bf7\u6c42\u5934\u4e2d"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:4000/key/health" \\\n  -H "Authorization: Bearer <your-key>" \\\n  -H "Content-Type: application/json"\n'})}),"\n",(0,a.jsxs)(c.A,{children:[(0,a.jsxs)(r.A,{label:"\u5f53\u5bc6\u94a5\u914d\u7f6e\u6b63\u786e\u65f6\u7684\u54cd\u5e94",value:"Response when key is configured correctly",children:[(0,a.jsx)(n.p,{children:"\u5f53\u65e5\u5fd7\u56de\u8c03\u8bbe\u7f6e\u6b63\u786e\u65f6\u7684\u54cd\u5e94\uff1a"}),(0,a.jsxs)(n.p,{children:["\u4e00\u4e2a\u5bc6\u94a5 ",(0,a.jsx)(n.strong,{children:"\u5065\u5eb7"})," \u5f53\u65e5\u5fd7\u56de\u8c03\u8bbe\u7f6e\u6b63\u786e\u3002"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "key": "healthy",\n  "logging_callbacks": {\n    "callbacks": [\n      "gcs_bucket"\n    ],\n    "status": "healthy",\n    "details": "No logger exceptions triggered, system is healthy. Manually check if logs were sent to [\'gcs_bucket\']"\n  }\n}\n'})})]}),(0,a.jsxs)(r.A,{label:"\u5f53\u5bc6\u94a5\u914d\u7f6e\u4e0d\u6b63\u786e\u65f6\u7684\u54cd\u5e94",value:"Response when key is configured incorrectly",children:[(0,a.jsx)(n.p,{children:"\u5f53\u65e5\u5fd7\u56de\u8c03\u8bbe\u7f6e\u4e0d\u6b63\u786e\u65f6\u7684\u54cd\u5e94"}),(0,a.jsxs)(n.p,{children:["\u4e00\u4e2a\u5bc6\u94a5 ",(0,a.jsx)(n.strong,{children:"\u4e0d\u5065\u5eb7"})," \u5f53\u65e5\u5fd7\u56de\u8c03\u8bbe\u7f6e\u4e0d\u6b63\u786e\u3002"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "key": "unhealthy",\n  "logging_callbacks": {\n    "callbacks": [\n      "gcs_bucket"\n    ],\n    "status": "unhealthy",\n    "details": "Logger exceptions triggered, system is unhealthy: Failed to load vertex credentials. Check to see if credentials containing partial/invalid information."\n  }\n}\n'})})]})]}),"\n",(0,a.jsx)(n.h3,{id:"\u7981\u7528\u542f\u7528\u6d88\u606f\u5c4f\u853d",children:"\u7981\u7528/\u542f\u7528\u6d88\u606f\u5c4f\u853d"}),"\n",(0,a.jsx)(n.p,{children:"\u4f7f\u7528\u6b64\u529f\u80fd\u5728\u5168\u5c40\u7981\u7528\u63d0\u793a\u65e5\u5fd7\u8bb0\u5f55\u65f6\u4e3a\u7279\u5b9a\u5bc6\u94a5\u542f\u7528\u63d0\u793a\u65e5\u5fd7\u8bb0\u5f55\u3002"}),"\n",(0,a.jsxs)(n.p,{children:["\u793a\u4f8b ",(0,a.jsx)(n.code,{children:"config.yaml"})," \u4e2d\u7684\u5168\u5c40\u7981\u7528\u63d0\u793a\u65e5\u5fd7\u8bb0\u5f55\uff08\u6d88\u606f\u5c4f\u853d\uff09\u914d\u7f6e"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'model_list:\n - model_name: gpt-4o\n    litellm_params:\n      model: gpt-4o\nlitellm_settings:\n  callbacks: ["datadog"]\n  turn_off_message_logging: True # \ud83d\udc48 \u5168\u5c40\u7981\u7528\u63d0\u793a/\u54cd\u5e94\u65e5\u5fd7\u8bb0\u5f55\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\u4e3a\u5bc6\u94a5\u542f\u7528\u63d0\u793a\u65e5\u5fd7\u8bb0\u5f55"})}),"\n",(0,a.jsxs)(n.p,{children:["\u5c06 ",(0,a.jsx)(n.code,{children:"turn_off_message_logging"})," \u8bbe\u7f6e\u4e3a ",(0,a.jsx)(n.code,{children:"false"}),"\uff0c\u4ee5\u542f\u7528\u60a8\u60f3\u8981\u7684\u5bc6\u94a5\u7684\u63d0\u793a\u65e5\u5fd7\u8bb0\u5f55\u3002\u8fd9\u5c06\u8986\u76d6\u5168\u5c40 ",(0,a.jsx)(n.code,{children:"turn_off_message_logging"})," \u914d\u7f6e\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'curl -X POST \'http://0.0.0.0:4000/key/generate\' \\\n-H \'Authorization: Bearer sk-1234\' \\\n-H \'Content-Type: application/json\' \\\n-d \'{\n    "metadata": {\n        "logging": [{\n            "callback_name": "datadog",\n            "callback_vars": {\n                "turn_off_message_logging": false # \ud83d\udc48 \u542f\u7528\u63d0\u793a\u65e5\u5fd7\u8bb0\u5f55\n            }\n        }]\n    }\n}\'\n'})}),"\n",(0,a.jsxs)(n.p,{children:["\u4ece ",(0,a.jsx)(n.code,{children:"/key/generate"})," \u54cd\u5e94"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n    "key_alias": null,\n    "key": "sk-9v6I-jf9-eYtg_PwM8OKgQ",\n    "metadata": {\n        "logging": [\n            {\n                "callback_name": "datadog",\n                "callback_vars": {\n                    "turn_off_message_logging": false\n                }\n            }\n        ]\n    },\n    "token_id": "a53a33db8c3cf832ceb28565dbb034f19f0acd69ee7f03b7bf6752f9f804081e"\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["\u4f7f\u7528\u5bc6\u94a5\u8fdb\u884c ",(0,a.jsx)(n.code,{children:"/chat/completions"})," \u8bf7\u6c42"]}),"\n",(0,a.jsx)(n.p,{children:"\u6b64\u5bc6\u94a5\u5c06\u8bb0\u5f55\u63d0\u793a\u5230\u8bf7\u6c42\u4e2d\u6307\u5b9a\u7684\u56de\u8c03\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'curl -i http://localhost:4000/v1/chat/completions \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer sk-9v6I-jf9-eYtg_PwM8OKgQ" \\\n  -d \'{\n    "model": "gpt-4o",\n    "messages": [\n      {"role": "user", "content": "hi my name is ishaan what key alias is this"}\n    ]\n  }\'\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},84963(e,n,s){e.exports={src:Object.assign(Object.create({toString(){return this.src}}),{srcSet:s.p+"assets/ideal-img/key_logging.f36e08a.640.png 640w,"+s.p+"assets/ideal-img/key_logging.2b4f59d.1920.png 1920w",images:[{path:s.p+"assets/ideal-img/key_logging.f36e08a.640.png",width:640,height:362},{path:s.p+"assets/ideal-img/key_logging.2b4f59d.1920.png",width:1920,height:1085}],src:s.p+"assets/ideal-img/key_logging.f36e08a.640.png",placeholder:void 0,width:640,height:362}),preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAjElEQVR4nG2NsQ7CMBBD8/8fxcwGSCzMLEBBpEkvl8bxHYrYqlp6np7sUGu7q65fkh/SNvgb8ATwFkpRTSk7AN+Jubm3xiloWUvM6rp2W+FWG22RxdCa0Z3DJvAKKYk83rPl2pl0AAIg2TlqiL33ZwC6krZ3+78ei+QUcs7HGOdLjPNZRLacROQqIocfZ4XoVKoqTGwAAAAASUVORK5CYII="}},90191(e,n,s){e.exports={src:Object.assign(Object.create({toString(){return this.src}}),{srcSet:s.p+"assets/ideal-img/key_logging_arize.6120f8f.640.png 640w,"+s.p+"assets/ideal-img/key_logging_arize.b4d0a56.1920.png 1920w",images:[{path:s.p+"assets/ideal-img/key_logging_arize.6120f8f.640.png",width:640,height:338},{path:s.p+"assets/ideal-img/key_logging_arize.b4d0a56.1920.png",width:1920,height:1014}],src:s.p+"assets/ideal-img/key_logging_arize.6120f8f.640.png",placeholder:void 0,width:640,height:338}),preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAmElEQVR4nC3KzW7CMBBFYT93xQJE0vY9kUhwSuoSxpnx/Fxk1MXR2Xzp43DSac66/ha9LXclIjWzd+7eAKAUmtLxdMbl+oP1IShPxVo2EBFEGCwSHda6L2kYx2Dm2HUPdw+iGlRrmFlH3qGq5vT59Y3WGtq+AeHYqkCkIdzxj/uXNAyjMbOZiIW7reXPpvlmOfeyMjNUbX4BQy66+u9tT1AAAAAASUVORK5CYII="}}}]);