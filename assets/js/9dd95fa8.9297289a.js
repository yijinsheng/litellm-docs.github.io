(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[75899],{9838(e,l,s){e.exports={src:Object.assign(Object.create({toString(){return this.src}}),{srcSet:s.p+"assets/ideal-img/compare_llms.369f37a.640.png 640w,"+s.p+"assets/ideal-img/compare_llms.d91f502.1920.png 1920w",images:[{path:s.p+"assets/ideal-img/compare_llms.369f37a.640.png",width:640,height:262},{path:s.p+"assets/ideal-img/compare_llms.d91f502.1920.png",width:1920,height:787}],src:s.p+"assets/ideal-img/compare_llms.369f37a.640.png",placeholder:void 0,width:640,height:262}),preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAECAYAAAC3OK7NAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAcklEQVR4nD2MOwoEIQBDvZgDiqIOiIh/pxLsBO/fZdFii/BISEKe54ExBtZaOOfwvi8452CMQQgBrTWUUiCUUuSc8X0feu+IMd6h9/4vKSXIWZRSrlJKt3jYWkOt9fJkJIRwzXk7PKU5J/beWGtdjjHwAz6NTq97KkJWAAAAAElFTkSuQmCC"}},13128(e,l,s){"use strict";s.r(l),s.d(l,{assets:()=>d,contentTitle:()=>r,default:()=>m,frontMatter:()=>c,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"tutorials/compare_llms_2","title":"\u4f7f\u7528 LiteLLM \u6bd4\u8f83 LLMs \u5728\u6d4b\u8bd5\u96c6\u4e0a\u7684\u8868\u73b0","description":"LiteLLM \u5141\u8bb8\u4f60\u5c06\u4efb\u4f55 LLM \u4f5c\u4e3a gpt-3.5-turbo \u7684\u76f4\u63a5\u66ff\u6362\u4f7f\u7528\u3002","source":"@site/docs/tutorials/compare_llms_2.md","sourceDirName":"tutorials","slug":"/tutorials/compare_llms_2","permalink":"/docs/tutorials/compare_llms_2","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var i=s(74848),t=s(28453),o=s(90547);const c={},r="\u4f7f\u7528 LiteLLM \u6bd4\u8f83 LLMs \u5728\u6d4b\u8bd5\u96c6\u4e0a\u7684\u8868\u73b0",d={},a=[{value:"\u5b8c\u6210\u672c\u6559\u7a0b\u540e\u8f93\u51fa\u7ed3\u679c\uff1a",id:"\u5b8c\u6210\u672c\u6559\u7a0b\u540e\u8f93\u51fa\u7ed3\u679c",level:2},{value:"\u5728\u540c\u4e00\u95ee\u9898\u4e0a\u8c03\u7528 gpt-3.5-turbo \u548c claude-2",id:"\u5728\u540c\u4e00\u95ee\u9898\u4e0a\u8c03\u7528-gpt-35-turbo-\u548c-claude-2",level:2},{value:"LiteLLM \u7684 <code>completion()</code> \u5141\u8bb8\u4f60\u4ee5\u76f8\u540c\u683c\u5f0f\u8c03\u7528\u6240\u6709 LLMs",id:"litellm-\u7684-completion-\u5141\u8bb8\u4f60\u4ee5\u76f8\u540c\u683c\u5f0f\u8c03\u7528\u6240\u6709-llms",level:2},{value:"\u7ed3\u679c\u53ef\u89c6\u5316",id:"\u7ed3\u679c\u53ef\u89c6\u5316",level:2},{value:"\u8f93\u51fa\u8868",id:"\u8f93\u51fa\u8868",level:2}];function p(e){const l={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.header,{children:(0,i.jsx)(l.h1,{id:"\u4f7f\u7528-litellm-\u6bd4\u8f83-llms-\u5728\u6d4b\u8bd5\u96c6\u4e0a\u7684\u8868\u73b0",children:"\u4f7f\u7528 LiteLLM \u6bd4\u8f83 LLMs \u5728\u6d4b\u8bd5\u96c6\u4e0a\u7684\u8868\u73b0"})}),"\n",(0,i.jsxs)("div",{class:"cell markdown",id:"L-W4C3SgClxl",children:[(0,i.jsxs)(l.p,{children:["LiteLLM \u5141\u8bb8\u4f60\u5c06\u4efb\u4f55 LLM \u4f5c\u4e3a ",(0,i.jsx)(l.code,{children:"gpt-3.5-turbo"})," \u7684\u76f4\u63a5\u66ff\u6362\u4f7f\u7528\u3002"]}),(0,i.jsx)(l.p,{children:"\u672c\u7b14\u8bb0\u672c\u5c06\u5f15\u5bfc\u4f60\u5982\u4f55\u4f7f\u7528 litellm \u6bd4\u8f83 GPT-4 \u548c Claude-2 \u5728\u7ed9\u5b9a\u6d4b\u8bd5\u96c6\u4e0a\u7684\u8868\u73b0\u3002"}),(0,i.jsx)(l.h2,{id:"\u5b8c\u6210\u672c\u6559\u7a0b\u540e\u8f93\u51fa\u7ed3\u679c",children:"\u5b8c\u6210\u672c\u6559\u7a0b\u540e\u8f93\u51fa\u7ed3\u679c\uff1a"}),(0,i.jsx)(o.A,{img:s(9838)}),(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)("div",{class:"cell code",id:"fBkbl4Qo9pvz",children:(0,i.jsx)(l.pre,{children:(0,i.jsx)(l.code,{className:"language-python",children:'!pip install litellm\n\n\n</div>\n\n<div class="cell code" execution_count="16" id="tzS-AXWK8lJC">\n\n``` python\nfrom litellm import completion\nimport litellm\n\n# \u521d\u59cb\u5316\u6d4b\u8bd5\u96c6\u95ee\u9898\nquestions = [\n    "\u5982\u4f55\u4f7f\u7528 LiteLLM \u8c03\u7528 completion()",\n    "LiteLLM \u662f\u5426\u652f\u6301 VertexAI",\n    "\u5982\u4f55\u5728 replicate llama2 \u4e2d\u8bbe\u7f6e\u6211\u7684\u5bc6\u94a5\uff1f"\n]\n\n\n# \u8bbe\u7f6e\u4f60\u7684\u63d0\u793a\nprompt = """\n\u4f60\u662f\u4e00\u4e2a\u7f16\u7a0b\u52a9\u624b\uff0c\u5e2e\u52a9\u7528\u6237\u4f7f\u7528 litellm\u3002\nlitellm \u662f\u4e00\u4e2a\u7b80\u5316\u8c03\u7528 OpenAI\u3001Azure\u3001Cohere\u3001Anthropic \u548c Huggingface API \u7aef\u70b9\u7684\u8f7b\u91cf\u7ea7\u5305\u3002\u5b83\u7ba1\u7406\uff1a\n\n"""\n'})})}),"\n",(0,i.jsx)("div",{class:"cell code",execution_count:"18",id:"vMlqi40x-KAA",children:(0,i.jsx)(l.pre,{children:(0,i.jsx)(l.code,{className:"language-python",children:"import os\nos.environ['OPENAI_API_KEY'] = \"\"\nos.environ['ANTHROPIC_API_KEY'] = \"\"\n"})})}),"\n",(0,i.jsx)("div",{class:"cell markdown",id:"-HOzUfpK-H8J"}),"\n",(0,i.jsxs)("div",{class:"cell markdown",id:"Ktn25dfKEJF1",children:[(0,i.jsx)(l.h2,{id:"\u5728\u540c\u4e00\u95ee\u9898\u4e0a\u8c03\u7528-gpt-35-turbo-\u548c-claude-2",children:"\u5728\u540c\u4e00\u95ee\u9898\u4e0a\u8c03\u7528 gpt-3.5-turbo \u548c claude-2"}),(0,i.jsxs)(l.h2,{id:"litellm-\u7684-completion-\u5141\u8bb8\u4f60\u4ee5\u76f8\u540c\u683c\u5f0f\u8c03\u7528\u6240\u6709-llms",children:["LiteLLM \u7684 ",(0,i.jsx)(l.code,{children:"completion()"})," \u5141\u8bb8\u4f60\u4ee5\u76f8\u540c\u683c\u5f0f\u8c03\u7528\u6240\u6709 LLMs"]})]}),"\n",(0,i.jsx)("div",{class:"cell code",id:"DhXwRlc-9DED",children:(0,i.jsx)(l.pre,{children:(0,i.jsx)(l.code,{className:"language-python",children:"results = [] # \u7528\u4e8e\u5b58\u50a8\u7ed3\u679c\n\nmodels = ['gpt-3.5-turbo', 'claude-2'] # \u5b9a\u4e49\u4f60\u6b63\u5728\u6d4b\u8bd5\u7684\u6a21\u578b\uff0c\u53c2\u89c1\uff1ahttps://docs.litellm.ai/docs/providers\nfor question in questions:\n    row = [question]\n    for model in models:\n      print(\"\u8c03\u7528:\", model, \"\u95ee\u9898:\", question)\n      response = completion( # \u4f7f\u7528 litellm.completion\n            model=model,\n            messages=[\n                {'role': 'system', 'content': prompt},\n                {'role': 'user', 'content': question}\n            ]\n      )\n      answer = response.choices[0].message['content']\n      row.append(answer)\n      print(\"\u8c03\u7528:\", model, \"\u7b54\u6848:\", answer)\n\n    results.append(row) # \u4fdd\u5b58\u7ed3\u679c\n\n"})})}),"\n",(0,i.jsx)("div",{class:"cell markdown",id:"RkEXhXxCDN77",children:(0,i.jsx)(l.h2,{id:"\u7ed3\u679c\u53ef\u89c6\u5316",children:"\u7ed3\u679c\u53ef\u89c6\u5316"})}),"\n",(0,i.jsxs)("div",{class:"cell code",execution_count:"15",colab:'{"base_uri":"https://localhost:8080/","height":761}',id:"42hrmW6q-n4s",outputId:"b763bf39-72b9-4bea-caf6-de6b2412f86d",children:[(0,i.jsx)(l.pre,{children:(0,i.jsx)(l.code,{className:"language-python",children:"# \u521b\u5efa\u4e00\u4e2a\u8868\u683c\u6765\u53ef\u89c6\u5316\u7ed3\u679c\nimport pandas as pd\n\ncolumns = ['Question'] + models\ndf = pd.DataFrame(results, columns=columns)\n\ndf\n"})}),(0,i.jsx)(l.h2,{id:"\u8f93\u51fa\u8868",children:"\u8f93\u51fa\u8868"}),(0,i.jsx)(o.A,{img:s(9838)})]})]})}function m(e={}){const{wrapper:l}={...(0,t.R)(),...e.components};return l?(0,i.jsx)(l,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}}}]);