"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[68355],{28453(e,n,r){r.d(n,{R:()=>a,x:()=>l});var t=r(96540);const s={},i=t.createContext(s);function a(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(i.Provider,{value:n},e.children)}},96578(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"providers/vertex","title":"vertex","description":"Rerank API","source":"@site/docs/providers/vertex.md","sourceDirName":"providers","slug":"/providers/vertex","permalink":"/docs/providers/vertex","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Azure AI \u641c\u7d22 - \u5411\u91cf\u5b58\u50a8 (\u900f\u4f20 API)","permalink":"/docs/providers/azure_ai/azure_ai_vector_stores_passthrough"},"next":{"title":"Vertex AI \u89c6\u9891\u751f\u6210 (Veo)","permalink":"/docs/providers/vertex_ai/videos"}}');var s=r(74848),i=r(28453);const a={},l=void 0,d={},o=[{value:"Rerank API",id:"rerank-api",level:3},{value:"Setup",id:"setup",level:4},{value:"Usage",id:"usage",level:4},{value:"Parameters",id:"parameters",level:4},{value:"Supported Models",id:"supported-models",level:4},{value:"Proxy Usage",id:"proxy-usage",level:4}];function c(e){const n={a:"a",code:"code",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"rerank-api",children:"Rerank API"}),"\n",(0,s.jsx)(n.p,{children:"Vertex AI supports reranking through the Discovery Engine API, providing semantic ranking capabilities for document retrieval."}),"\n",(0,s.jsx)(n.h4,{id:"setup",children:"Setup"}),"\n",(0,s.jsx)(n.p,{children:"Set your Google Cloud project ID:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'export VERTEXAI_PROJECT="your-project-id"\n'})}),"\n",(0,s.jsx)(n.h4,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from litellm import rerank\n\n# Using the latest model (recommended)\nresponse = rerank(\n    model="vertex_ai/semantic-ranker-default@latest",\n    query="What is Google Gemini?",\n    documents=[\n        "Gemini is a cutting edge large language model created by Google.",\n        "The Gemini zodiac symbol often depicts two figures standing side-by-side.",\n        "Gemini is a constellation that can be seen in the night sky."\n    ],\n    top_n=2,\n    return_documents=True  # Set to False for ID-only responses\n)\n\n# Using specific model versions\nresponse_v003 = rerank(\n    model="vertex_ai/semantic-ranker-default-003",\n    query="What is Google Gemini?",\n    documents=documents,\n    top_n=2\n)\n\nprint(response.results)\n'})}),"\n",(0,s.jsx)(n.h4,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"model"})}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsxs)(n.td,{children:["Model name (e.g., ",(0,s.jsx)(n.code,{children:"vertex_ai/semantic-ranker-default@latest"}),")"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"query"})}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"Search query"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"documents"})}),(0,s.jsx)(n.td,{children:"list"}),(0,s.jsx)(n.td,{children:"Documents to rank"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"top_n"})}),(0,s.jsx)(n.td,{children:"int"}),(0,s.jsx)(n.td,{children:"Number of top results to return"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"return_documents"})}),(0,s.jsx)(n.td,{children:"bool"}),(0,s.jsx)(n.td,{children:"Return full content (True) or IDs only (False)"})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"supported-models",children:"Supported Models"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"semantic-ranker-default@latest"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"semantic-ranker-fast@latest"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"semantic-ranker-default-003"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"semantic-ranker-default-002"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For detailed model specifications, see the ",(0,s.jsx)(n.a,{href:"https://cloud.google.com/generative-ai-app-builder/docs/ranking#rank_or_rerank_a_set_of_records_according_to_a_query",children:"Google Cloud ranking API documentation"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"proxy-usage",children:"Proxy Usage"}),"\n",(0,s.jsxs)(n.p,{children:["Add to your ",(0,s.jsx)(n.code,{children:"config.yaml"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: semantic-ranker-default@latest\n    litellm_params:\n      model: vertex_ai/semantic-ranker-default@latest\n      vertex_ai_project: "your-project-id"\n      vertex_ai_location: "us-central1"\n      vertex_ai_credentials: "path/to/service-account.json" \n'})}),"\n",(0,s.jsx)(n.p,{children:"Start the proxy:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"litellm --config /path/to/config.yaml\n"})}),"\n",(0,s.jsx)(n.p,{children:"Test with curl:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl http://0.0.0.0:4000/rerank \\\n  -H "Authorization: Bearer sk-1234" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "model": "semantic-ranker-default@latest",\n    "query": "What is Google Gemini?",\n    "documents": [\n      "Gemini is a cutting edge large language model created by Google.",\n      "The Gemini zodiac symbol often depicts two figures standing side-by-side.",\n      "Gemini is a constellation that can be seen in the night sky."\n    ],\n    "top_n": 2\n  }\'\n'})}),"\n",(0,s.jsx)(n.p,{children:"This setup allows you to leverage Vertex AI's reranking capabilities through LiteLLM, providing semantic ranking for document retrieval."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);