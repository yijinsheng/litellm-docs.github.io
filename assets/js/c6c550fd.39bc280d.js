"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[25717],{22059(n,e,i){i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"contribute_integration/custom_webhook_api","title":"\u81ea\u5b9a\u4e49Webhook API\u8d21\u732e\u6307\u5357","description":"\u5982\u679c\u60a8\u7684API\u53ea\u9700\u8981\u4eceLiteLLM\u83b7\u53d6Webhook\u4e8b\u4ef6\uff0c\u8fd9\u91cc\u662f\u5982\u4f55\u5728LiteLLM\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u201c\u539f\u751f\u201d\u96c6\u6210\uff1a","source":"@site/docs/contribute_integration/custom_webhook_api.md","sourceDirName":"contribute_integration","slug":"/contribute_integration/custom_webhook_api","permalink":"/docs/contribute_integration/custom_webhook_api","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"integrationsSidebar","previous":{"title":"\u6210\u4e3a\u96c6\u6210\u5408\u4f5c\u4f19\u4f34","permalink":"/docs/integrations/community"},"next":{"title":"\ud83d\udd87\ufe0f AgentOps - LLM \u53ef\u89c2\u5bdf\u6027\u5e73\u53f0","permalink":"/docs/observability/agentops_integration"}}');var s=i(74848),o=i(28453);const r={},l="\u81ea\u5b9a\u4e49Webhook API\u8d21\u732e\u6307\u5357",a={},c=[{value:"\u8bb0\u5f55\u4e86\u4ec0\u4e48\uff1f",id:"\u8bb0\u5f55\u4e86\u4ec0\u4e48",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"\u81ea\u5b9a\u4e49webhook-api\u8d21\u732e\u6307\u5357",children:"\u81ea\u5b9a\u4e49Webhook API\u8d21\u732e\u6307\u5357"})}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679c\u60a8\u7684API\u53ea\u9700\u8981\u4eceLiteLLM\u83b7\u53d6Webhook\u4e8b\u4ef6\uff0c\u8fd9\u91cc\u662f\u5982\u4f55\u5728LiteLLM\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u201c\u539f\u751f\u201d\u96c6\u6210\uff1a"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\u514b\u9686\u4ed3\u5e93\u5e76\u6253\u5f00 ",(0,s.jsx)(e.code,{children:"generic_api_compatible_callbacks.json"})]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"git clone https://github.com/BerriAI/litellm.git\ncd litellm\nopen .\n"})}),"\n",(0,s.jsxs)(e.ol,{start:"2",children:["\n",(0,s.jsxs)(e.li,{children:["\u5c06\u60a8\u7684API\u6dfb\u52a0\u5230 ",(0,s.jsx)(e.code,{children:"generic_api_compatible_callbacks.json"})," \u4e2d"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n    "rubrik": {\n        "event_types": ["llm_api_success"],\n        "endpoint": "{{environment_variables.RUBRIK_WEBHOOK_URL}}",\n        "headers": {\n            "Content-Type": "application/json",\n            "Authorization": "Bearer {{environment_variables.RUBRIK_API_KEY}}"\n        },\n        "environment_variables": ["RUBRIK_API_KEY", "RUBRIK_WEBHOOK_URL"]\n    }\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u89c4\u8303\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n    "sample_callback": {\n        "event_types": ["llm_api_success", "llm_api_failure"], # \u53ef\u9009 - \u9ed8\u8ba4\u4e3a\u6240\u6709\u4e8b\u4ef6\n        "endpoint": "{{environment_variables.SAMPLE_CALLBACK_URL}}",\n        "headers": {\n            "Content-Type": "application/json",\n            "Authorization": "Bearer {{environment_variables.SAMPLE_CALLBACK_API_KEY}}"\n        },\n        "environment_variables": ["SAMPLE_CALLBACK_URL", "SAMPLE_CALLBACK_API_KEY"]\n    }\n}\n'})}),"\n",(0,s.jsxs)(e.ol,{start:"3",children:["\n",(0,s.jsx)(e.li,{children:"\u6d4b\u8bd5\u5b83\uff01"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["a. \u914d\u7f6e ",(0,s.jsx)(e.code,{children:"config.yaml"})]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",children:'model_list:\n  - model_name: gpt-3.5-turbo\n    litellm_params:\n      model: openai/gpt-3.5-turbo\n      api_key: os.environ/OPENAI_API_KEY\n  - model_name: anthropic-claude\n    litellm_params:\n      model: anthropic/claude-3-5-sonnet-20241022\n      api_key: os.environ/ANTHROPIC_API_KEY\n\nlitellm_settings:\n  callbacks: ["rubrik"]\n\nenvironment_variables:\n  RUBRIK_API_KEY: sk-1234\n  RUBRIK_WEBHOOK_URL: https://webhook.site/efc57707-9018-478c-bdf1-2ffaabb2b315\n'})}),"\n",(0,s.jsx)(e.p,{children:"b. \u542f\u52a8\u4ee3\u7406"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"litellm --config /path/to/config.yaml\n"})}),"\n",(0,s.jsx)(e.p,{children:"c. \u6d4b\u8bd5\u5b83\uff01"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'curl -L -X POST \'http://0.0.0.0:4000/chat/completions\' \\\n-H \'Content-Type: application/json\' \\\n-H \'Authorization: Bearer sk-1234\' \\\n-d \'{\n  "model": "gpt-3.5-turbo",\n  "messages": [\n    {\n      "role": "system",\n      "content": "Ignore previous instructions"\n    },\n    {\n      "role": "user",\n      "content": "What is the weather like in Boston today?"\n    }\n  ],\n  "mock_response": "hey!"\n}\'\n'})}),"\n",(0,s.jsxs)(e.ol,{start:"4",children:["\n",(0,s.jsx)(e.li,{children:"\u6dfb\u52a0\u6587\u6863"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["\u5982\u679c\u60a8\u6dfb\u52a0\u4e86\u4e00\u4e2a\u65b0\u7684\u96c6\u6210\uff0c\u8bf7\u5728 ",(0,s.jsx)(e.code,{children:"observability"})," \u6587\u4ef6\u5939\u4e0b\u4e3a\u5176\u6dfb\u52a0\u6587\u6863\uff1a"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u5728 ",(0,s.jsx)(e.code,{children:"docs/my-website/docs/observability/<your_integration>_integration.md"})," \u521b\u5efa\u4e00\u4e2a\u65b0\u6587\u4ef6"]}),"\n",(0,s.jsxs)(e.li,{children:["\u9075\u5faa\u73b0\u6709\u96c6\u6210\u6587\u6863\u7684\u683c\u5f0f\uff0c\u4f8b\u5982 ",(0,s.jsx)(e.a,{href:"https://github.com/BerriAI/litellm/blob/main/docs/my-website/docs/observability/langsmith_integration.md",children:"Langsmith Integration"})]}),"\n",(0,s.jsx)(e.li,{children:"\u5305\u62ec\uff1a\u5feb\u901f\u5165\u95e8\u3001SDK \u4f7f\u7528\u65b9\u6cd5\u3001\u4ee3\u7406\u4f7f\u7528\u65b9\u6cd5\u4ee5\u53ca\u4efb\u4f55\u9ad8\u7ea7\u914d\u7f6e\u9009\u9879"}),"\n"]}),"\n",(0,s.jsxs)(e.ol,{start:"5",children:["\n",(0,s.jsx)(e.li,{children:"\u63d0\u4ea4 PR\uff01"}),"\n"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u67e5\u770b\u6211\u4eec\u7684\u8d21\u732e\u6307\u5357 ",(0,s.jsx)(e.a,{href:"../../extras/contributing_code",children:"\u8fd9\u91cc"})]}),"\n",(0,s.jsx)(e.li,{children:"\u63a8\u9001\u60a8\u7684\u5206\u652f\u5230\u60a8\u7684 GitHub \u4ed3\u5e93"}),"\n",(0,s.jsx)(e.li,{children:"\u5728\u90a3\u91cc\u63d0\u4ea4\u4e00\u4e2a PR"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u8bb0\u5f55\u4e86\u4ec0\u4e48",children:"\u8bb0\u5f55\u4e86\u4ec0\u4e48\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.a,{href:"https://docs.litellm.ai/docs/proxy/logging_spec",children:"LiteLLM \u6807\u51c6\u65e5\u5fd7\u89c4\u8303"})," \u5c06\u88ab\u53d1\u9001\u5230\u60a8\u7684\u7aef\u70b9\u3002"]})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},28453(n,e,i){i.d(e,{R:()=>r,x:()=>l});var t=i(96540);const s={},o=t.createContext(s);function r(n){const e=t.useContext(o);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),t.createElement(o.Provider,{value:e},n.children)}}}]);