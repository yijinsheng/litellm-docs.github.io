"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[95661],{7227(e,a,r){r.d(a,{A:()=>t});r(96540);var n=r(18215);const i="tabItem_Ymn6";var l=r(74848);function t({children:e,hidden:a,className:r}){return(0,l.jsx)("div",{role:"tabpanel",className:(0,n.A)(i,r),hidden:a,children:e})}},18642(e,a,r){r.r(a),r.d(a,{assets:()=>u,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"proxy/guardrails/guardrail_load_balancing","title":"Guardrail Load Balancing","description":"Load balance guardrail requests across multiple guardrail deployments. This is useful when you have rate limits on guardrail providers (e.g., AWS Bedrock Guardrails) and want to distribute requests across multiple accounts or regions.","source":"@site/docs/proxy/guardrails/guardrail_load_balancing.md","sourceDirName":"proxy/guardrails","slug":"/proxy/guardrails/guardrail_load_balancing","permalink":"/docs/proxy/guardrails/guardrail_load_balancing","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"integrationsSidebar","previous":{"title":"\u4ee3\u7406\u9632\u706b\u5899 - \u5feb\u901f\u5165\u95e8","permalink":"/docs/proxy/guardrails/quick_start"},"next":{"title":"[BETA] \u901a\u7528\u9632\u62a4\u680fAPI - \u4e0d\u9700PR\u5373\u53ef\u96c6\u6210","permalink":"/docs/adding_provider/generic_guardrail_api"}}');var i=r(74848),l=r(28453),t=r(49489),s=r(7227);const o={},d="Guardrail Load Balancing",u={},c=[{value:"How It Works",id:"how-it-works",level:2},{value:"Why Use Guardrail Load Balancing?",id:"why-use-guardrail-load-balancing",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"1. Define Multiple Guardrails with Same Name",id:"1-define-multiple-guardrails-with-same-name",level:3},{value:"2. Start LiteLLM Gateway",id:"2-start-litellm-gateway",level:3},{value:"3. Make Requests",id:"3-make-requests",level:3},{value:"Weighted Load Balancing",id:"weighted-load-balancing",level:2},{value:"Bedrock Guardrails - Multi-Account Setup",id:"bedrock-guardrails---multi-account-setup",level:2},{value:"Architecture",id:"architecture",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Test Multi-Account Setup",id:"test-multi-account-setup",level:3},{value:"Custom Guardrails Example",id:"custom-guardrails-example",level:2},{value:"Verifying Load Balancing",id:"verifying-load-balancing",level:2},{value:"Related",id:"related",level:2}];function g(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.header,{children:(0,i.jsx)(a.h1,{id:"guardrail-load-balancing",children:"Guardrail Load Balancing"})}),"\n",(0,i.jsx)(a.p,{children:"Load balance guardrail requests across multiple guardrail deployments. This is useful when you have rate limits on guardrail providers (e.g., AWS Bedrock Guardrails) and want to distribute requests across multiple accounts or regions."}),"\n",(0,i.jsx)(a.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,i.jsx)(a.mermaid,{value:"flowchart LR\n    subgraph LiteLLM Gateway\n        Router[Router]\n        G1[Guardrail Instance A]\n        G2[Guardrail Instance B]\n        G3[Guardrail Instance N]\n    end\n    \n    Client[Client Request] --\x3e Router\n    Router --\x3e|Round Robin / Weighted| G1\n    Router --\x3e|Round Robin / Weighted| G2\n    Router --\x3e|Round Robin / Weighted| G3\n    \n    G1 --\x3e AWS1[AWS Account 1]\n    G2 --\x3e AWS2[AWS Account 2]\n    G3 --\x3e AWSN[AWS Account N]"}),"\n",(0,i.jsxs)(a.p,{children:["When you define multiple guardrails with the ",(0,i.jsxs)(a.strong,{children:["same ",(0,i.jsx)(a.code,{children:"guardrail_name"})]}),", LiteLLM automatically load balances requests across them using the router's load balancing strategy."]}),"\n",(0,i.jsx)(a.h2,{id:"why-use-guardrail-load-balancing",children:"Why Use Guardrail Load Balancing?"}),"\n",(0,i.jsxs)(a.table,{children:[(0,i.jsx)(a.thead,{children:(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.th,{children:"Use Case"}),(0,i.jsx)(a.th,{children:"Benefit"})]})}),(0,i.jsxs)(a.tbody,{children:[(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:(0,i.jsx)(a.strong,{children:"AWS Bedrock Rate Limits"})}),(0,i.jsx)(a.td,{children:"Bedrock Guardrails have per-account rate limits. Distribute across multiple AWS accounts to increase throughput"})]}),(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:(0,i.jsx)(a.strong,{children:"Multi-Region Redundancy"})}),(0,i.jsx)(a.td,{children:"Deploy guardrails across regions for failover and lower latency"})]}),(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:(0,i.jsx)(a.strong,{children:"Cost Optimization"})}),(0,i.jsx)(a.td,{children:"Spread usage across accounts with different pricing tiers or credits"})]}),(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:(0,i.jsx)(a.strong,{children:"A/B Testing"})}),(0,i.jsx)(a.td,{children:"Test different guardrail configurations with weighted distribution"})]})]})]}),"\n",(0,i.jsx)(a.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,i.jsx)(a.h3,{id:"1-define-multiple-guardrails-with-same-name",children:"1. Define Multiple Guardrails with Same Name"}),"\n",(0,i.jsxs)(a.p,{children:["Define multiple guardrail entries with the ",(0,i.jsxs)(a.strong,{children:["same ",(0,i.jsx)(a.code,{children:"guardrail_name"})]})," but different configurations:"]}),"\n",(0,i.jsxs)(t.A,{children:[(0,i.jsx)(s.A,{value:"bedrock",label:"Bedrock Guardrails",children:(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-yaml",metastring:'showLineNumbers title="config.yaml"',children:'model_list:\n  - model_name: gpt-4\n    litellm_params:\n      model: openai/gpt-4\n      api_key: os.environ/OPENAI_API_KEY\n\nguardrails:\n  # First Bedrock guardrail - AWS Account 1\n  - guardrail_name: "content-filter"\n    litellm_params:\n      guardrail: bedrock/guardrail\n      mode: "pre_call"\n      guardrailIdentifier: "abc123"\n      guardrailVersion: "1"\n      aws_access_key_id: os.environ/AWS_ACCESS_KEY_ID_1\n      aws_secret_access_key: os.environ/AWS_SECRET_ACCESS_KEY_1\n      aws_region_name: "us-east-1"\n  \n  # Second Bedrock guardrail - AWS Account 2\n  - guardrail_name: "content-filter"\n    litellm_params:\n      guardrail: bedrock/guardrail\n      mode: "pre_call"\n      guardrailIdentifier: "def456"\n      guardrailVersion: "1"\n      aws_access_key_id: os.environ/AWS_ACCESS_KEY_ID_2\n      aws_secret_access_key: os.environ/AWS_SECRET_ACCESS_KEY_2\n      aws_region_name: "us-west-2"\n'})})}),(0,i.jsx)(s.A,{value:"custom",label:"Custom Guardrails",children:(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-yaml",metastring:'showLineNumbers title="config.yaml"',children:'model_list:\n  - model_name: gpt-4\n    litellm_params:\n      model: openai/gpt-4\n      api_key: os.environ/OPENAI_API_KEY\n\nguardrails:\n  # First custom guardrail instance\n  - guardrail_name: "pii-filter"\n    litellm_params:\n      guardrail: custom_guardrail.PIIFilterA\n      mode: "pre_call"\n  \n  # Second custom guardrail instance\n  - guardrail_name: "pii-filter"\n    litellm_params:\n      guardrail: custom_guardrail.PIIFilterB\n      mode: "pre_call"\n'})})}),(0,i.jsx)(s.A,{value:"aporia",label:"Aporia Guardrails",children:(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-yaml",metastring:'showLineNumbers title="config.yaml"',children:'model_list:\n  - model_name: gpt-4\n    litellm_params:\n      model: openai/gpt-4\n      api_key: os.environ/OPENAI_API_KEY\n\nguardrails:\n  # First Aporia instance\n  - guardrail_name: "toxicity-filter"\n    litellm_params:\n      guardrail: aporia\n      mode: "pre_call"\n      api_key: os.environ/APORIA_API_KEY_1\n      api_base: os.environ/APORIA_API_BASE_1\n  \n  # Second Aporia instance\n  - guardrail_name: "toxicity-filter"\n    litellm_params:\n      guardrail: aporia\n      mode: "pre_call"\n      api_key: os.environ/APORIA_API_KEY_2\n      api_base: os.environ/APORIA_API_BASE_2\n'})})})]}),"\n",(0,i.jsx)(a.h3,{id:"2-start-litellm-gateway",children:"2. Start LiteLLM Gateway"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",metastring:'showLineNumbers title="Start proxy"',children:"litellm --config config.yaml --detailed_debug\n"})}),"\n",(0,i.jsx)(a.h3,{id:"3-make-requests",children:"3. Make Requests"}),"\n",(0,i.jsx)(a.p,{children:"Requests using the guardrail will be automatically load balanced:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",metastring:'showLineNumbers title="Test request"',children:'curl -X POST http://localhost:4000/v1/chat/completions \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer sk-1234" \\\n  -d \'{\n    "model": "gpt-4",\n    "messages": [{"role": "user", "content": "Hello, how are you?"}],\n    "guardrails": ["content-filter"]\n  }\'\n'})}),"\n",(0,i.jsx)(a.h2,{id:"weighted-load-balancing",children:"Weighted Load Balancing"}),"\n",(0,i.jsx)(a.p,{children:"Assign weights to distribute traffic unevenly across guardrail instances:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-yaml",metastring:'showLineNumbers title="config.yaml - Weighted distribution"',children:'guardrails:\n  # 80% of traffic\n  - guardrail_name: "content-filter"\n    litellm_params:\n      guardrail: bedrock/guardrail\n      mode: "pre_call"\n      guardrailIdentifier: "primary-guard"\n      guardrailVersion: "1"\n      weight: 8  # Higher weight = more traffic\n  \n  # 20% of traffic\n  - guardrail_name: "content-filter"\n    litellm_params:\n      guardrail: bedrock/guardrail\n      mode: "pre_call"\n      guardrailIdentifier: "secondary-guard"\n      guardrailVersion: "1"\n      weight: 2  # Lower weight = less traffic\n'})}),"\n",(0,i.jsx)(a.h2,{id:"bedrock-guardrails---multi-account-setup",children:"Bedrock Guardrails - Multi-Account Setup"}),"\n",(0,i.jsx)(a.p,{children:"AWS Bedrock Guardrails have rate limits per account. Here's how to set up load balancing across multiple AWS accounts:"}),"\n",(0,i.jsx)(a.h3,{id:"architecture",children:"Architecture"}),"\n",(0,i.jsx)(a.mermaid,{value:'flowchart TB\n    subgraph LiteLLM["LiteLLM Gateway"]\n        LB[Load Balancer]\n    end\n    \n    subgraph AWS1["AWS Account 1 (us-east-1)"]\n        BG1[Bedrock Guardrail]\n    end\n    \n    subgraph AWS2["AWS Account 2 (us-west-2)"]\n        BG2[Bedrock Guardrail]\n    end\n    \n    subgraph AWS3["AWS Account 3 (eu-west-1)"]\n        BG3[Bedrock Guardrail]\n    end\n    \n    Client[Client] --\x3e LiteLLM\n    LB --\x3e BG1\n    LB --\x3e BG2\n    LB --\x3e BG3'}),"\n",(0,i.jsx)(a.h3,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-yaml",metastring:'showLineNumbers title="config.yaml - Multi-account Bedrock"',children:'model_list:\n  - model_name: claude-3\n    litellm_params:\n      model: bedrock/anthropic.claude-3-sonnet-20240229-v1:0\n\nguardrails:\n  # AWS Account 1 - US East\n  - guardrail_name: "bedrock-content-filter"\n    litellm_params:\n      guardrail: bedrock/guardrail\n      mode: "during_call"\n      guardrailIdentifier: "guard-us-east"\n      guardrailVersion: "DRAFT"\n      aws_access_key_id: os.environ/AWS_ACCESS_KEY_1\n      aws_secret_access_key: os.environ/AWS_SECRET_KEY_1\n      aws_region_name: "us-east-1"\n  \n  # AWS Account 2 - US West\n  - guardrail_name: "bedrock-content-filter"\n    litellm_params:\n      guardrail: bedrock/guardrail\n      mode: "during_call"\n      guardrailIdentifier: "guard-us-west"\n      guardrailVersion: "DRAFT"\n      aws_access_key_id: os.environ/AWS_ACCESS_KEY_2\n      aws_secret_access_key: os.environ/AWS_SECRET_KEY_2\n      aws_region_name: "us-west-2"\n  \n  # AWS Account 3 - EU West\n  - guardrail_name: "bedrock-content-filter"\n    litellm_params:\n      guardrail: bedrock/guardrail\n      mode: "during_call"\n      guardrailIdentifier: "guard-eu-west"\n      guardrailVersion: "DRAFT"\n      aws_access_key_id: os.environ/AWS_ACCESS_KEY_3\n      aws_secret_access_key: os.environ/AWS_SECRET_KEY_3\n      aws_region_name: "eu-west-1"\n'})}),"\n",(0,i.jsx)(a.h3,{id:"test-multi-account-setup",children:"Test Multi-Account Setup"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",metastring:'showLineNumbers title="Run multiple requests to verify load balancing"',children:'# Run 10 requests - they will be distributed across accounts\nfor i in {1..10}; do\n  curl -s -X POST http://localhost:4000/v1/chat/completions \\\n    -H "Content-Type: application/json" \\\n    -H "Authorization: Bearer sk-1234" \\\n    -d \'{\n      "model": "claude-3",\n      "messages": [{"role": "user", "content": "Hello"}],\n      "guardrails": ["bedrock-content-filter"]\n    }\' &\ndone\nwait\n'})}),"\n",(0,i.jsx)(a.p,{children:"Check proxy logs to verify requests are distributed across different AWS accounts."}),"\n",(0,i.jsx)(a.h2,{id:"custom-guardrails-example",children:"Custom Guardrails Example"}),"\n",(0,i.jsx)(a.p,{children:"Create two custom guardrail classes for load balancing:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-python",metastring:'showLineNumbers title="custom_guardrail.py"',children:'from litellm.integrations.custom_guardrail import CustomGuardrail\nfrom litellm.proxy._types import UserAPIKeyAuth\nfrom litellm.caching.caching import DualCache\n\n\nclass PIIFilterA(CustomGuardrail):\n    """PII Filter Instance A"""\n    \n    async def async_pre_call_hook(\n        self,\n        user_api_key_dict: UserAPIKeyAuth,\n        cache: DualCache,\n        data: dict,\n        call_type: str,\n    ):\n        print("PIIFilterA processing request")\n        # Your PII filtering logic here\n        return data\n\n\nclass PIIFilterB(CustomGuardrail):\n    """PII Filter Instance B"""\n    \n    async def async_pre_call_hook(\n        self,\n        user_api_key_dict: UserAPIKeyAuth,\n        cache: DualCache,\n        data: dict,\n        call_type: str,\n    ):\n        print("PIIFilterB processing request")\n        # Your PII filtering logic here\n        return data\n'})}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-yaml",metastring:'showLineNumbers title="config.yaml"',children:'guardrails:\n  - guardrail_name: "pii-filter"\n    litellm_params:\n      guardrail: custom_guardrail.PIIFilterA\n      mode: "pre_call"\n  \n  - guardrail_name: "pii-filter"\n    litellm_params:\n      guardrail: custom_guardrail.PIIFilterB\n      mode: "pre_call"\n'})}),"\n",(0,i.jsx)(a.h2,{id:"verifying-load-balancing",children:"Verifying Load Balancing"}),"\n",(0,i.jsx)(a.p,{children:"Enable detailed debug logging to verify load balancing is working:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",metastring:'showLineNumbers title="Start with debug logging"',children:"litellm --config config.yaml --detailed_debug\n"})}),"\n",(0,i.jsx)(a.p,{children:"You should see logs indicating which guardrail instance is selected:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{children:"Selected guardrail deployment: bedrock/guardrail (guard-us-east)\nSelected guardrail deployment: bedrock/guardrail (guard-us-west)\nSelected guardrail deployment: bedrock/guardrail (guard-eu-west)\n...\n"})}),"\n",(0,i.jsx)(a.h2,{id:"related",children:"Related"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:(0,i.jsx)(a.a,{href:"/docs/proxy/guardrails/quick_start",children:"Guardrails Quick Start"})}),"\n",(0,i.jsx)(a.li,{children:(0,i.jsx)(a.a,{href:"/docs/proxy/guardrails/bedrock",children:"Bedrock Guardrails"})}),"\n",(0,i.jsx)(a.li,{children:(0,i.jsx)(a.a,{href:"/docs/proxy/guardrails/custom_guardrail",children:"Custom Guardrails"})}),"\n",(0,i.jsx)(a.li,{children:(0,i.jsx)(a.a,{href:"/docs/proxy/load_balancing",children:"Load Balancing for LLM Calls"})}),"\n"]})]})}function h(e={}){const{wrapper:a}={...(0,l.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(g,{...e})}):g(e)}},28453(e,a,r){r.d(a,{R:()=>t,x:()=>s});var n=r(96540);const i={},l=n.createContext(i);function t(e){const a=n.useContext(l);return n.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function s(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),n.createElement(l.Provider,{value:a},e.children)}},49489(e,a,r){r.d(a,{A:()=>j});var n=r(96540),i=r(18215),l=r(24245),t=r(56347),s=r(36494),o=r(62814),d=r(45167),u=r(69900);function c(e){return n.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:a}=e;return!!a&&"object"==typeof a&&"value"in a}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function g(e){const{values:a,children:r}=e;return(0,n.useMemo)(()=>{const e=a??function(e){return c(e).map(({props:{value:e,label:a,attributes:r,default:n}})=>({value:e,label:a,attributes:r,default:n}))}(r);return function(e){const a=(0,d.XI)(e,(e,a)=>e.value===a.value);if(a.length>0)throw new Error(`Docusaurus error: Duplicate values "${a.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[a,r])}function h({value:e,tabValues:a}){return a.some(a=>a.value===e)}function m({queryString:e=!1,groupId:a}){const r=(0,t.W6)(),i=function({queryString:e=!1,groupId:a}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:e,groupId:a});return[(0,o.aZ)(i),(0,n.useCallback)(e=>{if(!i)return;const a=new URLSearchParams(r.location.search);a.set(i,e),r.replace({...r.location,search:a.toString()})},[i,r])]}function p(e){const{defaultValue:a,queryString:r=!1,groupId:i}=e,l=g(e),[t,o]=(0,n.useState)(()=>function({defaultValue:e,tabValues:a}){if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!h({value:e,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${a.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const r=a.find(e=>e.default)??a[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:a,tabValues:l})),[d,c]=m({queryString:r,groupId:i}),[p,_]=function({groupId:e}){const a=function(e){return e?`docusaurus.tab.${e}`:null}(e),[r,i]=(0,u.Dv)(a);return[r,(0,n.useCallback)(e=>{a&&i.set(e)},[a,i])]}({groupId:i}),f=(()=>{const e=d??p;return h({value:e,tabValues:l})?e:null})();(0,s.A)(()=>{f&&o(f)},[f]);return{selectedValue:t,selectValue:(0,n.useCallback)(e=>{if(!h({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);o(e),c(e),_(e)},[c,_,l]),tabValues:l}}var _=r(11062);const f="tabList__CuJ",b="tabItem_LNqP";var x=r(74848);function y({className:e,block:a,selectedValue:r,selectValue:n,tabValues:t}){const s=[],{blockElementScrollPositionUntilNextRender:o}=(0,l.a_)(),d=e=>{const a=e.currentTarget,i=s.indexOf(a),l=t[i].value;l!==r&&(o(a),n(l))},u=e=>{let a=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const r=s.indexOf(e.currentTarget)+1;a=s[r]??s[0];break}case"ArrowLeft":{const r=s.indexOf(e.currentTarget)-1;a=s[r]??s[s.length-1];break}}a?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":a},e),children:t.map(({value:e,label:a,attributes:n})=>(0,x.jsx)("li",{role:"tab",tabIndex:r===e?0:-1,"aria-selected":r===e,ref:e=>{s.push(e)},onKeyDown:u,onClick:d,...n,className:(0,i.A)("tabs__item",b,n?.className,{"tabs__item--active":r===e}),children:a??e},e))})}function A({lazy:e,children:a,selectedValue:r}){const l=(Array.isArray(a)?a:[a]).filter(Boolean);if(e){const e=l.find(e=>e.props.value===r);return e?(0,n.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:l.map((e,a)=>(0,n.cloneElement)(e,{key:a,hidden:e.props.value!==r}))})}function v(e){const a=p(e);return(0,x.jsxs)("div",{className:(0,i.A)("tabs-container",f),children:[(0,x.jsx)(y,{...a,...e}),(0,x.jsx)(A,{...a,...e})]})}function j(e){const a=(0,_.A)();return(0,x.jsx)(v,{...e,children:c(e.children)},String(a))}}}]);