"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[63848],{3005(e,n,l){l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>m});const i=JSON.parse('{"id":"proxy/configs","title":"\u6982\u89c8","description":"\u5728 config.yaml \u4e2d\u8bbe\u7f6e\u6a21\u578b\u5217\u8868\u3001apibase\u3001apikey\u3001temperature \u4ee5\u53ca\u4ee3\u7406\u670d\u52a1\u5668\u8bbe\u7f6e\uff08master-key\uff09\u3002","source":"@site/docs/proxy/configs.md","sourceDirName":"proxy","slug":"/proxy/configs","permalink":"/docs/proxy/configs","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u5feb\u901f\u5165\u95e8\u6559\u7a0b","permalink":"/docs/proxy/docker_quick_start"},"next":{"title":"\u914d\u7f6e\u7ba1\u7406","permalink":"/docs/proxy/config_management"}}');var a=l(74848),r=l(28453),s=(l(90547),l(49489)),t=l(7227);const d={},o="\u6982\u89c8",c={},m=[{value:"\u5feb\u901f\u5165\u95e8",id:"\u5feb\u901f\u5165\u95e8",level:2},{value:"\u7b2c\u4e09\u6b65\uff1a\u6d4b\u8bd5\u5b83",id:"\u7b2c\u4e09\u6b65\u6d4b\u8bd5\u5b83",level:4},{value:"LLM \u914d\u7f6e <code>model_list</code>",id:"llm-\u914d\u7f6e-model_list",level:2},{value:"\u6a21\u578b\u7279\u5b9a\u53c2\u6570\uff08API Base\u3001\u5bc6\u94a5\u3001\u6e29\u5ea6\u3001\u6700\u5927\u4ee4\u724c\u6570\u3001\u7ec4\u7ec7\u7b49\uff09",id:"\u6a21\u578b\u7279\u5b9a\u53c2\u6570api-base\u5bc6\u94a5\u6e29\u5ea6\u6700\u5927\u4ee4\u724c\u6570\u7ec4\u7ec7\u7b49",level:3},{value:"\u5d4c\u5165\u5f0f\u6a21\u578b - \u4f7f\u7528 SageMaker\u3001Bedrock\u3001Azure\u3001OpenAI\u3001XInference",id:"\u5d4c\u5165\u5f0f\u6a21\u578b---\u4f7f\u7528-sagemakerbedrockazureopenaixinference",level:3},{value:"\u542f\u52a8\u4ee3\u7406",id:"\u542f\u52a8\u4ee3\u7406",level:4},{value:"\u53d1\u9001\u8bf7\u6c42",id:"\u53d1\u9001\u8bf7\u6c42",level:4},{value:"\u591a\u4e2a OpenAI \u7ec4\u7ec7",id:"\u591a\u4e2a-openai-\u7ec4\u7ec7",level:3},{value:"\u8d1f\u8f7d\u5747\u8861",id:"\u8d1f\u8f7d\u5747\u8861",level:3},{value:"\u4ece\u73af\u5883\u52a0\u8f7d API \u5bc6\u94a5 / \u914d\u7f6e\u503c",id:"\u4ece\u73af\u5883\u52a0\u8f7d-api-\u5bc6\u94a5--\u914d\u7f6e\u503c",level:3},{value:"\u4e2d\u5fc3\u5316\u51ed\u8bc1\u7ba1\u7406",id:"\u4e2d\u5fc3\u5316\u51ed\u8bc1\u7ba1\u7406",level:3},{value:"\u5173\u952e\u53c2\u6570",id:"\u5173\u952e\u53c2\u6570",level:4},{value:"\u4ece\u5bc6\u94a5\u7ba1\u7406\u5668\u52a0\u8f7d API \u5bc6\u94a5 (Azure Vault \u7b49)",id:"\u4ece\u5bc6\u94a5\u7ba1\u7406\u5668\u52a0\u8f7d-api-\u5bc6\u94a5-azure-vault-\u7b49",level:3},{value:"\u8bbe\u7f6e\u652f\u6301\u7684\u73af\u5883 - <code>\u751f\u4ea7</code>\u3001<code>\u6d4b\u8bd5</code>\u3001<code>\u5f00\u53d1</code>",id:"\u8bbe\u7f6e\u652f\u6301\u7684\u73af\u5883---\u751f\u4ea7\u6d4b\u8bd5\u5f00\u53d1",level:3},{value:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u63d0\u793a\u6a21\u677f",id:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u63d0\u793a\u6a21\u677f",level:3}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"\u6982\u89c8",children:"\u6982\u89c8"})}),"\n",(0,a.jsxs)(n.p,{children:["\u5728 ",(0,a.jsx)(n.code,{children:"config.yaml"})," \u4e2d\u8bbe\u7f6e\u6a21\u578b\u5217\u8868\u3001",(0,a.jsx)(n.code,{children:"api_base"}),"\u3001",(0,a.jsx)(n.code,{children:"api_key"}),"\u3001",(0,a.jsx)(n.code,{children:"temperature"})," \u4ee5\u53ca\u4ee3\u7406\u670d\u52a1\u5668\u8bbe\u7f6e\uff08",(0,a.jsx)(n.code,{children:"master-key"}),"\uff09\u3002"]}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,a.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"model_list"})}),(0,a.jsx)(n.td,{children:"\u670d\u52a1\u5668\u4e0a\u652f\u6301\u7684\u6a21\u578b\u5217\u8868\uff0c\u5305\u542b\u6bcf\u4e2a\u6a21\u578b\u7684\u5177\u4f53\u914d\u7f6e"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"router_settings"})}),(0,a.jsxs)(n.td,{children:["litellm \u8def\u7531\u5668\u8bbe\u7f6e\uff0c\u4f8b\u5982 ",(0,a.jsx)(n.code,{children:'routing_strategy="least-busy"'})," ",(0,a.jsx)(n.a,{href:"#%E8%B7%AF%E7%94%B1%E8%AE%BE%E7%BD%AE",children:(0,a.jsx)(n.strong,{children:"\u53c2\u89c1\u5168\u90e8\u8bbe\u7f6e"})})]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"litellm_settings"})}),(0,a.jsxs)(n.td,{children:["litellm \u6a21\u5757\u8bbe\u7f6e\uff0c\u4f8b\u5982 ",(0,a.jsx)(n.code,{children:"litellm.drop_params=True"}),"\u3001",(0,a.jsx)(n.code,{children:"litellm.set_verbose=True"}),"\u3001",(0,a.jsx)(n.code,{children:"litellm.api_base"}),"\u3001",(0,a.jsx)(n.code,{children:"litellm.cache"})," ",(0,a.jsx)(n.a,{href:"#%E6%89%80%E6%9C%89%E8%AE%BE%E7%BD%AE",children:(0,a.jsx)(n.strong,{children:"\u53c2\u89c1\u5168\u90e8\u8bbe\u7f6e"})})]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"general_settings"})}),(0,a.jsxs)(n.td,{children:["\u670d\u52a1\u5668\u8bbe\u7f6e\uff0c\u4f8b\u5982\u8bbe\u7f6e ",(0,a.jsx)(n.code,{children:"master_key: sk-my_special_key"})]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"environment_variables"})}),(0,a.jsxs)(n.td,{children:["\u73af\u5883\u53d8\u91cf\u793a\u4f8b\uff0c\u5982 ",(0,a.jsx)(n.code,{children:"REDIS_HOST"}),", ",(0,a.jsx)(n.code,{children:"REDIS_PORT"})]})]})]})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\u5b8c\u6574\u5217\u8868\uff1a"})," \u68c0\u67e5 ",(0,a.jsx)(n.code,{children:"<your-proxy-url>/#/config.yaml"})," (\u4f8b\u5982 ",(0,a.jsx)(n.a,{href:"http://0.0.0.0:4000/#/config.yaml",children:"http://0.0.0.0:4000/#/config.yaml"}),") \u4e2d\u53ef\u4ee5\u4f20\u9012\u7684\u6240\u6709\u914d\u7f6e\u9879\u3002"]}),"\n",(0,a.jsx)(n.h2,{id:"\u5feb\u901f\u5165\u95e8",children:"\u5feb\u901f\u5165\u95e8"}),"\n",(0,a.jsxs)(n.p,{children:["\u4e3a\u4f60\u7684\u90e8\u7f72\u8bbe\u7f6e\u6a21\u578b\u522b\u540d\u3002\u5728 ",(0,a.jsx)(n.code,{children:"config.yaml"})," \u4e2d\uff0c",(0,a.jsx)(n.code,{children:"model_name"})," \u53c2\u6570\u662f\u7528\u6237\u9762\u5bf9\u7684\u540d\u79f0\uff0c\u7528\u4e8e\u4ece\u5916\u90e8\u5ba2\u6237\u7aef\u4f20\u9012\u7ed9 litellm\u3002"]}),"\n",(0,a.jsx)(n.p,{children:"\u5728\u4ee5\u4e0b\u914d\u7f6e\u4e2d\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"model_name"}),": \u4f20\u9012\u7ed9 litellm \u7684\u6a21\u578b\u540d\u79f0"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"litellm_params.model"}),": \u4f20\u9012\u7ed9 ",(0,a.jsx)(n.code,{children:"litellm.completion()"})," \u51fd\u6570\u7684\u6a21\u578b\u5b57\u7b26\u4e32"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"\u4f8b\u5982\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"model=vllm-models"})," \u5c06\u8def\u7531\u5230 ",(0,a.jsx)(n.code,{children:"openai/facebook/opt-125m"}),"\u3002"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"model=gpt-4o"})," \u5c06\u5728 ",(0,a.jsx)(n.code,{children:"azure/gpt-4o-eu"})," \u548c ",(0,a.jsx)(n.code,{children:"azure/gpt-4o-ca"})," \u4e4b\u95f4\u8fdb\u884c\u8d1f\u8f7d\u5747\u8861\u3002"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: gpt-4o ### \u63a5\u6536\u7684\u6a21\u578b\u540d\u79f0 ###\n    litellm_params: # \u6240\u6709\u88ab litellm.completion() \u63a5\u53d7\u7684\u53c2\u6570 - https://docs.litellm.ai/docs/completion/input\n      model: azure/gpt-4o-eu ### \u4f20\u9012\u7ed9 `litellm.completion()` \u7684\u6a21\u578b\u540d\u79f0 ###\n      api_base: https://my-endpoint-europe-berri-992.openai.azure.com/\n      api_key: "os.environ/AZURE_API_KEY_EU" # \u6267\u884c os.getenv("AZURE_API_KEY_EU")\n      rpm: 6      # [\u53ef\u9009] \u6b64\u90e8\u7f72\u7684\u901f\u7387\u9650\u5236\uff1a\u6bcf\u5206\u949f\u8bf7\u6c42\u6570 (rpm)\n  - model_name: bedrock-claude-v1 \n    litellm_params:\n      model: bedrock/anthropic.claude-instant-v1\n  - model_name: gpt-4o\n    litellm_params:\n      model: azure/gpt-4o-ca\n      api_base: https://my-endpoint-canada-berri992.openai.azure.com/\n      api_key: "os.environ/AZURE_API_KEY_CA"\n      rpm: 6\n  - model_name: anthropic-claude\n    litellm_params: \n      model: bedrock/anthropic.claude-instant-v1\n      ### [\u53ef\u9009] \u8bbe\u7f6e AWS \u533a\u57df ###\n      aws_region_name: us-east-1\n  - model_name: vllm-models\n    litellm_params:\n      model: openai/facebook/opt-125m # `openai/` \u524d\u7f00\u544a\u8bc9 litellm \u5b83\u662f\u517c\u5bb9 OpenAI \u7684\n      api_base: http://0.0.0.0:4000/v1\n      api_key: none\n      rpm: 1440\n    model_info: \n      version: 2\n  \n  # \u5982\u679c\u60a8\u60f3\u5bf9 `claude-3-haiku-20240307`\u3001`claude-3-opus-20240229` \u6216 `claude-2.1` \u8fdb\u884c\u8bf7\u6c42\uff0c\u4f46\u672a\u5728 config.yaml \u4e2d\u5b9a\u4e49\u5b83\u4eec\n  # \u9ed8\u8ba4\u6a21\u578b\n  # \u9700\u8981 `.env` \u6587\u4ef6\u4e2d\u7684\u9ed8\u8ba4\u63d0\u4f9b\u5546\u51ed\u636e\n  - model_name: "*" \n    litellm_params:\n      model: "*"\n\nlitellm_settings: # \u6a21\u5757\u7ea7\u522b\u7684 litellm \u8bbe\u7f6e - https://github.com/BerriAI/litellm/blob/main/litellm/__init__.py\n  drop_params: True\n  success_callback: ["langfuse"] # [\u53ef\u9009] \u5982\u679c\u60a8\u5e0c\u671b\u5f00\u59cb\u5411 Langfuse \u53d1\u9001 LLM \u65e5\u5fd7\u3002\u8bf7\u786e\u4fdd\u8bbe\u7f6e `LANGFUSE_PUBLIC_KEY` \u548c `LANGFUSE_SECRET_KEY` \u5728\u60a8\u7684\u73af\u5883\u53d8\u91cf\u4e2d\n\ngeneral_settings: \n  master_key: sk-1234 # [\u53ef\u9009] \u5982\u679c\u9700\u8981\u6240\u6709\u8c03\u7528\u90fd\u5305\u542b\u6b64\u5bc6\u94a5\uff08\u6388\u6743\uff1aBearer sk-1234\uff09\uff0c\u5219\u4ec5\u4f7f\u7528\u6b64\u8bbe\u7f6e\n  alerting: ["slack"] # [\u53ef\u9009] \u5982\u679c\u60a8\u5e0c\u671b\u5728 LLM \u8bf7\u6c42\u8d85\u65f6\u65f6\u3001\u6162\u54cd\u5e94\u65f6\u6216\u9884\u7b97\u8b66\u62a5\u65f6\u6536\u5230 Slack \u8b66\u544a\u3002\u8bf7\u786e\u4fdd\u8bbe\u7f6e `SLACK_WEBHOOK_URL` \u5728\u60a8\u7684\u73af\u5883\u53d8\u91cf\u4e2d\n\n\n:::info\n\n\u5982\u9700\u66f4\u591a\u63d0\u4f9b\u5546\u7279\u5b9a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 [../providers/](../providers/)\u3002\n\n:::\n\n#### \u7b2c\u4e8c\u6b65\uff1a\u4f7f\u7528\u914d\u7f6e\u542f\u52a8\u4ee3\u7406\n\n```shell\n$ litellm --config /path/to/config.yaml\n'})}),"\n",(0,a.jsxs)(n.admonition,{type:"tip",children:[(0,a.jsxs)(n.p,{children:["\u5982\u679c\u9700\u8981\u8be6\u7ec6\u7684\u8c03\u8bd5\u65e5\u5fd7\uff0c\u53ef\u4ee5\u8fd0\u884c ",(0,a.jsx)(n.code,{children:"--detailed_debug"})]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"$ litellm --config /path/to/config.yaml --detailed_debug\n"})})]}),"\n",(0,a.jsx)(n.h4,{id:"\u7b2c\u4e09\u6b65\u6d4b\u8bd5\u5b83",children:"\u7b2c\u4e09\u6b65\uff1a\u6d4b\u8bd5\u5b83"}),"\n",(0,a.jsxs)(n.p,{children:["\u5411\u6a21\u578b\u53d1\u9001\u8bf7\u6c42\uff0c\u5176\u4e2d ",(0,a.jsx)(n.code,{children:"model_name=gpt-4o"})," \u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u5982\u679c\u591a\u4e2a\u5177\u6709\u76f8\u540c ",(0,a.jsx)(n.code,{children:"model_name=gpt-4o"})," \u7684\u5b9e\u4f8b\u5b58\u5728\uff0c\u5219\u8fdb\u884c\u8d1f\u8f7d\u5747\u8861 ",(0,a.jsx)(n.a,{href:"https://docs.litellm.ai/docs/proxy/load_balancing",children:(0,a.jsx)(n.strong,{children:"\u8d1f\u8f7d\u5747\u8861"})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.a,{href:"../proxy/user_keys#%E8%AF%B7%E6%B1%82%E6%A0%BC%E5%BC%8F",children:"Langchain\u3001OpenAI SDK \u4f7f\u7528\u793a\u4f8b"})})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'curl --location \'http://0.0.0.0:4000/chat/completions\' \\\n--header \'Content-Type: application/json\' \\\n--data \' {\n      "model": "gpt-4o",\n      "messages": [\n        {\n          "role": "user",\n          "content": "\u4f60\u662f\u4ec0\u4e48\u7c7b\u578b\u7684LLM"\n        }\n      ]\n    }\n\'\n'})}),"\n",(0,a.jsxs)(n.h2,{id:"llm-\u914d\u7f6e-model_list",children:["LLM \u914d\u7f6e ",(0,a.jsx)(n.code,{children:"model_list"})]}),"\n",(0,a.jsx)(n.h3,{id:"\u6a21\u578b\u7279\u5b9a\u53c2\u6570api-base\u5bc6\u94a5\u6e29\u5ea6\u6700\u5927\u4ee4\u724c\u6570\u7ec4\u7ec7\u7b49",children:"\u6a21\u578b\u7279\u5b9a\u53c2\u6570\uff08API Base\u3001\u5bc6\u94a5\u3001\u6e29\u5ea6\u3001\u6700\u5927\u4ee4\u724c\u6570\u3001\u7ec4\u7ec7\u7b49\uff09"}),"\n",(0,a.jsx)(n.p,{children:"\u60a8\u53ef\u4ee5\u4f7f\u7528\u914d\u7f6e\u6765\u4fdd\u5b58\u6a21\u578b\u7279\u5b9a\u7684\u4fe1\u606f\uff0c\u5982 api_base\u3001api_key\u3001temperature\u3001max_tokens \u7b49\u3002"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://docs.litellm.ai/docs/completion/input#input-params-1",children:(0,a.jsx)(n.strong,{children:"\u6240\u6709\u8f93\u5165\u53c2\u6570"})})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\u6b65\u9aa4 1"}),": \u521b\u5efa\u4e00\u4e2a ",(0,a.jsx)(n.code,{children:"config.yaml"})," \u6587\u4ef6"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: gpt-4-team1\n    litellm_params: # litellm.completion() \u7684\u53c2\u6570 - https://docs.litellm.ai/docs/completion/input#input---request-body\n      model: azure/chatgpt-v-2\n      api_base: https://openai-gpt-4-test-v-1.openai.azure.com/\n      api_version: "2023-05-15"\n      azure_ad_token: eyJ0eXAiOiJ\n      seed: 12\n      max_tokens: 20\n  - model_name: gpt-4-team2\n    litellm_params:\n      model: azure/gpt-4\n      api_key: sk-123\n      api_base: https://openai-gpt-4-test-v-2.openai.azure.com/\n      temperature: 0.2\n  - model_name: openai-gpt-4o\n    litellm_params:\n      model: openai/gpt-4o\n      extra_headers: {"AI-Resource Group": "ishaan-resource"}\n      api_key: sk-123\n      organization: org-ikDc4ex8NB\n      temperature: 0.2\n  - model_name: mistral-7b\n    litellm_params:\n      model: ollama/mistral\n      api_base: your_ollama_api_base\n'})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\u6b65\u9aa4 2"}),": \u4f7f\u7528\u914d\u7f6e\u542f\u52a8\u670d\u52a1\u5668"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"$ litellm --config /path/to/config.yaml\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\u9884\u671f\u65e5\u5fd7\uff1a"})}),"\n",(0,a.jsxs)(n.p,{children:["\u5728\u63a7\u5236\u53f0\u65e5\u5fd7\u4e2d\u67e5\u627e\u6b64\u884c\u4ee5\u786e\u8ba4\u5df2\u6b63\u786e\u52a0\u8f7d\u4e86 ",(0,a.jsx)(n.code,{children:"config.yaml"}),"\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"LiteLLM: \u4ee3\u7406\u521d\u59cb\u5316\uff0c\u8bbe\u7f6e\u6a21\u578b\uff1a\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u5d4c\u5165\u5f0f\u6a21\u578b---\u4f7f\u7528-sagemakerbedrockazureopenaixinference",children:"\u5d4c\u5165\u5f0f\u6a21\u578b - \u4f7f\u7528 SageMaker\u3001Bedrock\u3001Azure\u3001OpenAI\u3001XInference"}),"\n",(0,a.jsxs)(n.p,{children:["\u8bf7\u53c2\u9605\u53d7\u652f\u6301\u7684\u5d4c\u5165\u5f0f\u63d0\u4f9b\u7a0b\u5e8f\u53ca\u6a21\u578b ",(0,a.jsx)(n.a,{href:"https://docs.litellm.ai/docs/embedding/supported_embedding",children:"\u8fd9\u91cc"})]}),"\n",(0,a.jsxs)(s.A,{children:[(0,a.jsx)(t.A,{value:"bedrock",label:"Bedrock \u5b8c\u6210/\u804a\u5929",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: bedrock-cohere\n    litellm_params:\n      model: "bedrock/cohere.command-text-v14"\n      aws_region_name: "us-west-2"\n  - model_name: bedrock-cohere\n    litellm_params:\n      model: "bedrock/cohere.command-text-v14"\n      aws_region_name: "us-east-2"\n  - model_name: bedrock-cohere\n    litellm_params:\n      model: "bedrock/cohere.command-text-v14"\n      aws_region_name: "us-east-1"\n\n'})})}),(0,a.jsxs)(t.A,{value:"sagemaker",label:"SageMaker\u3001Bedrock \u5d4c\u5165",children:[(0,a.jsx)(n.p,{children:"\u8fd9\u662f\u5982\u4f55\u5728\u4ee3\u7406\u670d\u52a1\u5668\u4e0a\u8def\u7531 GPT-J \u5d4c\u5165\uff08SageMaker \u7aef\u70b9\uff09\u3001Amazon Titan \u5d4c\u5165\uff08Bedrock\uff09\u548c Azure OpenAI \u5d4c\u5165\u7684\uff1a"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: sagemaker-embeddings\n    litellm_params: \n      model: "sagemaker/berri-benchmarking-gpt-j-6b-fp16"\n  - model_name: amazon-embeddings\n    litellm_params:\n      model: "bedrock/amazon.titan-embed-text-v1"\n  - model_name: azure-embeddings\n    litellm_params: \n      model: "azure/azure-embedding-model"\n      api_base: "os.environ/AZURE_API_BASE" # os.getenv("AZURE_API_BASE")\n      api_key: "os.environ/AZURE_API_KEY" # os.getenv("AZURE_API_KEY")\n      api_version: "2023-07-01-preview"\n\ngeneral_settings:\n  master_key: sk-1234 # [\u53ef\u9009] \u5982\u679c\u8bbe\u7f6e\uff0c\u5219\u6240\u6709\u5bf9\u4ee3\u7406\u7684\u8c03\u7528\u5c06\u9700\u8981\u6b64\u5bc6\u94a5\u6216\u6709\u6548\u7684\u751f\u6210\u4ee4\u724c\n'})})]}),(0,a.jsxs)(t.A,{value:"Hugging Face emb",label:"Hugging Face \u5d4c\u5165",children:[(0,a.jsxs)(n.p,{children:["LiteLLM \u4ee3\u7406\u652f\u6301\u6240\u6709 ",(0,a.jsx)("a",{href:"https://huggingface.co/models?pipeline_tag=feature-extraction",children:"\u7279\u5f81\u63d0\u53d6\u5d4c\u5165\u6a21\u578b"}),"\u3002"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"model_list:\n  - model_name: deployed-codebert-base\n    litellm_params: \n      # \u5411\u90e8\u7f72\u7684 Hugging Face \u63a8\u7406\u7aef\u70b9\u53d1\u9001\u8bf7\u6c42\n      model: huggingface/microsoft/codebert-base # \u6dfb\u52a0 `huggingface` \u524d\u7f00\u4ee5\u8def\u7531\u5230 Hugging Face\n      api_key: hf_LdS                            # \u7528\u4e8e Hugging Face \u63a8\u7406\u7aef\u70b9\u7684 API \u5bc6\u94a5\n      api_base: https://uysneno1wv2wd4lw.us-east-1.aws.endpoints.huggingface.cloud # \u60a8\u7684 HF \u63a8\u7406\u7aef\u70b9 \n  - model_name: codebert-base\n    litellm_params: \n      # \u672a\u8bbe\u7f6e `api_base`\uff0c\u5411 Hugging Face \u514d\u8d39\u63a8\u7406 API https://api-inference.huggingface.co/models/ \u53d1\u9001\u8bf7\u6c42\n      model: huggingface/microsoft/codebert-base # \u6dfb\u52a0 `huggingface` \u524d\u7f00\u4ee5\u8def\u7531\u5230 Hugging Face\n      api_key: hf_LdS                            # \u7528\u4e8e Hugging Face \u7684 API \u5bc6\u94a5\n\n"})})]}),(0,a.jsx)(t.A,{value:"azure",label:"Azure OpenAI \u5d4c\u5165",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"model_list:\n  - model_name: azure-embedding-model # \u6a21\u578b\u7ec4\n    litellm_params:\n      model: azure/azure-embedding-model # \u8c03\u7528 `litellm.embedding(model=azure/azure-embedding-model)` \u7684\u6a21\u578b\u540d\u79f0\n      api_base: your-azure-api-base\n      api_key: your-api-key\n      api_version: 2023-07-01-preview\n"})})}),(0,a.jsx)(t.A,{value:"openai",label:"OpenAI \u5d4c\u5165",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"model_list:\n- model_name: text-embedding-ada-002 # \u6a21\u578b\u7ec4\n  litellm_params:\n    model: text-embedding-ada-002 # \u8c03\u7528 `litellm.embedding(model=text-embedding-ada-002)` \u7684\u6a21\u578b\u540d\u79f0\n    api_key: your-api-key-1\n- model_name: text-embedding-ada-002 \n  litellm_params:\n    model: text-embedding-ada-002\n    api_key: your-api-key-2\n"})})}),(0,a.jsxs)(t.A,{value:"xinf",label:"XInference",children:[(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://docs.litellm.ai/docs/providers/xinference",children:"https://docs.litellm.ai/docs/providers/xinference"})}),(0,a.jsx)(n.p,{children:(0,a.jsxs)(n.strong,{children:["\u6ce8\u610f\uff1a\u5728 ",(0,a.jsx)(n.code,{children:"litellm_params"})," \u4e2d\u6dfb\u52a0 ",(0,a.jsx)(n.code,{children:"xinference/"})," \u524d\u7f00\u5230 ",(0,a.jsx)(n.code,{children:"model"}),"\uff0c\u4ee5\u4fbf litellm \u77e5\u9053\u8981\u8def\u7531\u5230 OpenAI\u3002"]})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"model_list:\n- model_name: embedding-model  # \u6a21\u578b\u7ec4\n  litellm_params:\n    model: xinference/bge-base-en   # \u8c03\u7528 `litellm.embedding(model=xinference/bge-base-en)` \u7684\u6a21\u578b\u540d\u79f0 \n    api_base: http://0.0.0.0:9997/v1\n"})})]}),(0,a.jsxs)(t.A,{value:"openai emb",label:"OpenAI \u517c\u5bb9\u5d4c\u5165",children:[(0,a.jsxs)("p",{children:["\u4f7f\u7528\u6b64\u529f\u80fd\u8c03\u7528 ",(0,a.jsx)("a",{href:"https://github.com/xorbitsai/inference",children:"\u517c\u5bb9 OpenAI \u670d\u52a1\u5668\u4e0a\u7684 /embedding \u7aef\u70b9"}),"\u3002"]}),(0,a.jsx)(n.p,{children:(0,a.jsxs)(n.strong,{children:["\u6ce8\u610f\uff1a\u5728 ",(0,a.jsx)(n.code,{children:"litellm_params"})," \u4e2d\u6dfb\u52a0 ",(0,a.jsx)(n.code,{children:"openai/"})," \u524d\u7f00\u5230 ",(0,a.jsx)(n.code,{children:"model"}),"\uff0c\u4ee5\u4fbf litellm \u77e5\u9053\u8981\u8def\u7531\u5230 OpenAI\u3002"]})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"model_list:\n- model_name: text-embedding-ada-002  # \u6a21\u578b\u7ec4\n  litellm_params:\n    model: openai/<your-model-name>   # \u8c03\u7528 `litellm.embedding(model=text-embedding-ada-002)` \u7684\u6a21\u578b\u540d\u79f0 \n    api_base: <model-api-base>\n"})})]})]}),"\n",(0,a.jsx)(n.h4,{id:"\u542f\u52a8\u4ee3\u7406",children:"\u542f\u52a8\u4ee3\u7406"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"litellm --config config.yaml\n"})}),"\n",(0,a.jsx)(n.h4,{id:"\u53d1\u9001\u8bf7\u6c42",children:"\u53d1\u9001\u8bf7\u6c42"}),"\n",(0,a.jsxs)(n.p,{children:["\u5411 ",(0,a.jsx)(n.code,{children:"bedrock-cohere"})," \u53d1\u9001\u8bf7\u6c42\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'curl --location \'http://0.0.0.0:4000/chat/completions\' \\\n  --header \'Content-Type: application/json\' \\\n  --data \' {\n  "model": "bedrock-cohere",\n  "messages": [\n      {\n      "role": "user",\n      "content": "gm"\n      }\n  ]\n}\'\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u591a\u4e2a-openai-\u7ec4\u7ec7",children:"\u591a\u4e2a OpenAI \u7ec4\u7ec7"}),"\n",(0,a.jsx)(n.p,{children:"\u4f7f\u7528\u4e00\u4e2a\u6a21\u578b\u5b9a\u4e49\u6dfb\u52a0\u6240\u6709\u8de8\u591a\u4e2a OpenAI \u7ec4\u7ec7\u7684 OpenAI \u6a21\u578b\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"  - model_name: *\n    litellm_params:\n      model: openai/*\n      api_key: os.environ/OPENAI_API_KEY\n      organization:\n       - org-1 \n       - org-2 \n       - org-3\n"})}),"\n",(0,a.jsx)(n.p,{children:"LiteLLM \u5c06\u4e3a\u6bcf\u4e2a\u7ec4\u7ec7\u81ea\u52a8\u521b\u5efa\u5355\u72ec\u7684\u90e8\u7f72\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u786e\u8ba4\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"curl --location 'http://0.0.0.0:4000/v1/model/info' \\\n--header 'Authorization: Bearer ${LITELLM_KEY}' \\\n--data ''\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u8d1f\u8f7d\u5747\u8861",children:"\u8d1f\u8f7d\u5747\u8861"}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.p,{children:["\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 ",(0,a.jsx)(n.a,{href:"https://docs.litellm.ai/docs/proxy/load_balancing",children:"\u6b64\u9875\u9762"})]})}),"\n",(0,a.jsx)(n.p,{children:"\u4f7f\u7528\u6b64\u529f\u80fd\u8c03\u7528\u591a\u4e2a\u76f8\u540c\u6a21\u578b\u7684\u5b9e\u4f8b\uff0c\u5e76\u914d\u7f6e\u8def\u7531\u7b56\u7565\u7b49\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u4e3a\u4e86\u6700\u4f73\u6027\u80fd\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\u8bbe\u7f6e\u6bcf\u4e2a\u6a21\u578b\u90e8\u7f72\u7684 ",(0,a.jsx)(n.code,{children:"tpm/rpm"}),"\u3002\u57fa\u4e8e\u5df2\u5efa\u7acb\u7684 tpm/rpm \u8fdb\u884c\u52a0\u6743\u9009\u62e9\u3002"]}),"\n",(0,a.jsxs)(n.li,{children:["\u4ece ",(0,a.jsx)(n.code,{children:"router_settings:routing_strategy"})," \u4e2d\u9009\u62e9\u60a8\u7684\u6700\u4f18\u8def\u7531\u7b56\u7565\u3002"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"LiteLLM \u652f\u6301"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'["simple-shuffle", "least-busy", "usage-based-routing","latency-based-routing"], default="simple-shuffle"`\n'})}),"\n",(0,a.jsxs)(n.p,{children:["\u5f53 ",(0,a.jsx)(n.code,{children:"tpm/rpm"})," \u8bbe\u7f6e\u4e14 ",(0,a.jsx)(n.code,{children:"routing_strategy==simple-shuffle"})," \u65f6\uff0clitellm \u5c06\u57fa\u4e8e\u5df2\u8bbe\u7f6e\u7684 tpm/rpm \u8fdb\u884c\u52a0\u6743\u9009\u62e9\u3002",(0,a.jsxs)(n.strong,{children:["\u5728\u6211\u4eec\u7684\u8d1f\u8f7d\u6d4b\u8bd5\u4e2d\uff0c\u4e3a\u6240\u6709\u90e8\u7f72\u8bbe\u7f6e ",(0,a.jsx)(n.code,{children:"tpm/rpm"})," \u5e76\u5c06 ",(0,a.jsx)(n.code,{children:"routing_strategy==simple-shuffle"})," \u6700\u5927\u5316\u4e86\u541e\u5410\u91cf"]})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\u5f53\u4f7f\u7528\u591a\u4e2a LiteLLM \u670d\u52a1\u5668 / Kubernetes \u65f6\uff0c\u8bf7\u8bbe\u7f6e Redis \u8bbe\u7f6e ",(0,a.jsx)(n.code,{children:"router_settings:redis_host"})," \u7b49"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: zephyr-beta\n    litellm_params:\n        model: huggingface/HuggingFaceH4/zephyr-7b-beta\n        api_base: http://0.0.0.0:8001\n        rpm: 60      # \u53ef\u9009[int]\uff1a\u5f53\u8bbe\u7f6e `rpm/tpm` - litellm \u4f7f\u7528\u52a0\u6743\u9009\u62e9\u8fdb\u884c\u8d1f\u8f7d\u5747\u8861\u3002rpm = \u6bcf\u5206\u949f\u8bf7\u6c42\u6570 (rpm)\u3002\n        tpm: 1000   # \u53ef\u9009[int]\uff1atpm = \u6bcf\u5206\u949f\u4ee4\u724c\u6570 \n  - model_name: zephyr-beta\n    litellm_params:\n        model: huggingface/HuggingFaceH4/zephyr-7b-beta\n        api_base: http://0.0.0.0:8002\n        rpm: 600      \n  - model_name: zephyr-beta\n    litellm_params:\n        model: huggingface/HuggingFaceH4/zephyr-7b-beta\n        api_base: http://0.0.0.0:8003\n        rpm: 60000      \n  - model_name: gpt-4o\n    litellm_params:\n        model: gpt-4o\n        api_key: <my-openai-key>\n        rpm: 200      \n  - model_name: gpt-3.5-turbo-16k\n    litellm_params:\n        model: gpt-3.5-turbo-16k\n        api_key: <my-openai-key>\n        rpm: 100      \n\nlitellm_settings:\n  num_retries: 3 # \u5bf9\u6bcf\u4e2a `model_name` (\u4f8b\u5982 zephyr-beta) \u5c1d\u8bd5\u8c03\u7528 3 \u6b21\n  request_timeout: 10 # \u5982\u679c\u8c03\u7528\u8d85\u8fc7 10s \u5219\u629b\u51fa\u8d85\u65f6\u9519\u8bef\u3002\u8bbe\u7f6e litellm.request_timeout \n  fallbacks: [{"zephyr-beta": ["gpt-4o"]}] # \u8c03\u7528\u5931\u8d25\u540e\uff0c\u56de\u9000\u5230 gpt-4o\n  context_window_fallbacks: [{"zephyr-beta": ["gpt-3.5-turbo-16k"]}, {"gpt-4o": ["gpt-3.5-turbo-16k"]}] # \u8c03\u7528\u4e0a\u4e0b\u6587\u7a97\u53e3\u9519\u8bef\u540e\uff0c\u56de\u9000\u5230 gpt-3.5-turbo-16k\n  allowed_fails: 3 # \u5982\u679c\u5728\u4e00\u5206\u949f\u5185\u5931\u8d25\u8d85\u8fc7\u4e00\u6b21\uff0c\u5219\u51b7\u5374\u6a21\u578b\u3002\n\nrouter_settings: # router_settings \u662f\u53ef\u9009\u7684\n  routing_strategy: simple-shuffle # Literal["simple-shuffle", "least-busy", "usage-based-routing","latency-based-routing"], default="simple-shuffle"\n  model_group_alias: {"gpt-4": "gpt-4o"} # \u6240\u6709\u5e26\u6709 `gpt-4` \u7684\u8bf7\u6c42\u5c06\u8def\u7531\u5230\u5e26\u6709 `gpt-4o` \u7684\u6a21\u578b\n  num_retries: 2\n  timeout: 30                                  # 30 \u79d2\n  redis_host: <\u60a8\u7684 Redis \u4e3b\u673a>                # \u4f7f\u7528\u591a\u4e2a LiteLLM \u4ee3\u7406\u90e8\u7f72\u65f6\uff0c\u8d1f\u8f7d\u5747\u8861\u72b6\u6001\u5b58\u50a8\u5728 Redis \u4e2d\uff0c\u8bf7\u8bbe\u7f6e\u6b64\u503c\n  redis_password: <\u60a8\u7684 Redis \u5bc6\u7801>\n  redis_port: 1992\n'})}),"\n",(0,a.jsxs)(n.p,{children:["\u60a8\u53ef\u4ee5\u67e5\u770b ",(0,a.jsx)(n.a,{href:"https://docs.litellm.ai/docs/proxy/virtual_keys",children:"\u865a\u62df\u5bc6\u94a5"})," \u6216 ",(0,a.jsx)(n.a,{href:"https://docs.litellm.ai/docs/proxy/logging",children:"\u81ea\u5b9a\u4e49\u56de\u8c03"})," \u6765\u4e86\u89e3\u6210\u672c\u3002"]}),"\n",(0,a.jsx)(n.h3,{id:"\u4ece\u73af\u5883\u52a0\u8f7d-api-\u5bc6\u94a5--\u914d\u7f6e\u503c",children:"\u4ece\u73af\u5883\u52a0\u8f7d API \u5bc6\u94a5 / \u914d\u7f6e\u503c"}),"\n",(0,a.jsxs)(n.p,{children:["\u5982\u679c\u60a8\u5728\u73af\u5883\u4e2d\u4fdd\u5b58\u4e86\u79d8\u5bc6\uff0c\u5e76\u4e14\u4e0d\u60f3\u5c06\u5b83\u4eec\u66b4\u9732\u5728 ",(0,a.jsx)(n.code,{children:"config.yaml"})," \u4e2d\uff0c\u8fd9\u91cc\u662f\u5982\u4f55\u4ece\u73af\u5883\u4e2d\u52a0\u8f7d\u6a21\u578b\u7279\u5b9a\u7684\u5bc6\u94a5\u3002",(0,a.jsx)(n.strong,{children:"\u8fd9\u9002\u7528\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u4efb\u4f55\u503c"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'os.environ/<YOUR-ENV-VAR> # \u8fd0\u884c os.getenv("YOUR-ENV-VAR")\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: gpt-4-team1\n    litellm_params: # litellm.completion() \u7684\u53c2\u6570 - https://docs.litellm.ai/docs/completion/input#input---request-body\n      model: azure/chatgpt-v-2\n      api_base: https://openai-gpt-4-test-v-1.openai.azure.com/\n      api_version: "2023-05-15"\n      api_key: os.environ/AZURE_NORTH_AMERICA_API_KEY # \ud83d\udc48 \u5bc6\u94a5\u66f4\u6539\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://github.com/BerriAI/litellm/blob/c12d6c3fe80e1b5e704d9846b246c059defadce7/litellm/utils.py#L2366",children:(0,a.jsx)(n.strong,{children:"\u67e5\u770b\u4ee3\u7801"})})}),"\n",(0,a.jsxs)(n.p,{children:["\u611f\u8c22 ",(0,a.jsx)(n.a,{href:"https://www.linkedin.com/in/davidmanouchehri/",children:"@David Manouchehri"})," \u7684\u5e2e\u52a9\u3002"]}),"\n",(0,a.jsx)(n.h3,{id:"\u4e2d\u5fc3\u5316\u51ed\u8bc1\u7ba1\u7406",children:"\u4e2d\u5fc3\u5316\u51ed\u8bc1\u7ba1\u7406"}),"\n",(0,a.jsx)(n.p,{children:"\u5b9a\u4e49\u4e00\u6b21\u51ed\u8bc1\u5e76\u5728\u591a\u4e2a\u6a21\u578b\u4e2d\u91cd\u7528\u3002\u8fd9\u6709\u52a9\u4e8e\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u5bc6\u94a5\u8f6e\u6362"}),"\n",(0,a.jsx)(n.li,{children:"\u51cf\u5c11\u914d\u7f6e\u91cd\u590d"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'model_list:\n  - model_name: gpt-4o\n    litellm_params:\n      model: azure/gpt-4o\n      litellm_credential_name: default_azure_credential  # \u5f15\u7528\u4ee5\u4e0b\u51ed\u8bc1\n\ncredential_list:\n  - credential_name: default_azure_credential\n    credential_values:\n      api_key: os.environ/AZURE_API_KEY  # \u4ece\u73af\u5883\u52a0\u8f7d\n      api_base: os.environ/AZURE_API_BASE\n      api_version: "2023-05-15"\n    credential_info:\n      description: "\u751f\u4ea7\u533a\u57df\u7684\u51ed\u8bc1"\n'})}),"\n",(0,a.jsx)(n.h4,{id:"\u5173\u952e\u53c2\u6570",children:"\u5173\u952e\u53c2\u6570"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"credential_name"}),": \u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u7528\u4e8e\u8bc6\u522b\u51ed\u8bc1\u96c6"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"credential_values"}),": \u7531\u952e\u503c\u5bf9\u7ec4\u6210\u7684\u51ed\u8bc1/\u79d8\u5bc6\uff08\u652f\u6301 ",(0,a.jsx)(n.code,{children:"os.environ/"})," \u8bed\u6cd5\uff09"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"credential_info"}),": \u7528\u6237\u63d0\u4f9b\u7684\u51ed\u8bc1\u4fe1\u606f\u5b57\u5178\u3002\u4e0d\u9700\u8981\u952e\u503c\u5bf9\uff0c\u4f46\u5fc5\u987b\u5b58\u5728\u3002"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"\u4ece\u5bc6\u94a5\u7ba1\u7406\u5668\u52a0\u8f7d-api-\u5bc6\u94a5-azure-vault-\u7b49",children:"\u4ece\u5bc6\u94a5\u7ba1\u7406\u5668\u52a0\u8f7d API \u5bc6\u94a5 (Azure Vault \u7b49)"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"../secret",children:(0,a.jsx)(n.strong,{children:"\u4f7f\u7528 LiteLLM Proxy \u7684\u5bc6\u94a5\u7ba1\u7406\u5668"})})}),"\n",(0,a.jsxs)(n.h3,{id:"\u8bbe\u7f6e\u652f\u6301\u7684\u73af\u5883---\u751f\u4ea7\u6d4b\u8bd5\u5f00\u53d1",children:["\u8bbe\u7f6e\u652f\u6301\u7684\u73af\u5883 - ",(0,a.jsx)(n.code,{children:"\u751f\u4ea7"}),"\u3001",(0,a.jsx)(n.code,{children:"\u6d4b\u8bd5"}),"\u3001",(0,a.jsx)(n.code,{children:"\u5f00\u53d1"})]}),"\n",(0,a.jsx)(n.p,{children:"\u5982\u679c\u60a8\u60f3\u63a7\u5236\u7279\u5b9a litellm \u73af\u5883\u4e2d\u66b4\u9732\u54ea\u4e2a\u6a21\u578b"}),"\n",(0,a.jsx)(n.p,{children:"\u652f\u6301\u7684\u73af\u5883\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"\u751f\u4ea7"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"\u6d4b\u8bd5"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"\u5f00\u53d1"})}),"\n"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["\u5728\u73af\u5883\u4e2d\u8bbe\u7f6e ",(0,a.jsx)(n.code,{children:'LITELLM_ENVIRONMENT="<environment>"'}),"\u3002\u53ef\u4ee5\u662f ",(0,a.jsx)(n.code,{children:"production"}),", ",(0,a.jsx)(n.code,{children:"staging"})," \u6216 ",(0,a.jsx)(n.code,{children:"development"})]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["\u4e3a\u6bcf\u4e2a\u6a21\u578b\u5728 ",(0,a.jsx)(n.code,{children:"model_info.supported_environments"})," \u4e2d\u8bbe\u7f6e\u652f\u6301\u7684\u73af\u5883\u5217\u8868"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'model_list:\n - model_name: gpt-3.5-turbo-16k\n   litellm_params:\n     model: openai/gpt-3.5-turbo-16k\n     api_key: os.environ/OPENAI_API_KEY\n   model_info:\n     supported_environments: ["development", "production", "staging"]\n - model_name: gpt-4\n   litellm_params:\n     model: openai/gpt-4\n     api_key: os.environ/OPENAI_API_KEY\n   model_info:\n     supported_environments: ["production", "staging"]\n - model_name: gpt-4o\n   litellm_params:\n     model: openai/gpt-4o\n     api_key: os.environ/OPENAI_API_KEY\n   model_info:\n     supported_environments: ["production"]\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u63d0\u793a\u6a21\u677f",children:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u63d0\u793a\u6a21\u677f"}),"\n",(0,a.jsxs)(n.p,{children:["LiteLLM \u9ed8\u8ba4\u4f1a\u68c0\u67e5\u6a21\u578b\u662f\u5426\u6709 ",(0,a.jsx)(n.a,{href:"/docs/completion/prompt_formatting",children:"\u63d0\u793a\u6a21\u677f\u5e76\u5e94\u7528\u5b83"}),"\uff08\u4f8b\u5982\uff0c\u5982\u679c HuggingFace \u6a21\u578b\u5728\u5b83\u7684 tokenizer_config.json \u4e2d\u4fdd\u5b58\u4e86\u804a\u5929\u6a21\u677f\uff09\u3002\u4f46\u662f\u60a8\u4e5f\u53ef\u4ee5\u5728 ",(0,a.jsx)(n.code,{children:"config.yaml"})," \u4e2d\u8bbe\u7f6e\u4ee3\u7406\u4e0a\u7684\u81ea\u5b9a\u4e49\u63d0\u793a\u6a21\u677f\uff1a"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\u6b65\u9aa4 1"}),": \u5728 ",(0,a.jsx)(n.code,{children:"config.yaml"})," \u4e2d\u4fdd\u5b58\u60a8\u7684\u63d0\u793a\u6a21\u677f"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'# \u6a21\u578b\u7279\u5b9a\u53c2\u6570\nmodel_list:\n  - model_name: mistral-7b # \u6a21\u578b\u522b\u540d\n    litellm_params: # \u5b9e\u9645\u7684 litellm.completion() \u53c2\u6570\n      model: "huggingface/mistralai/Mistral-7B-Instruct-v0.1" \n      api_base: "<\u60a8\u7684 API \u57fa\u7840>"\n      api_key: "<\u60a8\u7684 API \u5bc6\u94a5>" # [\u53ef\u9009] \u5bf9\u4e8e HF \u63a8\u7406\u7aef\u70b9\n      initial_prompt_value: "\\n"\n      roles: {"system":{"pre_message":"\n'})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},7227(e,n,l){l.d(n,{A:()=>s});l(96540);var i=l(18215);const a="tabItem_Ymn6";var r=l(74848);function s({children:e,hidden:n,className:l}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,i.A)(a,l),hidden:n,children:e})}},49489(e,n,l){l.d(n,{A:()=>k});var i=l(96540),a=l(18215),r=l(24245),s=l(56347),t=l(36494),d=l(62814),o=l(45167),c=l(69900);function m(e){return i.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:n,children:l}=e;return(0,i.useMemo)(()=>{const e=n??function(e){return m(e).map(({props:{value:e,label:n,attributes:l,default:i}})=>({value:e,label:n,attributes:l,default:i}))}(l);return function(e){const n=(0,o.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,l])}function h({value:e,tabValues:n}){return n.some(n=>n.value===e)}function u({queryString:e=!1,groupId:n}){const l=(0,s.W6)(),a=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,d.aZ)(a),(0,i.useCallback)(e=>{if(!a)return;const n=new URLSearchParams(l.location.search);n.set(a,e),l.replace({...l.location,search:n.toString()})},[a,l])]}function g(e){const{defaultValue:n,queryString:l=!1,groupId:a}=e,r=p(e),[s,d]=(0,i.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!h({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const l=n.find(e=>e.default)??n[0];if(!l)throw new Error("Unexpected error: 0 tabValues");return l.value}({defaultValue:n,tabValues:r})),[o,m]=u({queryString:l,groupId:a}),[g,x]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[l,a]=(0,c.Dv)(n);return[l,(0,i.useCallback)(e=>{n&&a.set(e)},[n,a])]}({groupId:a}),_=(()=>{const e=o??g;return h({value:e,tabValues:r})?e:null})();(0,t.A)(()=>{_&&d(_)},[_]);return{selectedValue:s,selectValue:(0,i.useCallback)(e=>{if(!h({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);d(e),m(e),x(e)},[m,x,r]),tabValues:r}}var x=l(11062);const _="tabList__CuJ",j="tabItem_LNqP";var b=l(74848);function f({className:e,block:n,selectedValue:l,selectValue:i,tabValues:s}){const t=[],{blockElementScrollPositionUntilNextRender:d}=(0,r.a_)(),o=e=>{const n=e.currentTarget,a=t.indexOf(n),r=s[a].value;r!==l&&(d(n),i(r))},c=e=>{let n=null;switch(e.key){case"Enter":o(e);break;case"ArrowRight":{const l=t.indexOf(e.currentTarget)+1;n=t[l]??t[0];break}case"ArrowLeft":{const l=t.indexOf(e.currentTarget)-1;n=t[l]??t[t.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},e),children:s.map(({value:e,label:n,attributes:i})=>(0,b.jsx)("li",{role:"tab",tabIndex:l===e?0:-1,"aria-selected":l===e,ref:e=>{t.push(e)},onKeyDown:c,onClick:o,...i,className:(0,a.A)("tabs__item",j,i?.className,{"tabs__item--active":l===e}),children:n??e},e))})}function y({lazy:e,children:n,selectedValue:l}){const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=r.find(e=>e.props.value===l);return e?(0,i.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:r.map((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==l}))})}function v(e){const n=g(e);return(0,b.jsxs)("div",{className:(0,a.A)("tabs-container",_),children:[(0,b.jsx)(f,{...n,...e}),(0,b.jsx)(y,{...n,...e})]})}function k(e){const n=(0,x.A)();return(0,b.jsx)(v,{...e,children:m(e.children)},String(n))}}}]);