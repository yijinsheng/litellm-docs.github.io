"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[19361],{7227(e,l,n){n.d(l,{A:()=>a});n(96540);var r=n(18215);const s="tabItem_Ymn6";var t=n(74848);function a({children:e,hidden:l,className:n}){return(0,t.jsx)("div",{role:"tabpanel",className:(0,r.A)(s,n),hidden:l,children:e})}},17329(e,l,n){n.r(l),n.d(l,{assets:()=>u,contentTitle:()=>o,default:()=>p,frontMatter:()=>c,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"guides/security_settings","title":"SSL\u3001HTTP \u4ee3\u7406\u5b89\u5168\u8bbe\u7f6e","description":"\u5982\u679c\u4f60\u7684\u73af\u5883\u4f7f\u7528\u7684\u662f\u8f83\u65e7\u7248\u672c\u7684 TTS \u6346\u7ed1\u5305\uff0c\u5e76\u4e14\u9700\u8981\u66f4\u8001\u7684\u52a0\u5bc6\u65b9\u5f0f\uff0c\u8bf7\u9075\u5faa\u672c\u6307\u5357\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cLiteLLM \u4f7f\u7528 certifi CA \u67d3\u8272\u4f53\u8fdb\u884c SSL \u9a8c\u8bc1\uff0c\u8fd9\u4e0e\u5927\u591a\u6570\u73b0\u4ee3\u670d\u52a1\u5668\u517c\u5bb9\u3002","source":"@site/docs/guides/security_settings.md","sourceDirName":"guides","slug":"/guides/security_settings","permalink":"/docs/guides/security_settings","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u8c03\u7528\u5fae\u8c03\u6a21\u578b","permalink":"/docs/guides/finetuned_models"},"next":{"title":"\u4f7f\u7528 Google AI Studio \u751f\u6210 Veo \u89c6\u9891","permalink":"/docs/proxy/veo_video_generation"}}');var s=n(74848),t=n(28453),a=n(49489),i=n(7227);const c={},o="SSL\u3001HTTP \u4ee3\u7406\u5b89\u5168\u8bbe\u7f6e",u={},d=[{value:"1. \u81ea\u5b9a\u4e49 CA \u67d3\u8272\u4f53",id:"1-\u81ea\u5b9a\u4e49-ca-\u67d3\u8272\u4f53",level:2},{value:"2. \u7981\u7528 SSL \u9a8c\u8bc1",id:"2-\u7981\u7528-ssl-\u9a8c\u8bc1",level:2},{value:"3. \u964d\u4f4e\u5b89\u5168\u8bbe\u7f6e",id:"3-\u964d\u4f4e\u5b89\u5168\u8bbe\u7f6e",level:2},{value:"4. \u8bc1\u4e66\u8ba4\u8bc1",id:"4-\u8bc1\u4e66\u8ba4\u8bc1",level:2},{value:"5. \u914d\u7f6e\u7528\u4e8e SSL/TLS \u6027\u80fd\u7684 ECDH \u66f2\u7ebf",id:"5-\u914d\u7f6e\u7528\u4e8e-ssltls-\u6027\u80fd\u7684-ecdh-\u66f2\u7ebf",level:2},{value:"6. \u4f7f\u7528 HTTP_PROXY \u73af\u5883\u53d8\u91cf",id:"6-\u4f7f\u7528-http_proxy-\u73af\u5883\u53d8\u91cf",level:2}];function h(e){const l={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.header,{children:(0,s.jsx)(l.h1,{id:"sslhttp-\u4ee3\u7406\u5b89\u5168\u8bbe\u7f6e",children:"SSL\u3001HTTP \u4ee3\u7406\u5b89\u5168\u8bbe\u7f6e"})}),"\n",(0,s.jsx)(l.p,{children:"\u5982\u679c\u4f60\u7684\u73af\u5883\u4f7f\u7528\u7684\u662f\u8f83\u65e7\u7248\u672c\u7684 TTS \u6346\u7ed1\u5305\uff0c\u5e76\u4e14\u9700\u8981\u66f4\u8001\u7684\u52a0\u5bc6\u65b9\u5f0f\uff0c\u8bf7\u9075\u5faa\u672c\u6307\u5357\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cLiteLLM \u4f7f\u7528 certifi CA \u67d3\u8272\u4f53\u8fdb\u884c SSL \u9a8c\u8bc1\uff0c\u8fd9\u4e0e\u5927\u591a\u6570\u73b0\u4ee3\u670d\u52a1\u5668\u517c\u5bb9\u3002\n\u7136\u800c\uff0c\u5982\u679c\u9700\u8981\u7981\u7528 SSL \u9a8c\u8bc1\u6216\u4f7f\u7528\u81ea\u5b9a\u4e49 CA \u67d3\u8272\u4f53\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u5b9e\u73b0\u3002"}),"\n",(0,s.jsx)(l.p,{children:"\u8bf7\u6ce8\u610f\uff0c\u73af\u5883\u53d8\u91cf\u4f18\u5148\u4e8e SDK \u4e2d\u7684\u8bbe\u7f6e\u3002"}),"\n",(0,s.jsx)(l.p,{children:"LiteLLM \u7528\u4e8e\u7f51\u7edc\u8bf7\u6c42\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u662f\u901a\u8fc7 HTTPX \u5b9e\u73b0\u7684\u3002"}),"\n",(0,s.jsx)(l.h2,{id:"1-\u81ea\u5b9a\u4e49-ca-\u67d3\u8272\u4f53",children:"1. \u81ea\u5b9a\u4e49 CA \u67d3\u8272\u4f53"}),"\n",(0,s.jsxs)(l.p,{children:["\u4f60\u53ef\u4ee5\u901a\u8fc7 ",(0,s.jsx)(l.code,{children:"SSL_CERT_FILE"})," \u73af\u5883\u53d8\u91cf\u6216\u5728 ssl_verify \u8bbe\u7f6e\u4e2d\u4f20\u9012\u5b57\u7b26\u4e32\u6765\u8bbe\u7f6e\u81ea\u5b9a\u4e49 CA \u67d3\u8272\u4f53\u6587\u4ef6\u8def\u5f84\u3002"]}),"\n",(0,s.jsxs)(a.A,{children:[(0,s.jsx)(i.A,{value:"sdk",label:"SDK",children:(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:'import litellm\nlitellm.ssl_verify = "client.pem"\n'})})}),(0,s.jsx)(i.A,{value:"proxy",label:"PROXY",children:(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-yaml",children:'litellm_settings:\n  ssl_verify: "client.pem"\n'})})}),(0,s.jsx)(i.A,{value:"env_var",label:"\u73af\u5883\u53d8\u91cf",children:(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-bash",children:'export SSL_CERT_FILE="client.pem"\n'})})})]}),"\n",(0,s.jsx)(l.h2,{id:"2-\u7981\u7528-ssl-\u9a8c\u8bc1",children:"2. \u7981\u7528 SSL \u9a8c\u8bc1"}),"\n",(0,s.jsxs)(a.A,{children:[(0,s.jsx)(i.A,{value:"sdk",label:"SDK",children:(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"import litellm\nlitellm.ssl_verify = False\n"})})}),(0,s.jsx)(i.A,{value:"proxy",label:"PROXY",children:(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-yaml",children:"litellm_settings:\n  ssl_verify: false\n"})})}),(0,s.jsx)(i.A,{value:"env_var",label:"\u73af\u5883\u53d8\u91cf",children:(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-bash",children:'export SSL_VERIFY="False"\n'})})})]}),"\n",(0,s.jsx)(l.h2,{id:"3-\u964d\u4f4e\u5b89\u5168\u8bbe\u7f6e",children:"3. \u964d\u4f4e\u5b89\u5168\u8bbe\u7f6e"}),"\n",(0,s.jsxs)(l.p,{children:[(0,s.jsx)(l.code,{children:"ssl_security_level"})," \u5141\u8bb8\u4e3a SSL \u8fde\u63a5\u8bbe\u7f6e\u8f83\u4f4e\u7684\u5b89\u5168\u7ea7\u522b\u3002"]}),"\n",(0,s.jsxs)(a.A,{children:[(0,s.jsx)(i.A,{value:"sdk",label:"SDK",children:(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:'import litellm\nlitellm.ssl_security_level = "DEFAULT@SECLEVEL=1"\n'})})}),(0,s.jsx)(i.A,{value:"proxy",label:"PROXY",children:(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-yaml",children:'litellm_settings:\n  ssl_security_level: "DEFAULT@SECLEVEL=1"\n'})})}),(0,s.jsx)(i.A,{value:"env_var",label:"\u73af\u5883\u53d8\u91cf",children:(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-bash",children:'export SSL_SECURITY_LEVEL="DEFAULT@SECLEVEL=1"\n'})})})]}),"\n",(0,s.jsx)(l.h2,{id:"4-\u8bc1\u4e66\u8ba4\u8bc1",children:"4. \u8bc1\u4e66\u8ba4\u8bc1"}),"\n",(0,s.jsxs)(l.p,{children:[(0,s.jsx)(l.code,{children:"SSL_CERTIFICATE"})," \u73af\u5883\u53d8\u91cf\u6216 ",(0,s.jsx)(l.code,{children:"ssl_certificate"})," \u5c5e\u6027\u5141\u8bb8\u8bbe\u7f6e\u5ba2\u6237\u7aef\u8bc1\u4e66\u4ee5\u9a8c\u8bc1\u5ba2\u6237\u7aef\u5230\u670d\u52a1\u5668\u7684\u8eab\u4efd\u3002"]}),"\n",(0,s.jsxs)(a.A,{children:[(0,s.jsx)(i.A,{value:"sdk",label:"SDK",children:(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:'import litellm\nlitellm.ssl_certificate = "/path/to/certificate.pem"\n'})})}),(0,s.jsx)(i.A,{value:"proxy",label:"PROXY",children:(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-yaml",children:'litellm_settings:\n  ssl_certificate: "/path/to/certificate.pem"\n'})})}),(0,s.jsx)(i.A,{value:"env_var",label:"\u73af\u5883\u53d8\u91cf",children:(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-bash",children:'export SSL_CERTIFICATE="/path/to/certificate.pem"\n'})})})]}),"\n",(0,s.jsx)(l.h2,{id:"5-\u914d\u7f6e\u7528\u4e8e-ssltls-\u6027\u80fd\u7684-ecdh-\u66f2\u7ebf",children:"5. \u914d\u7f6e\u7528\u4e8e SSL/TLS \u6027\u80fd\u7684 ECDH \u66f2\u7ebf"}),"\n",(0,s.jsxs)(l.p,{children:[(0,s.jsx)(l.code,{children:"ssl_ecdh_curve"})," \u8bbe\u7f6e\u5141\u8bb8\u4f60\u914d\u7f6e\u7528\u4e8e SSL/TLS \u5bc6\u94a5\u4ea4\u6362\u7684\u692d\u5706\u66f2\u7ebf Diffie-Hellman (ECDH)\u3002\u8fd9\u7279\u522b\u9002\u7528\u4e8e\u5728\u4e0d\u9700\u8981\u540e\u91cf\u5b50\u5bc6\u7801\u5b66\uff08PQC\uff09\u7684\u60c5\u51b5\u4e0b\u63d0\u9ad8\u6027\u80fd\u3002"]}),"\n",(0,s.jsxs)(l.p,{children:[(0,s.jsx)(l.strong,{children:"\u4f7f\u7528\u573a\u666f\uff1a"})," \u4e00\u4e9b OpenSSL 3.x \u7cfb\u7edf\u9ed8\u8ba4\u542f\u7528\u4e86 PQC\uff0c\u8fd9\u53ef\u80fd\u4f1a\u51cf\u6162 TLS \u63e1\u624b\u8fc7\u7a0b\u3002\u5c06 ECDH \u66f2\u7ebf\u8bbe\u7f6e\u4e3a ",(0,s.jsx)(l.code,{children:"X25519"})," \u53ef\u4ee5\u7981\u7528 PQC \u5e76\u663e\u8457\u63d0\u5347\u8fde\u63a5\u6027\u80fd\u3002"]}),"\n",(0,s.jsxs)(a.A,{children:[(0,s.jsx)(i.A,{value:"sdk",label:"SDK",children:(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:'import litellm\nlitellm.ssl_ecdh_curve = "X25519"  # \u7981\u7528 PQC \u63d0\u5347\u6027\u80fd\n'})})}),(0,s.jsx)(i.A,{value:"proxy",label:"PROXY",children:(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-yaml",children:'litellm_settings:\n  ssl_ecdh_curve: "X25519"\n'})})}),(0,s.jsx)(i.A,{value:"env_var",label:"\u73af\u5883\u53d8\u91cf",children:(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-bash",children:'export SSL_ECDH_CURVE="X25519"\n'})})})]}),"\n",(0,s.jsx)(l.p,{children:(0,s.jsx)(l.strong,{children:"\u5e38\u89c1\u6709\u6548\u66f2\u7ebf\uff1a"})}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"X25519"})," - \u73b0\u4ee3\u3001\u5feb\u901f\u7684\u66f2\u7ebf\uff08\u63a8\u8350\u7528\u4e8e\u7981\u7528 PQC\uff09"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"prime256v1"})," - NIST P-256 \u66f2\u7ebf"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"secp384r1"})," - NIST P-384 \u66f2\u7ebf"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.code,{children:"secp521r1"})," - NIST P-521 \u66f2\u7ebf"]}),"\n"]}),"\n",(0,s.jsxs)(l.p,{children:[(0,s.jsx)(l.strong,{children:"\u6ce8\u610f\uff1a"})," \u5982\u679c\u63d0\u4f9b\u7684\u66f2\u7ebf\u540d\u79f0\u65e0\u6548\u6216\u4f60\u7684 Python/OpenSSL \u7248\u672c\u4e0d\u652f\u6301\u6b64\u529f\u80fd\uff0cLiteLLM \u5c06\u8bb0\u5f55\u8b66\u544a\u5e76\u7ee7\u7eed\u4f7f\u7528\u9ed8\u8ba4\u66f2\u7ebf\u3002"]}),"\n",(0,s.jsx)(l.h2,{id:"6-\u4f7f\u7528-http_proxy-\u73af\u5883\u53d8\u91cf",children:"6. \u4f7f\u7528 HTTP_PROXY \u73af\u5883\u53d8\u91cf"}),"\n",(0,s.jsxs)(l.p,{children:["httpx \u548c aiohttp \u5e93\u4f1a\u4ece\u73af\u5883\u53d8\u91cf ",(0,s.jsx)(l.code,{children:"urllib.request.getproxies"})," \u4e2d\u83b7\u53d6\u4ee3\u7406\u3002\u5728\u5ba2\u6237\u7aef\u521d\u59cb\u5316\u4e4b\u524d\uff0c\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u6765\u8bbe\u7f6e\u4ee3\u7406\uff08\u4ee5\u53ca\u53ef\u9009\u7684 SSL_CERT_FILE\uff09\uff1a"]}),"\n",(0,s.jsxs)(a.A,{children:[(0,s.jsxs)(i.A,{value:"sdk",label:"SDK",children:[(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"import litellm\nlitellm.aiohttp_trust_env = True\n"})}),(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-bash",children:"export HTTPS_PROXY='http://username:password@proxy_uri:port'\n"})})]}),(0,s.jsx)(i.A,{value:"proxy",label:"PROXY",children:(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-bash",children:"export HTTPS_PROXY='http://username:password@proxy_uri:port'\nexport AIOHTTP_TRUST_ENV='True'\n"})})})]})]})}function p(e={}){const{wrapper:l}={...(0,t.R)(),...e.components};return l?(0,s.jsx)(l,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453(e,l,n){n.d(l,{R:()=>a,x:()=>i});var r=n(96540);const s={},t=r.createContext(s);function a(e){const l=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(l):{...l,...e}},[l,e])}function i(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(t.Provider,{value:l},e.children)}},49489(e,l,n){n.d(l,{A:()=>y});var r=n(96540),s=n(18215),t=n(24245),a=n(56347),i=n(36494),c=n(62814),o=n(45167),u=n(69900);function d(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:l}=e;return!!l&&"object"==typeof l&&"value"in l}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function h(e){const{values:l,children:n}=e;return(0,r.useMemo)(()=>{const e=l??function(e){return d(e).map(({props:{value:e,label:l,attributes:n,default:r}})=>({value:e,label:l,attributes:n,default:r}))}(n);return function(e){const l=(0,o.XI)(e,(e,l)=>e.value===l.value);if(l.length>0)throw new Error(`Docusaurus error: Duplicate values "${l.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[l,n])}function p({value:e,tabValues:l}){return l.some(l=>l.value===e)}function x({queryString:e=!1,groupId:l}){const n=(0,a.W6)(),s=function({queryString:e=!1,groupId:l}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!l)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return l??null}({queryString:e,groupId:l});return[(0,c.aZ)(s),(0,r.useCallback)(e=>{if(!s)return;const l=new URLSearchParams(n.location.search);l.set(s,e),n.replace({...n.location,search:l.toString()})},[s,n])]}function m(e){const{defaultValue:l,queryString:n=!1,groupId:s}=e,t=h(e),[a,c]=(0,r.useState)(()=>function({defaultValue:e,tabValues:l}){if(0===l.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:l}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${l.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=l.find(e=>e.default)??l[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:l,tabValues:t})),[o,d]=x({queryString:n,groupId:s}),[m,j]=function({groupId:e}){const l=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,s]=(0,u.Dv)(l);return[n,(0,r.useCallback)(e=>{l&&s.set(e)},[l,s])]}({groupId:s}),v=(()=>{const e=o??m;return p({value:e,tabValues:t})?e:null})();(0,i.A)(()=>{v&&c(v)},[v]);return{selectedValue:a,selectValue:(0,r.useCallback)(e=>{if(!p({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);c(e),d(e),j(e)},[d,j,t]),tabValues:t}}var j=n(11062);const v="tabList__CuJ",g="tabItem_LNqP";var f=n(74848);function b({className:e,block:l,selectedValue:n,selectValue:r,tabValues:a}){const i=[],{blockElementScrollPositionUntilNextRender:c}=(0,t.a_)(),o=e=>{const l=e.currentTarget,s=i.indexOf(l),t=a[s].value;t!==n&&(c(l),r(t))},u=e=>{let l=null;switch(e.key){case"Enter":o(e);break;case"ArrowRight":{const n=i.indexOf(e.currentTarget)+1;l=i[n]??i[0];break}case"ArrowLeft":{const n=i.indexOf(e.currentTarget)-1;l=i[n]??i[i.length-1];break}}l?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":l},e),children:a.map(({value:e,label:l,attributes:r})=>(0,f.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{i.push(e)},onKeyDown:u,onClick:o,...r,className:(0,s.A)("tabs__item",g,r?.className,{"tabs__item--active":n===e}),children:l??e},e))})}function S({lazy:e,children:l,selectedValue:n}){const t=(Array.isArray(l)?l:[l]).filter(Boolean);if(e){const e=t.find(e=>e.props.value===n);return e?(0,r.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:t.map((e,l)=>(0,r.cloneElement)(e,{key:l,hidden:e.props.value!==n}))})}function _(e){const l=m(e);return(0,f.jsxs)("div",{className:(0,s.A)("tabs-container",v),children:[(0,f.jsx)(b,{...l,...e}),(0,f.jsx)(S,{...l,...e})]})}function y(e){const l=(0,j.A)();return(0,f.jsx)(_,{...e,children:d(e.children)},String(l))}}}]);