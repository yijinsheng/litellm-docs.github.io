<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-exception_mapping" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">å¼‚å¸¸æ˜ å°„ | liteLLM</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.litellm.ai/img/docusaurus-social-card.png"><meta data-rh="true" name="twitter:image" content="https://docs.litellm.ai/img/docusaurus-social-card.png"><meta data-rh="true" property="og:url" content="https://docs.litellm.ai/docs/exception_mapping"><meta data-rh="true" property="og:locale" content="zh_CN"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="å¼‚å¸¸æ˜ å°„ | liteLLM"><meta data-rh="true" name="description" content="LiteLLM å°†æ‰€æœ‰æä¾›å•†çš„å¼‚å¸¸æ˜ å°„åˆ°å…¶å¯¹åº”çš„ OpenAI å¼‚å¸¸ã€‚"><meta data-rh="true" property="og:description" content="LiteLLM å°†æ‰€æœ‰æä¾›å•†çš„å¼‚å¸¸æ˜ å°„åˆ°å…¶å¯¹åº”çš„ OpenAI å¼‚å¸¸ã€‚"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.litellm.ai/docs/exception_mapping"><link data-rh="true" rel="alternate" href="https://docs.litellm.ai/docs/exception_mapping" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://docs.litellm.ai/docs/exception_mapping" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"å¼‚å¸¸æ˜ å°„","item":"https://docs.litellm.ai/docs/exception_mapping"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K7K215ZVNC"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-K7K215ZVNC",{anonymize_ip:!0})</script>





<link rel="alternate" type="application/rss+xml" href="/release_notes/rss.xml" title="liteLLM RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/release_notes/atom.xml" title="liteLLM Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="liteLLM RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="liteLLM Atom Feed">
<script>window.$crisp=[],window.CRISP_WEBSITE_ID="be07a4d6-dba0-4df7-961d-9302c86b7ebc",d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)</script>

<script async src="https://www.feedbackrocket.io/sdk/v1.2.js" data-fr-id="GQwepB0f0L-x_ZH63kR_V" data-fr-theme="dynamic"></script><link rel="stylesheet" href="/assets/css/styles.ab6b1187.css">
<script src="/assets/js/runtime~main.e2ac0700.js" defer="defer"></script>
<script src="/assets/js/main.cc386e68.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><nav aria-label="ä¸»å¯¼èˆª" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">ğŸš… LiteLLM</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" sidebarid="integrationsSidebar" href="/docs/integrations">Integrations</a><a class="navbar__item navbar__link" sidebarid="tutorialSidebar" href="/docs/enterprise">Enterprise</a><a class="navbar__item navbar__link" href="/release_notes">Release Notes</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://models.litellm.ai/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">ğŸ’¸ LLM Model Cost Map<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/BerriAI/litellm" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://www.litellm.ai/support" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Slack/Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºsystem modeï¼‰"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div id="inkeep-shadowradix-_R_7j5a5_" style="display:contents"></div><span></span></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="æ–‡æ¡£ä¾§è¾¹æ " class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/#litellm-python-sdk">LiteLLM Python SDK</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/#litellm-python-sdk">Quick Start</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/completion/input">SDK Functions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/set_keys">Configuration</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/token_usage">è¡¥å…¨ Token ä½¿ç”¨ä¸æˆæœ¬</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/exception_mapping">å¼‚å¸¸æ˜ å°„</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/langchain/">LangChain, LlamaIndex, Instructor</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/simple_proxy">LiteLLM AI Gateway (Proxy)</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» &#x27;LiteLLM AI Gateway (Proxy)&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/supported_endpoints">Supported Endpoints</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» &#x27;Supported Endpoints&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/providers">Supported Models &amp; Providers</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» &#x27;Supported Models &amp; Providers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/budget_manager">Guides</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/budget_manager">é¢„ç®—ç®¡ç†å™¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/computer_use">è®¡ç®—æœºä½¿ç”¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/web_search">Web æœç´¢</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/web_fetch">Web Fetch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/function_call">å‡½æ•°è°ƒç”¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/audio">ä½¿ç”¨éŸ³é¢‘æ¨¡å‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/document_understanding">ä½¿ç”¨ PDF è¾“å…¥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/drop_params">Drop ä¸æ”¯æŒçš„å‚æ•°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/image_generation_chat">èŠå¤©å®Œæˆã€å“åº” API ä¸­çš„å›¾åƒç”Ÿæˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/json_mode">ç»“æ„åŒ–è¾“å‡ºï¼ˆJSON æ¨¡å¼ï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/knowledgebase">ä½¿ç”¨å‘é‡å­˜å‚¨ï¼ˆçŸ¥è¯†åº“ï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/code_interpreter">ä»£ç è§£é‡Šå™¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/message_trimming">å‰ªè£è¾“å…¥æ¶ˆæ¯</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/model_alias">model_alias</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/mock_requests">Mock Completion() å“åº” - é™ä½æµ‹è¯•æˆæœ¬ ğŸ’°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/predict_outputs">é¢„æµ‹è¾“å‡º</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/prefix">å‰ç¼€åŠ©æ‰‹æ¶ˆæ¯</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/prompt_caching">æç¤ºç¼“å­˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/prompt_formatting">Prompt æ ¼å¼åŒ–</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/reliable_completions">å¯é æ€§ - é‡è¯•ä¸å›é€€</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/stream">æµå¼å“åº” + å¼‚æ­¥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/provider_specific_params">æä¾›å•†ç‰¹å®šå‚æ•°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/vision">ä½¿ç”¨è§†è§‰æ¨¡å‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/exception_mapping">å¼‚å¸¸æ˜ å°„</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/completion/batching">æ‰¹é‡å®Œæˆ()</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/finetuned_models">è°ƒç”¨å¾®è°ƒæ¨¡å‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/security_settings">SSLã€HTTP ä»£ç†å®‰å…¨è®¾ç½®</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/proxy/veo_video_generation">ä½¿ç”¨ Google AI Studio ç”Ÿæˆ Veo è§†é¢‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reasoning_content">&#x27;æ€è€ƒ&#x27; / &#x27;æ¨ç†å†…å®¹&#x27;</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/extras/creating_adapters">ä½¿ç”¨è‡ªå®šä¹‰æ ¼å¼è°ƒç”¨ LiteLLM æ¨¡å‹</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/routing-load-balancing">Routing, Loadbalancing &amp; Fallbacks</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» &#x27;Routing, Loadbalancing &amp; Fallbacks&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/benchmarks">Load Testing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/tutorials/openweb_ui">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/extras/contributing_code">Contributing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/sdk_custom_pricing">Extras</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/troubleshoot">æ”¯æŒä¸åˆ›å§‹äººäº¤æµ</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="é¡µé¢è·¯å¾„"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="ä¸»é¡µé¢" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">LiteLLM Python SDK</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">å¼‚å¸¸æ˜ å°„</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><header><h1>å¼‚å¸¸æ˜ å°„</h1></header>
<p>LiteLLM å°†æ‰€æœ‰æä¾›å•†çš„å¼‚å¸¸æ˜ å°„åˆ°å…¶å¯¹åº”çš„ OpenAI å¼‚å¸¸ã€‚</p>
<p>æ‰€æœ‰å¼‚å¸¸éƒ½å¯ä»¥ä» <code>litellm</code> å¯¼å…¥ - ä¾‹å¦‚ <code>from litellm import BadRequestError</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="litellm-å¼‚å¸¸">LiteLLM å¼‚å¸¸<a href="#litellm-å¼‚å¸¸" class="hash-link" aria-label="LiteLLM å¼‚å¸¸çš„ç›´æ¥é“¾æ¥" title="LiteLLM å¼‚å¸¸çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<table><thead><tr><th>çŠ¶æ€ç </th><th>é”™è¯¯ç±»å‹</th><th>ç»§æ‰¿è‡ª</th><th>æè¿°</th></tr></thead><tbody><tr><td>400</td><td>BadRequestError</td><td>openai.BadRequestError</td><td></td></tr><tr><td>400</td><td>UnsupportedParamsError</td><td>litellm.BadRequestError</td><td>å½“ä¼ é€’ä¸æ”¯æŒçš„å‚æ•°æ—¶æŠ›å‡º</td></tr><tr><td>400</td><td>ContextWindowExceededError</td><td>litellm.BadRequestError</td><td>ä¸Šä¸‹æ–‡çª—å£è¶…å‡ºé”™è¯¯æ¶ˆæ¯çš„ç‰¹æ®Šé”™è¯¯ç±»å‹ - å¯ç”¨ä¸Šä¸‹æ–‡çª—å£å›é€€</td></tr><tr><td>400</td><td>ContentPolicyViolationError</td><td>litellm.BadRequestError</td><td>å†…å®¹ç­–ç•¥è¿è§„é”™è¯¯æ¶ˆæ¯çš„ç‰¹æ®Šé”™è¯¯ç±»å‹ - å¯ç”¨å†…å®¹ç­–ç•¥å›é€€</td></tr><tr><td>400</td><td>ImageFetchError</td><td>litellm.BadRequestError</td><td>è·å–æˆ–å¤„ç†å›¾åƒæ—¶å‡ºé”™æ—¶æŠ›å‡º</td></tr><tr><td>400</td><td>InvalidRequestError</td><td>openai.BadRequestError</td><td>å·²å¼ƒç”¨çš„é”™è¯¯ï¼Œè¯·æ”¹ç”¨ BadRequestError</td></tr><tr><td>401</td><td>AuthenticationError</td><td>openai.AuthenticationError</td><td></td></tr><tr><td>403</td><td>PermissionDeniedError</td><td>openai.PermissionDeniedError</td><td></td></tr><tr><td>404</td><td>NotFoundError</td><td>openai.NotFoundError</td><td>å½“ä¼ é€’æ— æ•ˆæ¨¡å‹æ—¶æŠ›å‡ºï¼Œä¾‹å¦‚ gpt-8</td></tr><tr><td>408</td><td>Timeout</td><td>openai.APITimeoutError</td><td>å‘ç”Ÿè¶…æ—¶æ—¶æŠ›å‡º</td></tr><tr><td>422</td><td>UnprocessableEntityError</td><td>openai.UnprocessableEntityError</td><td></td></tr><tr><td>429</td><td>RateLimitError</td><td>openai.RateLimitError</td><td></td></tr><tr><td>500</td><td>APIConnectionError</td><td>openai.APIConnectionError</td><td>å¦‚æœè¿”å›ä»»ä½•æœªæ˜ å°„çš„é”™è¯¯ï¼Œæˆ‘ä»¬è¿”å›æ­¤é”™è¯¯</td></tr><tr><td>500</td><td>APIError</td><td>openai.APIError</td><td>é€šç”¨ 500 çŠ¶æ€ç é”™è¯¯</td></tr><tr><td>503</td><td>ServiceUnavailableError</td><td>openai.APIStatusError</td><td>å¦‚æœæä¾›å•†è¿”å›æœåŠ¡ä¸å¯ç”¨é”™è¯¯ï¼Œåˆ™æŠ›å‡ºæ­¤é”™è¯¯</td></tr><tr><td>&gt;=500</td><td>InternalServerError</td><td>openai.InternalServerError</td><td>å¦‚æœè¿”å›ä»»ä½•æœªæ˜ å°„çš„ 500 çŠ¶æ€ç é”™è¯¯ï¼Œåˆ™æŠ›å‡ºæ­¤é”™è¯¯</td></tr><tr><td>N/A</td><td>APIResponseValidationError</td><td>openai.APIResponseValidationError</td><td>å¦‚æœä½¿ç”¨äº†è§„åˆ™ï¼Œå¹¶ä¸”è¯·æ±‚/å“åº”æœªé€šè¿‡è§„åˆ™ï¼Œåˆ™æŠ›å‡ºæ­¤é”™è¯¯</td></tr><tr><td>N/A</td><td>BudgetExceededError</td><td>Exception</td><td>å¯¹äºä»£ç†ï¼Œå½“è¶…å‡ºé¢„ç®—æ—¶æŠ›å‡º</td></tr><tr><td>N/A</td><td>JSONSchemaValidationError</td><td>litellm.APIResponseValidationError</td><td>å½“å“åº”ä¸é¢„æœŸçš„ json æ¶æ„ä¸åŒ¹é…æ—¶æŠ›å‡º - å¦‚æœä¼ é€’äº† <code>response_schema</code> å‚æ•°å¹¶è®¾ç½®äº† <code>enforce_validation=True</code> æ—¶ä½¿ç”¨</td></tr><tr><td>N/A</td><td>MockException</td><td>Exception</td><td>å†…éƒ¨å¼‚å¸¸ï¼Œç”± mock_completion ç±»æŠ›å‡ºã€‚è¯·å‹¿ç›´æ¥ä½¿ç”¨</td></tr><tr><td>N/A</td><td>OpenAIError</td><td>openai.OpenAIError</td><td>å·²å¼ƒç”¨çš„å†…éƒ¨å¼‚å¸¸ï¼Œç»§æ‰¿è‡ª openai.OpenAIErrorã€‚</td></tr></tbody></table>
<p>åŸºç¡€æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿”å› APIConnectionError</p>
<p>æˆ‘ä»¬æ‰€æœ‰çš„å¼‚å¸¸éƒ½ç»§æ‰¿è‡ª OpenAI çš„å¼‚å¸¸ç±»å‹ï¼Œå› æ­¤æ‚¨å¯¹è¯¥å¼‚å¸¸çš„ä»»ä½•é”™è¯¯å¤„ç†éƒ½åº”è¯¥å¯ä»¥ç›´æ¥ä¸ LiteLLM é…åˆä½¿ç”¨ã€‚</p>
<p>å¯¹äºæ‰€æœ‰æƒ…å†µï¼Œè¿”å›çš„å¼‚å¸¸éƒ½ç»§æ‰¿è‡ªåŸå§‹ OpenAI å¼‚å¸¸ï¼Œä½†åŒ…å« 3 ä¸ªé¢å¤–å±æ€§ï¼š</p>
<ul>
<li>status_code - å¼‚å¸¸çš„ http çŠ¶æ€ç </li>
<li>message - é”™è¯¯æ¶ˆæ¯</li>
<li>llm_provider - æŠ›å‡ºå¼‚å¸¸çš„æä¾›å•†</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç”¨æ³•">ç”¨æ³•<a href="#ç”¨æ³•" class="hash-link" aria-label="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> litellm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> openai</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> litellm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">completion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                model</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;gpt-4&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                messages</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token string" style="color:#e3116c">&quot;role&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token string" style="color:#e3116c">&quot;content&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hello, write a 20 pageg essay&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                timeout</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.01</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># è¿™å°†æŠ›å‡ºè¶…æ—¶å¼‚å¸¸</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> openai</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">APITimeoutError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Passed: Raised correct exception. Got openai.APITimeoutError\nGood Job&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">type</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">pass</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç”¨æ³•---æ•è·æµå¼å¼‚å¸¸">ç”¨æ³• - æ•è·æµå¼å¼‚å¸¸<a href="#ç”¨æ³•---æ•è·æµå¼å¼‚å¸¸" class="hash-link" aria-label="ç”¨æ³• - æ•è·æµå¼å¼‚å¸¸çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³• - æ•è·æµå¼å¼‚å¸¸çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> litellm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> litellm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">completion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;gpt-3.5-turbo&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        messages</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;role&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;content&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hello, write a 20 pg essay&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        timeout</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.0001</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># è¿™å°†æŠ›å‡ºå¼‚å¸¸</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        stream</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> chunk </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">chunk</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> openai</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">APITimeoutError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Passed: Raised correct exception. Got openai.APITimeoutError\nGood Job&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">type</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">pass</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Did not raise error `openai.APITimeoutError`. Instead raised error type: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation builtin">type</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">, Error: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç”¨æ³•---æ˜¯å¦åº”è¯¥é‡è¯•å¼‚å¸¸">ç”¨æ³• - æ˜¯å¦åº”è¯¥é‡è¯•å¼‚å¸¸ï¼Ÿ<a href="#ç”¨æ³•---æ˜¯å¦åº”è¯¥é‡è¯•å¼‚å¸¸" class="hash-link" aria-label="ç”¨æ³• - æ˜¯å¦åº”è¯¥é‡è¯•å¼‚å¸¸ï¼Ÿçš„ç›´æ¥é“¾æ¥" title="ç”¨æ³• - æ˜¯å¦åº”è¯¥é‡è¯•å¼‚å¸¸ï¼Ÿçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import litellm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import openai</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">try:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    response = litellm.completion(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model=&quot;gpt-4&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        messages=[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;role&quot;: &quot;user&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;content&quot;: &quot;hello, write a 20 pageg essay&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        timeout=0.01, # è¿™å°†æŠ›å‡ºè¶…æ—¶å¼‚å¸¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">except openai.APITimeoutError as e:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    should_retry = litellm._should_retry(e.status_code)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(f&quot;should_retry: {should_retry}&quot;)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="é«˜çº§ç”¨æ³•">é«˜çº§ç”¨æ³•<a href="#é«˜çº§ç”¨æ³•" class="hash-link" aria-label="é«˜çº§ç”¨æ³•çš„ç›´æ¥é“¾æ¥" title="é«˜çº§ç”¨æ³•çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="è®¿é—®æä¾›å•†ç‰¹å®šçš„é”™è¯¯è¯¦ç»†ä¿¡æ¯">è®¿é—®æä¾›å•†ç‰¹å®šçš„é”™è¯¯è¯¦ç»†ä¿¡æ¯<a href="#è®¿é—®æä¾›å•†ç‰¹å®šçš„é”™è¯¯è¯¦ç»†ä¿¡æ¯" class="hash-link" aria-label="è®¿é—®æä¾›å•†ç‰¹å®šçš„é”™è¯¯è¯¦ç»†ä¿¡æ¯çš„ç›´æ¥é“¾æ¥" title="è®¿é—®æä¾›å•†ç‰¹å®šçš„é”™è¯¯è¯¦ç»†ä¿¡æ¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>LiteLLM å¼‚å¸¸åŒ…å«ä¸€ä¸ª <code>provider_specific_fields</code> å±æ€§ï¼Œå…¶ä¸­åŒ…å«æ¯ä¸ªæä¾›å•†ç‰¹æœ‰çš„é¢å¤–é”™è¯¯ä¿¡æ¯ã€‚è¿™å¯¹äº Azure OpenAI ç‰¹åˆ«æœ‰ç”¨ï¼Œå®ƒæä¾›äº†è¯¦ç»†çš„å†…å®¹è¿‡æ»¤ä¿¡æ¯ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="azure-openai---å†…å®¹ç­–ç•¥è¿è§„å†…éƒ¨é”™è¯¯è®¿é—®">Azure OpenAI - å†…å®¹ç­–ç•¥è¿è§„å†…éƒ¨é”™è¯¯è®¿é—®<a href="#azure-openai---å†…å®¹ç­–ç•¥è¿è§„å†…éƒ¨é”™è¯¯è®¿é—®" class="hash-link" aria-label="Azure OpenAI - å†…å®¹ç­–ç•¥è¿è§„å†…éƒ¨é”™è¯¯è®¿é—®çš„ç›´æ¥é“¾æ¥" title="Azure OpenAI - å†…å®¹ç­–ç•¥è¿è§„å†…éƒ¨é”™è¯¯è®¿é—®çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>å½“ Azure OpenAI è¿”å›å†…å®¹ç­–ç•¥è¿è§„æ—¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡ <code>innererror</code> å­—æ®µè®¿é—®è¯¦ç»†çš„å†…å®¹è¿‡æ»¤ç»“æœï¼š</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> litellm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> litellm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exceptions </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> ContentPolicyViolationError</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> litellm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">completion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;azure/gpt-4&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        messages</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;role&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;content&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Some content that might violate policies&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> ContentPolicyViolationError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># è®¿é—® Azure ç‰¹å®šçš„é”™è¯¯è¯¦ç»†ä¿¡æ¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">provider_specific_fields </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;innererror&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">provider_specific_fields</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        innererror </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">provider_specific_fields</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;innererror&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># è®¿é—®å†…å®¹è¿‡æ»¤å™¨ç»“æœ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        content_filter_result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> innererror</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;content_filter_result&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Content filter code: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">innererror</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">get</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&#x27;code&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Hate filtered: {content_filter_result.get(&#x27;hate&#x27;, {}).get(&#x27;filtered&#x27;)}&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Violence severity: {content_filter_result.get(&#x27;violence&#x27;, {}).get(&#x27;severity&#x27;)}&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Sexual content filtered: {content_filter_result.get(&#x27;sexual&#x27;, {}).get(&#x27;filtered&#x27;)}&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>ç¤ºä¾‹å“åº”ç»“æ„ï¼š</strong></p>
<p>å½“è°ƒç”¨ LiteLLM ä»£ç†æ—¶ï¼Œå†…å®¹ç­–ç•¥è¿è§„å°†è¿”å›è¯¦ç»†çš„è¿‡æ»¤ä¿¡æ¯ï¼š</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;error&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;litellm.ContentPolicyViolationError: AzureException - The response was filtered due to the prompt triggering Azure OpenAI&#x27;s content management policy...&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;param&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;code&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;400&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;provider_specific_fields&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;innererror&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;code&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ResponsibleAIPolicyViolation&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;content_filter_result&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;hate&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;filtered&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;severity&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;high&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;jailbreak&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;filtered&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;detected&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;self_harm&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;filtered&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;severity&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;safe&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;sexual&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;filtered&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;severity&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;safe&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;violence&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;filtered&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;severity&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;medium&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## è¯¦ç»†ä¿¡æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">è¦æŸ¥çœ‹å¦‚ä½•å®ç° - </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">æŸ¥çœ‹ä»£ç </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">(https</span><span class="token operator" style="color:#393A34">:</span><span class="token comment" style="color:#999988;font-style:italic">//github.com/BerriAI/litellm/blob/a42c197e5a6de56ea576c73715e6c7c6b19fa249/litellm/utils.py#L1217)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å¦‚æœæ‚¨æƒ³æ”¹è¿›å¼‚å¸¸æ˜ å°„ï¼Œè¯·</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">åˆ›å»º issue</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">(https</span><span class="token operator" style="color:#393A34">:</span><span class="token comment" style="color:#999988;font-style:italic">//github.com/BerriAI/litellm/issues/new)**æˆ–**[æäº¤ PR](https://github.com/BerriAI/litellm/pulls)ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">**æ³¨æ„** å¯¹äº OpenAI å’Œ Azureï¼Œæˆ‘ä»¬è¿”å›åŸå§‹å¼‚å¸¸ï¼ˆå› ä¸ºå®ƒä»¬å±äº OpenAI é”™è¯¯ç±»å‹ï¼‰ã€‚ä½†æˆ‘ä»¬ä¸ºå®ƒä»¬æ·»åŠ äº† &#x27;llm_provider&#x27; å±æ€§ã€‚</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">æŸ¥çœ‹ä»£ç </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">(https</span><span class="token operator" style="color:#393A34">:</span><span class="token comment" style="color:#999988;font-style:italic">//github.com/BerriAI/litellm/blob/a42c197e5a6de56ea576c73715e6c7c6b19fa249/litellm/utils.py#L1221)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## è‡ªå®šä¹‰æ˜ å°„åˆ—è¡¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">åŸºç¡€æƒ…å†µ - æˆ‘ä»¬è¿”å› `litellm.APIConnectionError` å¼‚å¸¸ï¼ˆç»§æ‰¿è‡ª openai çš„ APIConnectionError å¼‚å¸¸ï¼‰ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| custom_llm_provider        | Timeout | ContextWindowExceededError | BadRequestError | NotFoundError | ContentPolicyViolationError | AuthenticationError | APIError | RateLimitError | ServiceUnavailableError | PermissionDeniedError | UnprocessableEntityError |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|----------------------------|---------|----------------------------|------------------|---------------|-----------------------------|---------------------|----------|----------------|-------------------------|-----------------------|-------------------------|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| openai                     | âœ“       | âœ“                          | âœ“                |               | âœ“                           | âœ“                   |          |                |                         |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| watsonx                     |       | | | | | | |âœ“| | | |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| text-completion-openai     | âœ“       | âœ“                          | âœ“                |               | âœ“                           | âœ“                   |          |                |                         |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| custom_openai              | âœ“       | âœ“                          | âœ“                |               | âœ“                           | âœ“                   |          |                |                         |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| openai_compatible_providers| âœ“       | âœ“                          | âœ“                |               | âœ“                           | âœ“                   |          |                |                         |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| anthropic                  | âœ“       | âœ“                          | âœ“                | âœ“             |                             | âœ“                   |          |                | âœ“                       | âœ“                     |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| replicate                  | âœ“       | âœ“                          | âœ“                | âœ“             |                             | âœ“                   |          | âœ“              | âœ“                       |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| bedrock                    | âœ“       | âœ“                          | âœ“                | âœ“             |                             | âœ“                   |          | âœ“              | âœ“                       | âœ“                     |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| sagemaker                  |         | âœ“                          | âœ“                |               |                             |                     |          |                |                         |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| vertex_ai                  | âœ“       |                            | âœ“                |               |                             |                     | âœ“        |                |                         |                       | âœ“                         |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| palm                       | âœ“       | âœ“                          |                  |               |                             |                     | âœ“        |                |                         |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| gemini                     | âœ“       | âœ“                          |                  |               |                             |                     | âœ“        |                |                         |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| cloudflare                 |         |                            | âœ“                |               |                             | âœ“                   |          |                |                         |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| cohere                     |         | âœ“                          | âœ“                |               |                             | âœ“                   |          |                | âœ“                       |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| cohere_chat                |         | âœ“                          | âœ“                |               |                             | âœ“                   |          |                | âœ“                       |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| huggingface                | âœ“       | âœ“                          | âœ“                |               |                             | âœ“                   |          | âœ“              | âœ“                       |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ai21                       | âœ“       | âœ“                          | âœ“                | âœ“             |                             | âœ“                   |          | âœ“              |                         |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| nlp_cloud                  | âœ“       | âœ“                          | âœ“                |               |                             | âœ“                   | âœ“        | âœ“              | âœ“                       |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| together_ai                | âœ“       | âœ“                          | âœ“                |               |                             | âœ“                   |          |                |                         |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| aleph_alpha                |         |                            | âœ“                |               |                             | âœ“                   |          |                |                         |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ollama                     | âœ“       |                            | âœ“                |               |                             |                     |          |                | âœ“                       |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ollama_chat                | âœ“       |                            | âœ“                |               |                             |                     |          |                | âœ“                       |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| vllm                       |         |                            |                  |               |                             | âœ“                   | âœ“        |                |                         |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| azure                      | âœ“       | âœ“                          | âœ“                | âœ“             | âœ“                           | âœ“                   |          |                | âœ“                       |                       |                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- </span><span class="token string" style="color:#e3116c">&quot;âœ“&quot;</span><span class="token plain"> è¡¨ç¤ºæŒ‡å®šçš„ `custom_llm_provider` å¯ä»¥æŠ›å‡ºç›¸åº”çš„å¼‚å¸¸ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- ç©ºå•å…ƒæ ¼è¡¨ç¤ºç¼ºå°‘å…³è”æˆ–æä¾›å•†æœªæŒ‰å‡½æ•°æŒ‡ç¤ºæŠ›å‡ºè¯¥ç‰¹å®šå¼‚å¸¸ç±»å‹ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; è¦æ›´æ·±å…¥åœ°äº†è§£è¿™äº›å¼‚å¸¸ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">æ­¤</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">(https</span><span class="token operator" style="color:#393A34">:</span><span class="token comment" style="color:#999988;font-style:italic">//github.com/BerriAI/litellm/blob/d7e58d13bf9ba9edbab2ab2f096f3de7547f35fa/litellm/utils.py#L1544)å®ç°ä»¥è·å–æ›´å¤šè§è§£ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`ContextWindowExceededError` æ˜¯ `InvalidRequestError` çš„å­ç±»ã€‚å®ƒçš„å¼•å…¥æ˜¯ä¸ºäº†ä¸ºå¼‚å¸¸å¤„ç†åœºæ™¯æä¾›æ›´ç»†ç²’åº¦çš„æ§åˆ¶ã€‚è¯·å‚é˜…</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">æ­¤ issue ä»¥äº†è§£æ›´å¤šä¿¡æ¯</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">(https</span><span class="token operator" style="color:#393A34">:</span><span class="token comment" style="color:#999988;font-style:italic">//github.com/BerriAI/litellm/issues/228)ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ¬¢è¿è´¡çŒ®ä»¥æ”¹è¿›å¼‚å¸¸æ˜ å°„</span><br></span></code></pre></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="æ–‡ä»¶é€‰é¡¹å¡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/completion/token_usage"><div class="pagination-nav__sublabel">ä¸Šä¸€é¡µ</div><div class="pagination-nav__label">è¡¥å…¨ Token ä½¿ç”¨ä¸æˆæœ¬</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/langchain/"><div class="pagination-nav__sublabel">ä¸‹ä¸€é¡µ</div><div class="pagination-nav__label">ä½¿ç”¨ ChatLiteLLM() - Langchain</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#litellm-å¼‚å¸¸" class="table-of-contents__link toc-highlight">LiteLLM å¼‚å¸¸</a></li><li><a href="#ç”¨æ³•" class="table-of-contents__link toc-highlight">ç”¨æ³•</a></li><li><a href="#ç”¨æ³•---æ•è·æµå¼å¼‚å¸¸" class="table-of-contents__link toc-highlight">ç”¨æ³• - æ•è·æµå¼å¼‚å¸¸</a></li><li><a href="#ç”¨æ³•---æ˜¯å¦åº”è¯¥é‡è¯•å¼‚å¸¸" class="table-of-contents__link toc-highlight">ç”¨æ³• - æ˜¯å¦åº”è¯¥é‡è¯•å¼‚å¸¸ï¼Ÿ</a></li><li><a href="#é«˜çº§ç”¨æ³•" class="table-of-contents__link toc-highlight">é«˜çº§ç”¨æ³•</a><ul><li><a href="#è®¿é—®æä¾›å•†ç‰¹å®šçš„é”™è¯¯è¯¦ç»†ä¿¡æ¯" class="table-of-contents__link toc-highlight">è®¿é—®æä¾›å•†ç‰¹å®šçš„é”™è¯¯è¯¦ç»†ä¿¡æ¯</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.litellm.ai/docs/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Getting Started</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/wuPM9dRgDw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/LiteLLM" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/BerriAI/litellm/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2026 liteLLM</div></div></div></footer><div id="inkeep-shadowradix-_R_p_" style="display:contents"></div><span></span></div>
</body>
</html>